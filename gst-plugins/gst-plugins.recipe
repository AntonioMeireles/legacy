#
# Copyright (c) 2004-2005 rpath, Inc.
# All rights reserved
#

loadSuperClass('gnomepackage.recipe')
class GstPlugins(GnomePackageRecipe):

    extra_stuff = False
    buildRequires = [ 'gstreamer:devel', 'glib:devel', 'GConf:devel',
		'audiofile:devel', 'cdparanoia:devel', 'esound:devel',
		'alsa-lib:devel', 'gnome-vfs:devel', 'libjpeg:devel',
		'libpng:devel', 'SDL:devel', 'Hermes:devel',
		'libogg:devel', 'libvorbis:devel', 'ORBit2:devel',
		'arts:devel', 'atk:devel', 'cairo:devel', 'flac:devel',
		'fontconfig:devel', 'freetype:devel', 'jack:devel',
		'libbonobo:devel', 'libmng:devel', 'libmusicbrainz:devel',
		'libsndfile:devel', 'libstdc++:devel', 'libtheora:devel',
		'libxml2:devel', 'pango:devel', 'speex:devel' ]

    if extra_stuff:
        buildRequires.extend([ 'libraw1394:devel', 'speex:devel', 'flac:devel',
                               'libdv:devel', 'mikmod:runtime'])

    extraConfig = '--disable-spc'
        
    name = 'gst-plugins'
    version = '0.8.11'

    def unpack(r):
        GnomePackageRecipe.unpack(r)
	r.addPatch('gstreamer-plugins-0.8.10-cd-total-sectors.patch')

    def install(r):
        GnomePackageRecipe.install(r)
        r.ComponentSpec('runtime', '/usr/lib/gstreamer-%(majversion)s/.*')
