--- buildbot-0.7.5/buildbot/status/mail.py.orig	2007-05-16 17:56:40.000000000 -0400
+++ buildbot-0.7.5/buildbot/status/mail.py	2007-05-16 17:57:56.000000000 -0400
@@ -102,6 +102,8 @@
                      - 'failing': only send mail about builds which fail
                      - 'problem': only send mail about a build which failed
                      when the previous build passed
+                     - 'change': only send mail when the status is different
+                     than the prior build
 
         @type  builders: list of strings
         @param builders: a list of builder names for which mail should be
@@ -214,6 +216,10 @@
             prev = build.getPreviousBuild()
             if prev and prev.getResults() == FAILURE:
                 return
+        if self.mode == 'change':
+            prev = build.getPreviousBuild()
+            if prev and prev.getResults() == results:
+                return
         # for testing purposes, buildMessage returns a Deferred that fires
         # when the mail has been sent. To help unit tests, we return that
         # Deferred here even though the normal IStatusReceiver.buildFinished
