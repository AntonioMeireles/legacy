# vim:set ts=4 sw=4 et:
#
# Copyright (c) 2010 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#
class scummvm(AutoPackageRecipe):
    name = 'scummvm'
    version = '1.2.0'
    packageSummary = "Allows you to run certain classic graphical point-and-click adventure games."
    packageDescription = "Run certain classic graphical point-and-click adventure games."\
	"The clever part about this: ScummVM just replaces the executables shipped with the games,"\
	"allowing you to play them on systems for which they were never designed! "

    buildRequires = ['SDL:devel','alsa-lib:devel','glibc:devel','gcc','make:runtime',
                     'libgcc:devellib', 'libmad:devel','libogg:devel','libstdc++:devel',
                     'libvorbis:devel','zlib:devel','desktop-file-utils:runtime', 'file:runtime', 'flac:devel', 'fluidsynth:devel', 'mpeg2dec:devel', 'diffutils:runtime']

    def unpack(r):
       	r.addArchive('mirror://sourceforge/scummvm/')
        r.addSource('scummvm.desktop')

    def configure(r):
       	r.ManualConfigure('--mandir=%(mandir)s','--prefix=%(prefix)s', '--enable-all-engines', '--enable-mpeg2')

    def makeinstall(r):
       	r.MakeInstall()
        r.Install('icons/scummvm.svg','%(datadir)s/pixmaps/')
        r.Desktopfile('scummvm.desktop')
