#
# Copyright (c) 2006-2008 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Tor(AutoPackageRecipe):
    name = 'tor'
    version = '0.2.1.22'
    packageSummary = "Tor is free software and an open network that helps you defend against a form of network surveillance"
    packageDescription = "Tor is free software and an open network that helps you defend against a form of network surveillance that threatens personal freedom and privacy, confidential business activities and relationships, and state security known as traffic analysis."

    buildRequires = [ 'chkconfig:runtime',
		'krb5:devel',
		'libevent:devel',
		'openssl:devel', 
		'zlib:devel',
          ]

    def unpack(r):
        r.addArchive('http://tor.eff.org/dist/')
        r.addSource('tor.init', dest='%(initdir)s/tor', mode=0755)

        r.UtilizeUser('tor', '%(initdir)s/tor')
        r.UtilizeGroup('tor', '%(initdir)s/tor')
