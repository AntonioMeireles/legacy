# Antonio Meireles
# 
# sbin.reboot.sh

class Imake(CPackageRecipe):

   name = "imake"
   version = "1.0.2"

   buildRequires = ['perl:runtime', 'pkgconfig:devel', 'perl:lib', 'xproto:devel']

   def setup(r):
       
       r.addArchive('http://xorg.freedesktop.org/releases/individual/util/%(name)s-%(version)s.tar.bz2')
       r.addArchive('http://xorg.freedesktop.org/releases/individual/util/gccmakedep-1.0.2.tar.bz2')

       r.addArchive('http://xorg.freedesktop.org/releases/individual/util/lndir-1.0.1.tar.bz2')
       r.addArchive('http://xorg.freedesktop.org/releases/individual/util/makedepend-1.0.0.tar.bz2')
       r.addArchive('http://xorg.freedesktop.org/releases/individual/util/xorg-cf-files-1.0.2.tar.bz2')  
       r.addPatch('linux.config.patch', macros='true', 
       			dir='../xorg-cf-files-1.0.2')


       r.Configure(dir='../gccmakedep-1.0.2')
       r.Make(dir='../gccmakedep-1.0.2')
       r.MakeInstall(dir='../gccmakedep-1.0.2')

       r.Configure(dir='../lndir-1.0.1')
       r.Make(dir='../lndir-1.0.1')
       r.MakeInstall(dir='../lndir-1.0.1')

       r.Configure(dir='../makedepend-1.0.0')
       r.Make(dir='../makedepend-1.0.0')
       r.MakeInstall(dir='../makedepend-1.0.0')

       r.Configure(dir='../xorg-cf-files-1.0.2')
       r.Make(dir='../xorg-cf-files-1.0.2')
       r.MakeInstall(dir='../xorg-cf-files-1.0.2')

       r.Configure()
       r.Make()
       r.MakeInstall()
