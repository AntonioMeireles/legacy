#
# Copyright (c) 2006 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('rpmpackage')
class Libnl(RPMPackageRecipe, AutoPackageRecipe):
    name = 'libnl'
    version = '1.0'

    buildRequires = []

    rpmRelease = '0.15.%(preversion)s.git20071218.fc9'

    rpmPatches = [
        'libnl-1.0-pre5-static.patch',
        'libnl-1.0-pre5-debuginfo.patch',
    ]

    externalArchive = ('http://people.suug.ch/~tgr/libnl/files/'
                       '%(name)s-%(version)s-%(preversion)s.tar.gz')

    def unpack(r):
        r.macros.preversion = 'pre8'
        RPMPackageRecipe.unpack(r)
        r.addSource('%(name)s-1.pc', dest='%(libdir)s/pkgconfig/', macros=True)
