#
# Copyright (c) 2004 Specifix, Inc.
# All rights reserved
#

class Libxklavier(PackageRecipe):

    buildRequires = [ 'xorg-x11:devel', 'libxml2:devel' ] 
    if Use.builddocs:
	buildRequires.append('doxygen:runtime')

    name = 'libxklavier'
    version = '1.02'

    def setup(r):
	srpm = 'ftp://download.fedora.redhat.com/pub/fedora/linux/core/2/SRPMS/libxklavier-%(version)s-1.src.rpm'


	# Source: http://gswitchit.sourceforge.net/
	r.addArchive('%(name)s-%(version)s.tar.gz', rpm=srpm)  

	extraConfig = ''
	if Use.builddocs:
	    extraConfig += ' --enable-doxygen'
	r.Configure(' --with-xkb-base=%(x11prefix)s/lib/X11/xkb')
	r.Make()
	r.MakeInstall()
	r.Doc('AUTHORS', 'ChangeLog', 'NEWS', 'README', 'COPYING.LIB')
	r.Doc('doc/html/*.html', 'doc/html/*.png', 'doc/html/*.css',
	      component='devel')
