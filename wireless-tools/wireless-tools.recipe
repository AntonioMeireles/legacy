#
# Copyright (c) 2004-2005 rpath, Inc.
# All rights reserved
#
 
class WirelessTools(CPackageRecipe):
    
    name = 'wireless-tools'
    version = '28'
    
    def setup(r):
        r.disableParallelMake()
	r.addArchive('http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/wireless_tools.%(version)s.pre14.tar.gz')

        r.Make('BUILD_SHARED=1')
        r.MakeDirs('%(essentialsbindir)s', '%(libdir)s', '%(mandir)s/man8',
                   '%(includedir)s', '%(essentiallibdir)s')
        r.MakeInstall('INSTALL_DIR=%(destdir)s/%(essentialsbindir)s '
                      'INSTALL_LIB=%(destdir)s/%(essentiallibdir)s '
                      'INSTALL_INC=%(destdir)s/%(includedir)s '
                      'INSTALL_MAN=%(destdir)s/%(mandir)s')
        r.Remove('%(essentiallibdir)s/libiw.a')
        r.Symlink('%(essentiallibdir)s/libiw.so.%(version)s',
                  '%(libdir)s/libiw.so')
        r.AutoDoc('DISTRIBUTIONS.txt')

	r.ComponentSpec('lib','%(libdir)s/libiw.so')
