#
# Copyright (c) 2004-2005 rpath, Inc.
# All rights reserved
#
 
class WirelessTools(CPackageRecipe):
    
    name = 'wireless-tools'
    version = '27'
    
    def setup(r):
        r.disableParallelMake()

        r.addArchive('http://pcmcia-cs.sourceforge.net/ftp/contrib/wireless_tools.%(version)s.tar.gz')

        r.mainDir('wireless_tools.%(version)s')
        r.Make('BUILD_SHARED=1')
        
        r.MakeDirs('%(essentialsbindir)s', '%(libdir)s', '%(mandir)s/man8',
                   '%(includedir)s', '%(essentiallibdir)s')
        r.MakeInstall('INSTALL_DIR=%(destdir)s/%(essentialsbindir)s '
                      'INSTALL_LIB=%(destdir)s/%(essentiallibdir)s '
                      'INSTALL_INC=%(destdir)s/%(includedir)s '
                      'INSTALL_MAN=%(destdir)s/%(mandir)s')
        r.Remove('%(essentiallibdir)s/libiw.a')
        r.Symlink('%(essentiallibdir)s/libiw.so.%(version)s',
                  '%(libdir)s/libiw.so')
        r.AutoDoc('DISTRIBUTIONS.txt')

