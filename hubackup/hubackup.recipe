class HuBackup(CPackageRecipe):

    name = 'hubackup'
    version = '0.0.6'

    buildRequires = ['dbus-python:python', 'gnome-python:python', 'pygobject:python', 'pygtk:python',
        'python-setuptools:python', 'pexpect:python', 'desktop-file-utils:runtime' ]

    def setup(r):
        r.addArchive('http://rpm.rutgers.edu/repository/ubuntu/pool/universe/h/%(name)s/%(name)s_%(version)s.tar.gz')

        r.Run("""mkdir build; cp data/hubackup.desktop.in build/hubackup.desktop """) 
        r.PythonSetup()
        r.Move('%(libdir)s/python2.4/site-packages/share/hubackup','%(datadir)s/hubackup')
        r.Move('%(libdir)s/python2.4/site-packages/share/applications/*','%(datadir)s/applications/')
        r.Requires('pexpect:python', '%(bindir)s/hubackup')
        r.Requires('dar:runtime', '%(bindir)s/hubackup')
