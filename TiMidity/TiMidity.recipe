#
# Copyright (c) 2008 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Timidity(AutoPackageRecipe):
    name = 'TiMidity'
    version = '2.13.2'
    packageSummary = "TiMidity++ is a software synthesizer"
    packageDescription = "TiMidity++ is a software synthesizer. It can play MIDI files by converting them into PCM waveform data; give it a MIDI data along with digital instrument data files, then it synthesizes them in real-time, and plays. It can not only play sounds, but also can save the generated waveforms into hard disks as various audio file formats."

    buildRequires = ['alsa-lib:devel',
		'atk:devel',
		'cairo:devel',
		'elfutils:devel',
		'expat:devel',
		'fontconfig:devel',
		'freetype:devel',
		'glib:devel',
		'gtk:devel',
		'jack:devel',
		'libICE:devel',
		'libpng:devel',
		'libSM:devel',
		'libX11:devel',
		'libXext:devel',
		'libXmu:devel',
		'libXrender:devel',
		'libXt:devel',
		'ncurses:devel',
		'pango:devel',
		'pixman:devel',
		'pkgconfig:devel',
		'slang:devel',
		'tcl:devel',
		'tk:devel',
		'xextproto:devel',
		'zlib:devel']
 
    def setup(r):
        r.addArchive('mirror://sourceforge/timidity/%(name)s++-%(version)s.tar.bz2')
	r.Configure('--enable-audio=jack --with-default-output=default --enable-alsaseq --enable-dynamic --enable-gtk --enable-ncurses --enable-slang --enable-motif --enable-tcltk --enable-emacs --enable-vt100 --enable-xskin')
	r.Make()
	r.MakeInstall()
	
	r.Requires('eawpats:data', '%(bindir)s/timidity')
