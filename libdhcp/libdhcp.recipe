#
# Copyright (c) 2006-2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('rpmpackage')
class Libdhcp(RPMPackageRecipe, CPackageRecipe):
    name = 'libdhcp'
    version = '1.99.4'
    rpmRelease = '1.fc9'

    buildRequires = ['libdhcp4client:devel', 'libdhcp6client:devel',
        'libnl:devel', 'openssl:devel', 'dhcp:devel',
        'pkgconfig:devel', 'openldap:devel', ]

    def setup(r):
        RPMPackageRecipe.unpack(r)
        # Use source from rpm for now.
        #r.addArchive('http://people.redhat.com/dcantrel/')
        # Adding doxygen as a buildreq is useless because the html file
        # it generates isn't actually installed by 'make install'.
        #r.addPatch('Makefile.no_doxygen')

        r.Configure()
        r.Make()
        r.MakeInstall()

        r.Move('%(prefix)s/lib/pkgconfig/*.pc', '%(libdir)s/pkgconfig/')
