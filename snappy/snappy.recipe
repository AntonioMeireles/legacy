#
# Copyright (c) 2011 Openfiler Ltd
#
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Snappy(AutoPackageRecipe):
    name = 'snappy'
    version = '1.0.5'
    buildRequires = [ 'libstdc++:devel',
                      'pkgconfig:devel',
                      'zlib:devel',
                      # XXX add gtest
                      ]

    def unpack(r):
        r.addArchive('http://snappy.googlecode.com/files/')

    def configure(r):
        r.macros.cxxflags += ' -DNDEBUG'
        r.Configure(' --disable-static')
