# vim:set ts=4 sw=4 et:
#
# Copyright (c) 2010 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#
loadSuperClass('gnomepackage')
class Guake(GnomePackageRecipe,AutoPackageRecipe):

    name = 'guake'
    version = '0.4.2'

    buildRequires = [
         	 'gettext:runtime',
		 'perl:runtime',
		 'GConf:runtime',
		 'atk:devel',
		 'cairo:devel',
		 'dbus-python:python',
		 'desktop-file-utils:runtime',
		 'expat:devel',
		 'fontconfig:devel',
		 'freetype:devel',
		 'glib:devel',
		 'gnome-python-extras:python',
		 'gnome-python:python',
		 'gtk:devel',
		 'libX11:devel',
		 'libXau:devel',
		 'libXdmcp:devel',
		 'libXrender:devel',
		 'libpng:devel',
		 'libxcb:devel',
		 'pango:devel',
		 'pixman:devel',
		 'pkgconfig:devel',
		 'pygobject:python',
		 'pygtk:python',
		 'python:devel',
		 'xcb-util:devel',
		 'zlib:devel',
         	 'notify-python:python',
           	 'pycairo:python', 
         	 'perl-XML-Parser',
         	 'intltool:runtime',
         	 'pygtk:devellib',
         	 'notify-python:python', 
		 'perl-XML-Parser', 
		 'pycairo:python', 
		 'pygtk:devellib', 
		 'vte:python', 
		 'pygtk:devel',
         	 'pygobject:runtime',
	 	 'vte:devel'
    ]

    def unpack(r):
        r.addArchive('http://guake.org/files/')
    	r.addAction(""" sed -i -e 's|if test -z "$ac_pvte_result"; then|if test -z "" ; then|g' configure """)
        r.Requires('vte:python', '%(bindir)s/guake')
