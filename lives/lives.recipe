#
# Copyright (c) 2010 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Lives(AutoPackageRecipe):
    name = 'lives'
    version = '1.2.0'
 
    buildRequires = ['SDL:devel', 
		'alsa-lib:devel', 
		'atk:devel', 
		'cairo:devel', 
		'desktop-file-utils:runtime', 
		'fontconfig:devel', 
		'freetype:devel', 
		'gettext:runtime', 
		'glib:devel', 
		'gtk:devel', 
		'intltool:runtime', 
		'jack:devel', 
		'libX11:devel', 
		'libavc1394:devel', 
		'libdv:devel', 
		'libogg:devel', 
		'liboil:devel', 
		'libraw1394:devel', 
		'libtheora:devel', 
		'mjpegtools:devel', 
		'pango:devel', 
		'perl:devel', 
		'pkgconfig:devel', 
		'pulseaudio:devel', 
		'python:devel'
		]
 
    def unpack(r):
        r.addArchive('http://www.xs4all.nl/~salsaman/lives/current/LiVES-%(version)s.tar.bz2')

    def policy(r):
        # remove this when the symlink is fixed (not fixed in 1.2.0)
        r.Remove('%(bindir)s/lives')
        r.Symlink('lives-exe', '%(bindir)s/lives')
        # remove when datadir fixed
        r.Symlink('%(libdir)s/lives', '%(datadir)s/lives')
