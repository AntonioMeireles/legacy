#
# Copyright (c) 2007 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class NotifySharp(AutoPackageRecipe,BuildPackageRecipe):
    name = 'notify-sharp'
    version = '20071114'
    buildRequires = ['gtk-sharp:lib', 'ndesk-dbus-glib:devellib', 'ndesk-dbus:devellib', 'ndesk-dbus:cil', 'gtk-sharp:devellib', 'mono:devel', 'pkgconfig:devel', 'which:runtime', 'gnome-common:runtime', 'ndesk-dbus-glib:cil']

    def unpack(r):
        r.addMercurialSnapshot('http://hg.circular-chaos.org/%(name)s')
        r.addPatch('lib64.patch')
        r.addSource('autogen.sh')
        r.Run('NOCONFIGURE=yes ./autogen.sh')
        r.Environment('MONO_SHARED_DIR', '/tmp')

    def configure(r):
        r.Configure('--disable-docs')
