loadRecipe('gnomepackage.recipe', label='conary.specifix.com@spx:devel')
class Firestarter(GnomePackageRecipe):

    buildRequires = [ 'gtk:devel', 'libgnomeui:devel',
                        'libglade:devel', 'glib:devel',
			'gnome-vfs:devel', 'perl-XML-Parser:devel',
			'gettext:runtime', 'desktop-file-utils:runtime' ]

    name = 'firestarter'
    version = '1.0.3'

    def setup(r):
	r.addArchive('http://internap.dl.sourceforge.net/sourceforge/%(name)s/%(name)s-%(version)s.tar.gz')
	r.Install('firestarter.console', '%(sysconfdir)s/security/console.apps/firestarter')
	r.Install('firestarter.pam', '%(sysconfdir)s/pam.d/firestarter')
	r.Install('fedora.init', '%(sysconfdir)s/init.d/firestarter')
        r.Replace('Exec=','Exec=gksudo ','%(name)s.desktop')
        r.Replace('Categories=Application;System;','Categories=Application;System;Settings;','%(name)s.desktop')
	

        r.build()
        r.install()
        r.Desktopfile('firestarter.desktop')
