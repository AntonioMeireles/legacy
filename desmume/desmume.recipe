class DeSmuME(AutoPackageRecipe):
    name = 'desmume'
    version = '0.9.0'
 
    buildRequires = ['Mesa:devel', 'SDL:devel', 'atk:devel', 'cairo:devel', 'desktop-file-utils:runtime', 'expat:devel', 'fontconfig:devel', 'freetype:devel', 'gettext:runtime', 'glib:devel', 'gtk:devel', 'gtkglext:devel', 'intltool:runtime', 'libICE:devel', 'libSM:devel', 'libX11:devel', 'libXmu:devel', 'libXrender:devel', 'libXt:devel', 'libglade:devel', 'libpng:devel', 'libxcb:devel', 'libxml2:devel', 'pango:devel', 'pixman:devel', 'pkgconfig:devel', 'xcb-util:devel', 'zlib:devel', 'libstdc++:devel']
 
    def unpack(r):
        r.addArchive('http://heanet.dl.sourceforge.net/sourceforge/desmume/desmume-0.9.tar.gz')
        r.macros.ldflags += ' -L%(libdir)s/xorg.mesa.3d/ '
        r.addSource('desmume.desktop')
        r.Install('src/gtk/DeSmuME.xpm','%(datadir)s/pixmaps/')
        r.Desktopfile('desmume.desktop')
