#
# Copyright (C) 2008 rPath, Inc
#

class XenAPIRecipe(PackageRecipe):
    name = 'XenAPI'
    # Version is the version of the server supported
    version = '5.5.0'

    buildRequires = [ 'python:devel', ]

    def setup(r):
        r.macros.sitepkgs = "%(libdir)s/python%(pyver)s/site-packages"
        baseUrl = "http://docs.xensource.com/XenServer/5.0.0/1.0/en_gb/api/client-examples/python/"

        r.addSource(baseUrl + "XenAPI.py", dest="%(sitepkgs)s/%(name)s/")
        r.addSource(baseUrl + "provision.py", dest="%(sitepkgs)s/%(name)s/")

        r.Create("%(sitepkgs)s/%(name)s/__init__.py", contents = """\
#!/usr/bin/python

from XenAPI import *
""")
