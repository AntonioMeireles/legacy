class FlashPlayer(PackageRecipe):
    name = "flashplayer"
    version = "10.0.42.34"

    buildRequires = ['glibc:devel', 'zlib:devel', 'fontconfig:devel', 'freetype:devel', 'glib:devel', 'gtk:devel', 'libX11:devel', 'libXext:devel', 'libXt:devel', 'libgcc:devellib', 'libstdc++:devel']

    def setup(r):
        r.addArchive('http://fpdownload.macromedia.com/get/flashplayer/current/install_flash_player_10_linux.tar.gz', use=(Arch.x86))
        # http://labs.adobe.com/downloads/flashplayer10.html
        r.addArchive('http://download.macromedia.com/pub/labs/flashplayer10/libflashplayer-%(version)s.linux-x86_64.so.tar.gz', use=(Arch.x86_64),
                     dir = '%(name)s-%(version)s')

        if Arch.x86_64:
            r.Install('libflashplayer.so','%(libdir)s/mozilla/plugins/')
        else:
            r.Install('../libflashplayer.so','%(libdir)s/mozilla/plugins/')
        r.ComponentSpec("runtime", "%(libdir)s/mozilla.*")
        r.Requires('xulrunner:lib', '%(libdir)s/')
        r.Requires('mozilla-filesystem:runtime', '%(libdir)s/')
        r.Requires('libflashsupport:lib', '%(libdir)s/')


