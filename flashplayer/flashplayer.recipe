loadRecipe('mozilla.recipe', label = 'conary.rpath.com@rpl:1')

class FlashPlayer(PackageRecipe):
    name = "flashplayer"
    version = "9.0.48.0"

    buildRequires = ['glibc:devel', 'zlib:devel']

    def setup(r):
        r.addArchive('http://fpdownload.macromedia.com/get/flashplayer/current/install_flash_player_9_linux.tar.gz')

        targetDir = '%%(libdir)s/mozilla-%s/plugins/' % Mozilla.version
        
        r.Install('libflashplayer.so', targetDir)
        r.Symlink('%s/*' % targetDir, '%(libdir)s/firefox/plugins/')
        r.Symlink('%s/*' % targetDir, '%(libdir)s/mozilla/plugins/')

        r.ComponentSpec("runtime", "%(libdir)s/firefox.*")
        r.ComponentSpec("runtime", "%(libdir)s/mozilla.*")
