#
# Copyright (c) 2007 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Ffmpeg(AutoPackageRecipe):
    name = 'ffmpeg'
    version = '0.5+r11050'
 
    buildRequires = ['SDL:devel','a52dec:devel','faac:devel','faad2:devel','freetype:devel', 
'imlib2:devel', 'libtheora:devel','libogg:devel', 'libvorbis:devel',
'pkgconfig:devel', 'x264:devel', 'xvidcore:devel','zlib:devel']


    def unpack(r):

        rev = r.version.split('+')[1][1:]
        r.addSvnSnapshot('svn://svn.mplayerhq.hu/ffmpeg/trunk', revision=rev)

    def configure(r):
        r.ManualConfigure(' --prefix=%(prefix)s --enable-gpl'
            ' --enable-shared --enable-pp --enable-pthreads'
            ' --enable-libvorbis --enable-liba52' 
            ' --enable-liba52bin --enable-libfaac --enable-libfaad' 
            ' --enable-libxvid --disable-swscaler --enable-libtheora' 
            ' --enable-libx264')
