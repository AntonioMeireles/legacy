class GnomeBaker(AutoPackageRecipe):

    buildRequires = [ 'atk:devel', 'cdrtools:runtime',
        'desktop-file-utils:runtime', 'GConf:devel', 'glib:devel',
        'gnome-vfs:devel', 'gstreamer:devel', 'gtk:devel', 'libart_lgpl:devel',
        'libbonobo:devel', 'libbonoboui:devel', 'libglade:devel',
        'libgnomecanvas:devel', 'libgnome:devel', 'libgnomeui:devel',
        'libogg:devel', 'libvorbis:devel', 'libxml2:devel', 'ORBit2:devel',
        'pango:devel', 'popt:devel', 'scrollkeeper:runtime', 'xorg-x11:devel',
        'zlib:devel', 'cairo:devel', 'fontconfig:devel', 'freetype:devel',
	'gnome-keyring:devel', 'libpng:devel' ]

    name = 'gnomebaker'
    version = '0.5.1'

    def unpack(r):
	r.addArchive('http://easynews.dl.sourceforge.net/sourceforge/gnomebaker/gnomebaker-%(version)s.tar.bz2')
	r.Replace('Name=GnomeBaker', 'Name=CD Writer', 'gnomebaker.desktop.in')
	r.Replace('Comment=GnomeBaker', 'Comment=GnomeBaker CD Writer',
                  'gnomebaker.desktop.in')

        r.Replace(('install-gnomebakerdocDATA install-gnomemenuDATA',
                   'install-gnomebakerdocDATA'),
                  ('/doc/gnomebaker', '/share/doc/gnomebaker-%(version)s'),
                  'Makefile.{am,in}')

    def policy(r):
        r.Desktopfile('gnomebaker.desktop')
        r.Requires('cdda2wav:runtime', '%(bindir)s/')
