#
# Copyright (c) 2004-2008 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class GtkSourceViewSharp(AutoPackageRecipe):
    buildRequires = [ 'mono:runtime', 'gtksourceview-1.0-compat:devel', 'gtk-sharp:lib', 'mono:lib', 'gawk:runtime', 'gnome-sharp:cil', 'gnome-sharp:devellib', 'gtk-sharp:cil', 'mono:cil', 'mono:devel', 'monodoc:runtime', 'gtk-sharp:runtime', 'pkgconfig:devel', 'gnome-sharp:lib' ]

    name = "gtksourceview-sharp"
    majversion = "2.0"
    version = "0.12"

    def unpack(r):
        r.macros.majversion = r.majversion
        r.addArchive('http://go-mono.com/sources/gtksourceview-sharp2/%(name)s-%(majversion)s-%(version)s.tar.bz2')
        r.addPatch('http://cvs.fedoraproject.org/viewcvs/*checkout*/devel/gtksourceview-sharp/gtksourceview-sharp-libdir.patch')
        r.Run('autoreconf')

    def policy(r):
        r.Remove('%(datadir)s/gtksourceview-1.0/language-specs/nemerle.lang')
        r.Remove('%(datadir)s/gtksourceview-1.0/language-specs/vbnet.lang')
        r.Remove('%(libdir)s/monodoc/sources/', recursive = True)

