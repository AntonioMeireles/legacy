#
# Copyright (c) 2007 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class GstPluginsGood(AutoPackageRecipe):

    name = 'gst-plugins-good'
    version = '0.10.6'


    buildRequires = [ 'GConf:devel', 'ORBit2:devel', 'audiofile:devel',
'cairo:devel', 'check:devel', 'esound:devel', 'flac:devel', 'fontconfig:devel',
        'freetype:devel', 'glib:devel', 'gst-plugins-base:devel',
        'gstreamer:devel', 'libdv:devel', 'libjpeg:devel', 'liboil:devel',
        'libpng:devel', 'libxml2:devel', 'speex:devel', 'atk:devel',
        'dbus:devel', 'hal:devel', 'pango:devel', 'GConf:runtime',
        'gcc-c++:runtime', 'gstreamer:runtime', 'libavc1394:devel',
'libiec61883:devel', 'libraw1394:devel', 'libstdc++:devel', 'taglib:devel',
        'libXdamage:devel', 'libXfixes:devel', 'glib:devel', 'glib:runtime',
'wavpack:devel', 'expat:devel', 'gtk:devel', 'libICE:devel', 'libSM:devel',
'libXext:devel', 'libcdio:devel', 'libogg:devel', 'libshout:devel',
'libtheora:devel', 'libvorbis:devel', 'pkgconfig:devel', 'zlib:devel' ]

    def unpack(r):
        r.addArchive('http://gstreamer.freedesktop.org/src/%(name)s/')
        # fix http://bugzilla.gnome.org/show_bug.cgi?id=498181 :
        r.Replace('DEPRECATED_CFLAGS=\"-DGST_DISABLE_DEPRECATED\"','','configure')
    def configure(r):
        # explicitly set/show what we want to build:
        # vide4linux is in gst-plugins-base
        r.Configure(' --enable-ladspa --enable-dv1394 --enable-shout2 --enable-wavpack')
