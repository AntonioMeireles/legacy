# Gil Hamlin
# gil@foresightlinux.com
# 21st May 2005

class smc(PackageRecipe):
    buildRequires = [ "glibc:devel", "SDL:devel", "SDL_mixer:devel",
                      "SDL_image:devel", "SDL_ttf:devel", 
                      "SDL_gfx:devel", "desktop-file-utils:runtime" ]
    name = "smc"
    version = "0.96"

    def setup(r):
        r.addArchive('http://kent.dl.sourceforge.net/sourceforge/smclone/SMC_%(version)s_source.zip')
        r.mainDir('/%(version)s/src/unix/')
        r.Requires('smc-data:data', '%(bindir)s/smc')
        r.Run('sh ./autogen.sh')
        r.Configure()
        r.Make()
        r.Install('smc', '%(bindir)s/')
        r.addSource('run-smc')
        r.Install('run-smc', '%(bindir)s/')

#       Here are our menu links

        r.addSource('smc.png')
        r.Install('smc.png', '%(sharedir)s/smc/')
        r.addSource('smc.desktop')
        r.Desktopfile('smc.desktop')
