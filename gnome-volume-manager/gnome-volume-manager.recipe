loadRecipe('gnomepackage.recipe')
class Gvm(GnomePackageRecipe):

    buildRequires = GnomePackageRecipe.buildRequires
    buildRequires.extend([ 'hal:devel', 'dbus:devel', 'GConf:devel', 
		'ORBit2:devel', 'atk:devel', 'glib:devel', 'glibc:devel', 
		'gnome-vfs:devel', 'libart_lgpl:devel', 'libbonobo:devel', 
		'libbonoboui:devel', 'libglade:devel', 'libgnome:devel', 
		'libgnomecanvas:devel', 'libgnomeui:devel', 'libxml2:devel', 
		'pango:devel', 'popt:devel', 'cairo:devel',
		'dbus-glib:devellib', 'fontconfig:devel',
		'freetype:devel', 'gnome-keyring:devel',
		'libpng:devel' ])

    name = 'gnome-volume-manager'
    version = '1.5.11'

    def unpack(r):
	GnomePackageRecipe.unpack(r)
	r.extraConfig += ' --with-mount-command="/usr/bin/pmount-hal %%h; /usr/bin/pmount %%d" --with-unmount-command="/usr/bin/pumount %%d"'
        r.macros.optflags = '-g -Os'

	r.addPatch('defaults.patch')
        

    def install(r):
	GnomePackageRecipe.install(r)
	#r.Requires('pmount:runtime','%(bindir)s/gnome-volume-manager')
