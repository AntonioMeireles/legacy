#
# Copyright (c) 2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Ghostscript(AutoPackageRecipe):
    name = 'ghostscript'
    version = '8.60'

    buildRequires = [ 'SDL:devel', 'libICE:devel', 'libSM:devel',
        'libX11:devel', 'libXext:devel', 'libXt:devel', 'perl:runtime',
        'cups:devel', 'fontconfig:devel', 'libjpeg:devel', 'libpng:devel',
        'libstdc++:devel', 'libtiff:devel', 'openssl:devel',
        'pkgconfig:devel', 'zlib:devel', ]

    def unpack(r):
        r.macros.upver = r.version.replace('.', '')
        r.addArchive('ftp://mirror.cs.wisc.edu/pub/mirrors/ghost/GPL/gs%(upver)s/')

    def policy(r):
        r.ComponentSpec('cups', '/etc/cups/', '%(libdir)s/cups/filter/',
                                '%(datadir)s/cups/model/')
