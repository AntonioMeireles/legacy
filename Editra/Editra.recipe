#
# Copyright (c) 2008 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Editra(PackageRecipe):
    name = 'Editra'
    version = '0.5.51'
 
    buildRequires = ['desktop-file-utils:runtime', 'perl:runtime', 'python-setuptools:python', 'python:devel', 'wxPython:python']
 
    def setup(r):
        r.addArchive('http://editra.googlecode.com/files/%(name)s-%(version)s.tar.gz')
        r.macros.pyver = '2.6' 
        r.macros.sitepkgs = '%(libdir)s/python%(pyver)s/site-packages' 
        r.Remove('plugins/*.egg')
        r.PythonSetup()
        r.MakeDirs('%(sitepkgs)s/Editra/plugins')
        r.addSource('empty.txt')
        r.Copy('empty.txt', '%(sitepkgs)s/Editra/plugins')
        r.Copy('pixmaps/editra.png', '%(datadir)s/pixmaps/')
        r.addSource('editra.desktop')
        r.Desktopfile('editra.desktop')
