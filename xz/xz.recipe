#
# Copyright (c) 2009 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class xz(AutoPackageRecipe):
    name = 'xz'
    version = '4.999.9beta'
    # Note that the liblzma provided by this package is not guaranteed
    # to be maintained as a stable interface.
    # Note also that this version is GPL/LGPL but future stable versions
    # will instead be public domain

    buildRequires = [ 'gettext:runtime', 'intltool:runtime', ]

    def unpack(r):
        r.addArchive('http://tukaani.org/xz/')

    # Until a stable release, we will not include libraries.
    # We may include libraries in this package when we update to
    # a stable version.

    def configure(r):
        r.Configure('--disable-shared')

    def policy(r):
        r.Remove('/usr/include', recursive=True)
        r.Remove('%(libdir)s', recursive=True)
