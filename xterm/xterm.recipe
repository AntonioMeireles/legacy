#
# Copyright (c) 2004-2005 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Xterm(CPackageRecipe):

    name = 'xterm'
    version = '220'

    buildRequires = [ 'expat:devel', 'fontconfig:devel', 'freetype:devel',
        'libICE:devel', 'libSM:devel', 'libX11:devel', 'libXau:devel',
        'libXaw:devel', 'libXdmcp:devel', 'libXext:devel', 'libXft:devel',
        'libXmu:devel', 'libXrender:devel', 'libXt:devel', 'libtermcap:devel',
        'luit:runtime', 'pkgconfig:devel', 'utempter:devel', 'zlib:devel' ]

    def setup(r):
        r.addArchive('ftp://dickey.his.com/xterm/%(name)s-%(version)s.tgz')
        r.addPatch('metaSendsEscape.patch')

        r.Configure('--enable-luit --enable-warnings '
                    '--enable-wide-chars --with-utempter')
        r.Make()
        r.MakeInstall()

        r.Move('%(mandir)s/*.1', '%(mandir)s/man1/')

