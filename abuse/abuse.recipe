# Gil Hamlin
# gil@foresightlinux.com
# 16th May 2005

class abuse(PackageRecipe):
    buildRequires = [ "glibc:devel", "SDL:devel", "SDL_mixer:devel",
                      "SDL_image:devel", "desktop-file-utils:runtime" ]
    name = "abuse"
    version = "1.0.FDL"

#   This package grabs the abuse_sdl binaries, some free abuse data
#   and installs a desktop file for a sane configuration

    def setup(r):
        r.addArchive('abuse_datafiles.tar.gz')
        r.mainDir('/')
        r.Requires('abuse_sdl:runtime', '%(datadir)s/abuse/abuse.lsp')
        r.Install('addon', '%(datadir)s/abuse/')
        r.Install('art', '%(datadir)s/abuse/')
        r.Install('levels', '%(datadir)s/abuse/')
        r.Install('lisp', '%(datadir)s/abuse/')
        r.Install('music', '%(datadir)s/abuse/')
        r.Install('netlevel', '%(datadir)s/abuse/')
        r.Install('register', '%(datadir)s/abuse/')
        r.Install('sfx', '%(datadir)s/abuse/')
        r.Install('abuse.lsp', '%(datadir)s/abuse/')
        r.addSource('gamma.lsp')
        r.Install('gamma.lsp', '%(datadir)s/abuse/')
        r.addSource('run-abuse')
        r.Install('run-abuse', '%(bindir)s/')

#       Here are the docs

        r.Doc('README.datafiles')

#       Here are our menu links

        r.addSource('abuse.desktop')
        r.Desktopfile('abuse.desktop')
