class DvdSlideshow(PackageRecipe):
    name = 'dvd-slideshow'
    version = '0.7.5'

    def setup(r):
        r.addArchive('http://superb-east.dl.sourceforge.net/sourceforge/%(name)s/%(name)s-%(version)s.tar.gz')
        # install.sh isn't useable. Instead we'll install each file manually.
        for manFile in ('dvd-slideshow.1', 'dvd-menu.1', 'dir2slideshow.1',
                        'gallery1-to-slideshow.1', 'jigl2slideshow.1'):
            r.Install('man/%s' % manFile, '%%(mandir)s/man1/%s' % manFile)
        for binFile in ('dvd-slideshow', 'dvd-menu', 'gallery1-to-slideshow',
                        'jigl2slideshow', 'dir2slideshow'):
            r.Install(binFile, '%%(bindir)s/%s' % binFile)

        r.Requires('vorbis-tools:runtime',
                   ['%(bindir)s/dvd-slideshow', '%(bindir)s/dvd-menu'])
        r.Requires('lame:runtime',
                   ['%(bindir)s/dvd-slideshow', '%(bindir)s/dvd-menu'])
        r.Requires('dvdauthor:runtime',
                   ['%(bindir)s/dvd-slideshow', '%(bindir)s/dvd-menu'])
        r.Requires('ImageMagick:runtime',
                   ['%(bindir)s/dvd-slideshow', '%(bindir)s/dvd-menu'])
        r.Requires('sox:runtime',
                   ['%(bindir)s/dvd-slideshow', '%(bindir)s/dvd-menu',
                    '%(bindir)s/dvd-encode'])
        r.Requires('ffmpeg:runtime',
                   ['%(bindir)s/dvd-slideshow', '%(bindir)s/dvd-menu',
                    '%(bindir)s/dvd-encode'])
        r.Requires('mkisofs:runtime',
                   ['%(bindir)s/dvd-menu', '%(bindir)s/dvd-iso'])
