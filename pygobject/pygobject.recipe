#
# Copyright (c) 2006-2008 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadRecipe('gnomepackage')
class PyGObject(GnomePackageRecipe):

    buildRequires = [ 'glib:devel', 'libxslt:runtime', 'python:devel', 'gobject-introspection:devel', 'libffi:devel' ]

    name = 'pygobject'
    version = '2.20.0'
    extraConfig = ( '--enable-thread '
                    # FIXME
                    # adding --without-ffi (libffi is an optional dependency);
                    # otherwise both libffi.so.4 and libffi.so.5 get linked (!)
                    '--without-ffi')
    makeArgs = 'LIBTOOL=/usr/bin/libtool'
    makeInstallArgs = 'LIBTOOL=/usr/bin/libtool'

    def unpack(r):
        GnomePackageRecipe.unpack(r)
        r.Environment('tagname', 'CC')

