#
# Copyright (c) 2006-2008 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadRecipe('gnomepackage')
class PyGObject(GnomePackageRecipe):

    buildRequires = [ 'glib:devel', 'libxslt:runtime', 'python:devel',
                      'gobject-introspection:devel', 'xz:runtime',
                      'pycairo:devel']

    name = 'pygobject'
    version = '2.28.6'
    makeArgs = 'LIBTOOL=%(bindir)s/libtool'
    makeInstallArgs = 'LIBTOOL=%(bindir)s/libtool'

    def unpack(r):
        GnomePackageRecipe.unpack(r)
        r.Environment('tagname', 'CC')


    def policy(r):
        # make devel require both runtime and python
        r.Requires('pygobject:runtime', '%(includedir)s/.*')
        r.Requires('pygobject:python', '%(includedir)s/.*')
