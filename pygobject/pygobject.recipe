#
# Copyright (c) 2006-2008 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadRecipe('gnomepackage')
loadRecipe('rpmpackage')
class PyGObject(RPMPackageRecipe,GnomePackageRecipe):

    buildRequires = [ 'glib:devel', 'libxslt:runtime', 'python:devel' ]

    name = 'pygobject'
    version = '2.15.4'
    rpmName = 'pygobject2'
    rpmRelease = '4.fc11'
    rpmPatches = [ # RH bug #544946
                   'pygobject-2.15.2-threads-init.patch',
                   # http://bugzilla.gnome.org/show_bug.cgi?id=551059
                   # http://bugzilla.gnome.org/show_bug.cgi?id=551212
                   'pygobject-gio-load-contents.patch' ]
    extraConfig = '--enable-thread'
    makeArgs = 'LIBTOOL=/usr/bin/libtool'
    makeInstallArgs = 'LIBTOOL=/usr/bin/libtool'

    def unpack(r):
        RPMPackageRecipe.unpack(r)
        r.Environment('tagname', 'CC')

