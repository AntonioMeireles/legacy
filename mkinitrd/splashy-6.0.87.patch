diff -u --recursive mkinitrd-6.0.87.orig/mkinitrd mkinitrd-6.0.87/mkinitrd
--- mkinitrd-6.0.87.orig/mkinitrd	2009-08-25 11:28:48.210380000 +0100
+++ mkinitrd-6.0.87/mkinitrd	2009-08-25 11:35:55.382010945 +0100
@@ -1510,10 +1510,12 @@
     done
 fi
 
+destdir=$(dirname "$dest")
+mkdir -p "$root/$destdir"
+
 for i in 0 1 2 3 ; do
     emit "mknod /dev/ttyS$i c 4 $(($i + 64))"
 done
-emit "daemonize --ignore-missing /bin/plymouthd"
 
 # If we have drm loaded, include modesetting drivers
 if [ "x$PROBE" == "xyes" -a -d /sys/class/drm ]; then
@@ -1535,10 +1537,19 @@
 
 [ -n "$I18N" ] && emit "/lib/udev/console_init tty0"
 
-emit "plymouth --show-splash"
 
-if [ -x /usr/libexec/plymouth/plymouth-populate-initrd ]; then
-    /usr/libexec/plymouth/plymouth-populate-initrd $(get_verbose) -t "$MNTIMAGE"
+if [ -f /usr/sbin/splashy ] ; then
+    emit "mknod /dev/fb0 c 29 0"
+    emit "mkdir /dev/.initramfs"
+    emit "/usr/sbin/splashy boot"
+
+    inst /usr/sbin/splashy "$MNTIMAGE"
+    inst /etc/splashy/config.xml "$MNTIMAGE"
+
+    SPLASHY_THEMES_DIR="$(splashy_config --get-key /splashy/themes)"
+    SPLASHY_CURRENT_THEME="$(splashy_config --get-key /splashy/current_theme)"
+
+    inst "$SPLASHY_THEMES_DIR/$SPLASHY_CURRENT_THEME" "$MNTIMAGE"
 fi
 
 emit "echo Setting up hotplug."
@@ -1601,7 +1612,6 @@
     emit "setDeviceEnv LUKSUUID $luksuuid"
     emit "echo Setting up disk encryption: \$LUKSUUID"
     emit "buildEnv LUKSUUID cryptsetup luksOpen \$LUKSUUID $2"
-    emit "plymouth ask-for-password --command \$LUKSUUID"
 }
 
 for cryptdev in ${!cryptopart@} ; do
@@ -1647,7 +1657,6 @@
 
 emit "echo Mounting root filesystem."
 emit "mount /sysroot"
-emit "cond -ne 0 plymouth --hide-splash"
 
 if [ -n "$loopfs" ]; then
      emit "Cleaning up loop mount."
@@ -1662,7 +1671,6 @@
     emit "$dhclient_leases_cmd"
 fi
 
-emit "plymouth --newroot=/sysroot"
 emit "echo Switching to new root and running init."
 emit "switchroot"
 emit "echo Booting has failed."
