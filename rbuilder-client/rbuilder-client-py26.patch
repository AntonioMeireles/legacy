# HG changeset patch
# User Michael Tharp <mtharp@rpath.com>
# Date 1233330550 0
# Node ID 5b612ed635ce988b40c9e12369b33b0a06172019
# Parent  a61c4a4198a0e3f6645d5cf02da643b1362aa90a
Makefile compatibility for python 2.6

diff --git a/Make.defs b/Make.defs
--- a/Make.defs
+++ b/Make.defs
@@ -16,9 +16,10 @@
 # VERSION can be overridden by snapshot builds to force incompatible versions
 
 export prefix = /usr
+export lib = $(shell arch | sed -r '/x86_64|ppc64|s390x|sparc64/{s/.*/lib64/;q};s/.*/lib/')
 export bindir = $(prefix)/bin
 export sbindir = $(prefix)/sbin
-export libdir = $(prefix)/lib
+export libdir = $(prefix)/$(lib)
 export libexecdir = $(prefix)/libexec
 export datadir = $(prefix)/share
 export mandir = $(datadir)/man
diff --git a/Make.rules b/Make.rules
--- a/Make.rules
+++ b/Make.rules
@@ -12,7 +12,7 @@
 # full details.
 #
 
-PYTHON = $(shell [ -x /usr/bin/python2.4 ] && echo /usr/bin/python2.4)
+PYTHON = /usr/bin/python
 PYVERSION = $(shell $(PYTHON) -c 'import os, sys; print sys.version[:3]')
 PYINCLUDE = $(shell $(PYTHON) -c 'import os, sys; print os.sep.join((sys.prefix, "include", "python" + sys.version[:3]))')
 
# HG changeset patch
# User Michael Tharp <mtharp@rpath.com>
# Date 1233331678 0
# Node ID 745835c8cff93936d19869b432c9bcff453e5b8a
# Parent  5b612ed635ce988b40c9e12369b33b0a06172019
More python2.6 compatibility

diff --git a/commands/rbuilder b/commands/rbuilder
--- a/commands/rbuilder
+++ b/commands/rbuilder
@@ -1,4 +1,4 @@
-#!/usr/bin/python2.4
+#!/usr/bin/python
 #
 # Copyright (c) 2005-2007 rPath, Inc.
 #
