#
# Copyright (c) 2006 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class DoulosSIL(PackageRecipe):
    name = 'doulos-sil'
    version = '4.0.14.r1'

    buildRequires = ['dos2unix:runtime']

    def setup(r):
        # scripted download; see http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&item_id=DoulosSIL_download
        r.addArchive('DoulosSIL%(version)s.zip', dir='%(name)s-%(version)s')
        r.Install('*.ttf', '%(datadir)s/fonts/SIL/%(name)s/TrueType/')
        r.Run('dos2unix *.txt')
        r.Doc('*.{txt,pdf}')
        r.SetModes('%(thisdocdir)s/', 0644)
        r.TagSpec('x-font', '.*.ttf')
        r.TagSpec('cacheable-font', '.*.ttf')
