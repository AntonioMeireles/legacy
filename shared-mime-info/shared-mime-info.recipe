#
# Copyright (c) 2004-2005 rPath, Inc.
# All rights reserved
#

class SharedMimeInfo(AutoPackageRecipe):
    name = 'shared-mime-info'
    version = '0.16'
    buildRequires = [ 'libxml2:devel', 'glib:devel',
                      'perl-XML-Parser:perl','pkgconfig:devel',
                      'zlib:devel' ]

    def unpack(r):
        r.addArchive('http://freedesktop.org/~jrb/%(name)s-%(version)s.tar.gz')
	r.addSource('mime-database.tagdescription', macros=True)
	r.addSource('mime-database.taghandler', macros=True)
    def configure(r):
        r.Configure('--disable-update-mimedb')
    def makeinstall(r):
        r.MakeInstall()
	r.Install('mime-database.tagdescription',
		  '%(tagdescriptiondir)s/mime-database')
	r.Install('mime-database.taghandler', '%(taghandlerdir)s/mime-database',
		  mode=0755)
        r.Doc('shared-mime-info-spec.xml')
