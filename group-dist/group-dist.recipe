#
# Copyright (c) 2004-2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Dist(GroupRecipe):
    name = 'group-dist'
    version = '1.3'

    autoResolve = True
    depCheck = True
    checkOnlyByDefaultDeps = True

    def startGroup(r, name, parentGroup, autoResolve=False, depCheck=False, byDefault=True):
      # creates group named "name", adds it to the toplevel group,
      # and sets the current group to that name.  calls to r.add()
      # will use the current group by default.

      # note: byDefault applies to whether the group is included by
      # default in its parent group, not whether the troves in
      # the group are added by default. (use the setByDefault() command
      # to get that)

      # get all the the default for the new group from its parent group.
      r.setDefaultGroup(parentGroup)
      r.createGroup(name, autoResolve=autoResolve, depCheck=depCheck,
                  byDefault=True)
      r.addNewGroup(name, groupName=parentGroup, byDefault=byDefault)
      r.setDefaultGroup(name)
      #r.removeComponents(['devel', 'devellib'])
      r.removeComponents(['supdoc'])
      if name != 'group-devel':
          r.moveComponents([':devellib', ':devel'], name, 'group-os')

    def setup(r):
      r.setSearchPath('foresight.rpath.org@fl:1-devel', 'conary.rpath.com@rpl:1', 'contrib.rpath.org@rpl:1')
      compatLabel='conary.rpath.com@rpl:1-compat'
      conaryLabel='conary.rpath.com@rpl:1'

      kernelVersion = '/conary.rpath.com@rpl:devel//kernelbits.rpath.org@rpl:1//foresight.rpath.org@fl:1-devel/2.6.20.11-1.0.2-1'
      glibc_label = 'conary.rpath.com@rpl:devel'
      glibc_version = '/conary.rpath.com@rpl:devel/2.5-17-3'

      r.createGroup('group-os')
      r.addNewGroup('group-dist', groupName='group-os')
      r.startGroup('group-core', parentGroup='group-dist', depCheck=True)
      r.add('acl:lib')
      r.add('acl:runtime')
      r.add('ash:runtime')
      r.add('attr:lib')
      r.add('attr:runtime')
      r.add('audit:lib')
      r.add('audit:config')
      r.add('authconfig:runtime')
      r.add('bash:runtime', '/conary.rpath.com@rpl:devel//foresight.rpath.org@fl:1-devel')
      r.add('bzip2:lib')
      r.add('bzip2:runtime')
      r.add('chkconfig:lib')
      r.add('chkconfig:runtime')
      r.add('conary:data', conaryLabel)
      r.add('conary:python', conaryLabel)
      r.add('conary:runtime', conaryLabel)
      r.add('coreutils:runtime', 'conary.rpath.com@rpl:1')
      r.add('cpio:runtime','/conary.rpath.com@rpl:devel/2.6-13-4')
      r.add('libnl', '/conary.rpath.com@rpl:devel/1.0-1-4')
      r.add('cracklib:lib')
      r.add('cyrus-sasl:lib')
      r.add('db:lib')
      r.add('dev:runtime')
      r.add('dhclient:runtime')
      r.add('dhclient:lib')
      r.add('diffutils:runtime')
      r.add('distro-release')
      r.add('e2fsprogs:data')
      r.add('e2fsprogs:lib')
      r.add('e2fsprogs:runtime')
      r.add('file:data')
      r.add('file:lib')
      r.add('file:runtime')
      r.add('filesystem:runtime')
      r.add('findutils:runtime')
      r.add('gawk:data')
      r.add('gawk:runtime')
      r.add('gdbm:lib')
      r.add('glib:lib')
      r.add('glib:runtime')
      r.add('glib:data')
      r.add('glibc:config', glibc_version, flavor='is: x86(i486,i586,i686)')
      r.add('glibc:lib', glibc_version, flavor='is: x86(i486,i586,i686)')
      r.add('glibc:runtime',glibc_version, flavor='is: x86(i486,i586,i686)')
      r.add('glibc:locale', glibc_version, flavor='is: x86(i486,i586,i686)')
      r.add('gmp:lib', 'conary.rpath.com@rpl:1')
      r.add('gpm:lib')
      r.add('gpm:runtime')
      r.add('grep:runtime', '/conary.rpath.com@rpl:devel/2.5.1a-5-3')
      r.add('grub:data', 'conary.rpath.com@rpl:1')
      r.add('grub:runtime', 'conary.rpath.com@rpl:1')
      r.add('gzip:runtime', '/conary.rpath.com@rpl:devel/1.3.9-1-3')
      r.add('hwdata:data')
      r.add('hwdata:runtime')
      r.add('info-daemon')
      r.add('info-disk')
      r.add('info-emerge')
      r.add('info-floppy')
      r.add('info-kmem')
      r.add('info-lock')
      r.add('info-lp')
      r.add('info-mail')
      r.add('info-tty')
      r.add('info-users')
      r.add('info-utmp')
      r.add('info-uucp')
      r.add('info-audio')
      r.add('initscripts:runtime')
      r.add('initscripts:lib')
      r.add('iproute:lib')
      r.add('iproute:runtime')
      r.add('iptables:lib')
      r.add('iptables:runtime')
      r.add('iputils:runtime')
      r.add('kbd:lib')
      r.add('kbd:runtime')
      if Arch.x86:
          r.add('kernel:runtime', kernelVersion, flavor='kernel.smp is: x86(cmov,i486,i586,i686)')
      else:
          r.add('kernel:runtime', kernelVersion, flavor='kernel.smp')
      r.add('krb5:lib','conary.rpath.com@rpl:1')
      r.add('krb5:data','conary.rpath.com@rpl:1')
      r.add('kudzu:python')
      r.add('kudzu:runtime')
      r.add('libelf:lib')
      r.add('libelf-lgpl:lib')
      if Arch.x86_64:
          r.add('libgcc:lib', flavor='is: x86 x86_64', source='gcc')
          r.add('libstdc++:lib', flavor='is: x86 x86_64', source='gcc')
          r.add('libstdc++:lib', compatLabel, flavor='is: x86 x86_64', source='gcc')
      else:
          r.add('libgcc:lib', source='gcc')
          r.add('libstdc++:lib', source='gcc')
          r.add('libstdc++:lib', compatLabel, source='gcc')
      r.add('libtermcap:lib')
      r.add('libuser:lib')
      r.add('libuser:python')
      r.add('libuser:runtime')
      r.add('mdadm:runtime')
      r.add('mingetty:runtime')
      r.add('mkinitrd')
      r.add('libdhcp',  '/conary.rpath.com@rpl:devel/1.20-1-6')
      r.add('libdhcp4client', '/conary.rpath.com@rpl:devel/3.0.5-5-4')
      r.add('libdhcp6client', '/conary.rpath.com@rpl:devel/0.10-8-6')
      r.add('device-mapper', 'conary.rpath.com@rpl:devel/1.02.17-5-1')
      r.add('parted', 'conary.rpath.com@rpl:devel/1.8.6-1-1')

      r.add('mktemp:runtime', '/conary.rpath.com@rpl:devel/1.5-25-2')
      r.add('module-init-tools:runtime')
      r.add('ncurses:data')
      r.add('ncurses:lib')
      r.add('ncurses:runtime')
      r.add('net-tools:runtime')
      r.add('newt:lib')
      r.add('openssl:lib', compatLabel)
      r.add('openssl:config')
      r.add('openssl:data')
      r.add('openssl:lib')
      r.add('pam:data')
      r.add('pam:lib')
      r.add('passwd:runtime')
      r.add('pcre:lib')
      r.add('popt:lib')
      r.add('procps:lib')
      r.add('procps:runtime')
      r.add('psmisc:runtime')
      r.add('pycrypto:python')
      r.add('python:devel')
      r.add('python:devellib')
      r.add('python:lib')
      r.add('python:runtime')
      r.add('readline:lib')
      r.add('rootfiles:runtime')
      r.add('sed:runtime')
      r.add('setup:runtime')
      r.add('shadow:runtime')
      r.add('slang:lib')
      r.add('sqlite:lib')
      r.add('sysklogd:runtime')
      r.add('sysfsutils:lib')
      r.add('sysfsutils:runtime')
      r.add('sysvinit:runtime', 'conary.rpath.com@rpl:devel')
      r.add('tar:runtime')
      r.add('termcap:runtime')
      r.add('tmpwatch:runtime')
      r.add('tzdata:data')
      r.add('udev:data')
      r.add('udev:lib')
      r.add('udev:runtime')
      r.add('usermode:runtime')
      r.add('util-linux:data')
      r.add('util-linux:runtime')
      r.add('vim-minimal:runtime', source='vim')
      r.add('wireless-tools:lib')
      r.add('zlib:lib')


      r.startGroup('group-printing', parentGroup='group-dist')
      r.add('a2ps')
      r.add('cups')
      r.add('enscript')
      r.add('espgs')
      r.add('foomatic-db')
      r.add('foomatic-db-engine')
      r.add('foomatic-filters')
      r.add('ghostscript-fonts')
      r.add('gutenprint')
      r.add('hplip')
      r.add('psutils')
      r.add('sane-backends')
      r.add('iscan')


      r.startGroup('group-base', parentGroup='group-dist')
      r.add('acl')
      r.add('acpid')
      r.add('alsa-lib')
      r.add('alsa-utils')
      r.add('anacron')
      if Arch.x86:
          r.add('apmd')
      r.add('arpwatch')
      r.add('ash')
      r.add('aspell')
      r.add('aspell-en')
      r.add('at')
      r.add('attr')
      r.add('authconfig')
      r.add('authconfig-gtk')
      r.add('autofs')
      r.add('bash', '/conary.rpath.com@rpl:devel//foresight.rpath.org@fl:1-devel')
      r.add('bc')
      r.add('binutils')
      r.add('bzip2')
      r.add('chkconfig')
      r.add('conary', conaryLabel)
      r.add('coreutils', 'conary.rpath.com@rpl:1')
      r.add('cpio','/conary.rpath.com@rpl:devel/2.6-13-4')
      r.add('cpufrequtils')
      r.add('cracklib')
      r.add('crontabs')
      r.add('curl')
      r.add('cyrus-sasl')
      r.add('db')
      r.add('dbus', '/foresight.rpath.org@fl:1-devel')
      r.add('dev')
      r.add('device-mapper', 'conary.rpath.com@rpl:devel/1.02.17-5-1')
      r.add('dhclient')
      r.add('diffutils')
      r.add('distro-release')
      r.add('dmidecode')
      r.add('docbook-dsssl')
      r.add('docbook-dtds')
      r.add('docbook-utils')
      r.add('docbook-xsl')
      r.add('dos2unix')
      r.add('dosfstools')
      r.add('dvd+rw-tools')
      r.add('e2fsprogs')
      r.add('ed')
      r.add('eject')
      r.add('elfutils')
      r.add('elinks')
      r.add('epdb')
      r.add('ethtool')
      r.add('expat')
      r.add('fbset')
      r.add('fetchmail')
      r.add('file')
      r.add('filesystem')
      r.add('findutils')
      r.add('finger')
      r.add('flac')
      r.add('floppy')
      r.add('ftp')
      r.add('gamin')
      r.add('gawk')
      r.add('gd')
      r.add('gdbm')
      r.add('gettext')
      r.add('glib')
      r.add('glibc', glibc_version, flavor='is: x86(i486,i586,i686)')
      r.add('glibc-utils', glibc_version)
      r.add('gmp', 'conary.rpath.com@rpl:1')
      r.add('gnupg')
      r.add('gpm')
      r.add('grep', '/conary.rpath.com@rpl:devel/2.5.1a-5-3')
      if Arch.x86_64:
          r.add('grub', 'conary.rpath.com@rpl:1', flavor='grub.static is: x86')
      else:
          r.add('grub', 'conary.rpath.com@rpl:1')
      r.add('gzip',  '/conary.rpath.com@rpl:devel/1.3.9-1-3')
      r.add('hal')
      r.add('smbios')
      r.add('hdparm')
      r.add('hwdata')
      r.add('ImageMagick')
      r.add('indent')
      r.add('info', source='texinfo')
      r.add('initscripts')
      r.add('install-info', source='texinfo')
      r.add('iproute')
      r.add('iptables')
      r.add('iputils')
      r.add('irda-utils')
      r.add('irqbalance')
      r.add('jfsutils')
      r.add('joe')
      r.add('jwhois')
      r.add('kbd')
      r.add('krb5', 'conary.rpath.com@rpl:1')
      r.add('krb5-workstation', 'conary.rpath.com@rpl:1')
      r.add('kudzu')
      r.add('less')
      if Arch.x86_64:
          r.add('libgcc:lib', flavor='is: x86 x86_64', source='gcc')
          r.add('libstdc++:lib', flavor='is: x86 x86_64', source='gcc')
          r.add('libstdc++:lib', compatLabel, flavor='is: x86 x86_64', source='gcc')
      else:
          r.add('libgcc:lib', source='gcc')
          r.add('libstdc++:lib', source='gcc')
          r.add('libstdc++:lib', compatLabel, source='gcc')
      r.add('lftp')
      r.add('libgcrypt')
      r.add('libgpg-error')
      r.add('lighttpd')
      r.add('lm_sensors')
      r.add('lockdev')
      r.add('logrotate')
      r.add('logwatch')
      r.add('longrun')
      r.add('lsof')
      r.add('lvm2','/conary.rpath.com@rpl:devel/2.02.23-1-2')
      r.add('lynx')
      r.add('MAKEDEV')
      r.add('mailbase')
      r.add('mailcap')
      r.add('man')
      r.add('man-pages')
      r.add('mdadm')
      if Arch.x86:
          r.add('microcode_ctl')
      r.add('mingetty')
      r.add('minicom')
      r.add('mkbootdisk')
      r.add('mkinitrd')
      r.add('mkisofs', source='cdrtools')
      r.add('mktemp','/conary.rpath.com@rpl:devel/1.5-25-2')
      r.add('module-init-tools')
      r.add('mtools')
      r.add('mt-st')
      r.add('nail')
      r.add('nano')
      r.add('nas', '/conary.rpath.com@rpl:devel/1.8b-1-3') # needed for openoffice
      r.add('ncurses')
      r.add('netpbm')
      r.add('net-snmp')
      r.add('net-snmp-client', source='net-snmp')
      r.add('net-tools')
      r.add('newt')
      r.add('libgssapi', 'conary.rpath.com@rpl:devel/0.10-1-6')
      r.add('librpcsecgss', 'conary.rpath.com@rpl:devel/0.14-1-6')
      r.add('libevent', 'conary.rpath.com@rpl:devel/1.3a-1-4')
      r.add('libnfsidmap', '/conary.rpath.com@rpl:devel/0.16-1-6')
      r.add('nfs-utils', '/conary.rpath.com@rpl:devel/1.0.10-1-5')
      r.add('nmap')
      r.add('nscd', glibc_version)
      r.add('ntp')
      r.add('ntsysv')
      r.add('openssh')
      r.add('openssh-client', source='openssh')
      r.add('openssh-server', source='openssh')
      r.add('openssl')
      r.add('pam')
      r.add('pam_krb5')
      r.add('pam_smb')
      r.add('passwd')
      r.add('pciutils')
      r.add('pcmciautils')
      r.add('pcre')
      r.add('perl', 'conary.rpath.com@rpl:1')
      r.add('perl-Net-DBus') # Hack to deal with dep problems
      r.add('perl-DBD-Pg', 'conary.rpath.com@rpl:1')
      r.add('perl-libwww-perl', 'conary.rpath.com@rpl:1')
      r.add('perl-libxml-enno', 'conary.rpath.com@rpl:1')
      r.add('perl-XML-Parser', 'conary.rpath.com@rpl:1')
      r.add('perl-XML-Simple', '/contrib.rpath.org@rpl:devel//foresight.rpath.org@fl:1-devel')
      r.add('perl-XML-LibXML-Common', '/contrib.rpath.org@rpl:devel//foresight.rpath.org@fl:1-devel')
      r.add('perl-XML-SAX', '/contrib.rpath.org@rpl:devel//foresight.rpath.org@fl:1-devel')
      r.add('perl-Time-HiRes','conary.rpath.com@rpl:1')
      r.add('perl-XML-NamespaceSupport', '/contrib.rpath.org@rpl:devel//foresight.rpath.org@fl:1-devel')
      r.add('pilot-link')
      r.add('pinfo')
      r.add('pm-utils')
      r.add('popt')
      r.add('portmap')
      r.add('ppp')
      r.add('pptpclient')
      r.add('pppoeconf')
      r.add('procmail')
      r.add('procps')
      r.add('psmisc')
      r.add('pump')
      r.add('pycrypto')
      r.add('pyparted','/conary.rpath.com@rpl:devel/1.8.5-1-2')
      r.add('python')
      r.add('quota')
      r.add('readline')
      r.add('reiserfsprogs')
      r.add('rhpl')
      r.add('rhpxl')
      r.add('rootfiles')
      r.add('rp-pppoe')
      r.add('rsh')
      r.add('rsync')
      r.add('run')
      r.add('ruby')
      r.add('rusers')
      r.add('rwho')
      r.add('samba')
      r.add('schedutils')
      r.add('screen')
      r.add('sed')
      r.add('setserial')
      r.add('setup')
      r.add('setuptool')
      r.add('shadow')
      r.add('slang')
      r.add('slocate')
      r.add('smartmontools')
      r.add('speex')
      r.add('star')
      r.add('sqlite')
      r.add('sudo')
      r.add('sun-jre')
      r.add('sysfsutils')
      r.add('sysklogd')
      r.add('syslinux')
      r.add('sysstat')
      r.add('sysvinit', 'conary.rpath.com@rpl:devel')
      r.add('talk')
      r.add('tar')
      r.add('tcpdump')
      r.add('tcp_wrappers')
      r.add('tcsh')
      r.add('telnet')
      r.add('termcap')
      r.add('tftp')
      r.add('time')
      r.add('tmpwatch')
      r.add('traceroute')
      r.add('tzdata')
      r.add('udev')
      r.add('units')
      r.add('unix2dos')
      r.add('unzip')
      r.add('urlgrabber')
      r.add('urw-fonts')
      r.add('liberation-fonts-ttf')
      r.add('usbutils')
      r.add('usermode')
      r.add('usermode-gtk')
      r.add('utempter')
      r.add('util-linux')
      r.add('vconfig')
      r.add('vim')
      r.add('vim-minimal', source='vim')
      r.add('vixie-cron')
      r.add('vorbis-tools')
      r.add('wget')
      r.add('which')
      r.add('wireless-tools')
      r.add('words')
      r.add('wvdial')
      r.add('wvstreams')
      if Arch.x86:
          r.add('x86info')
      r.add('xdelta')
      r.add('xfsprogs')
      r.add('xplc')
      r.add('ypbind')
      r.add('yp-tools')
      r.add('zip')
      r.add('zlib')
      # virtualization support
      r.add('libvirt')
      r.add('virt-manager')
      r.add('virtinst')
      r.add('info-kvm')
      #r.add('kvm')


      r.startGroup('group-turbogears', parentGroup='group-dist')
      r.addAll('group-turbogears', 'turbogears.rpath.org@rpl:1')
      r.add('SQLAlchemy', 'turbogears.rpath.org@rpl:1')
      #r.add('SQLAlchemy', 'turbogears.rpath.org@rpl:1', byDefault=True)

      r.startGroup('group-xorg', parentGroup='group-dist')
      r.startGroup('group-xorg-protocols', parentGroup='group-xorg', depCheck=False)
      r.add('bigreqsproto')
      r.add('compositeproto')
      r.add('damageproto')
      r.add('dmxproto')
      r.add('evieext')
      r.add('fixesproto')
      r.add('fontcacheproto')
      r.add('fontsproto')
      r.add('glproto')
      r.add('inputproto')
      r.add('kbproto')
      r.add('printproto')
      r.add('randrproto')
      r.add('recordproto')
      r.add('renderproto')
      r.add('resourceproto')
      r.add('scrnsaverproto')
      r.add('trapproto')
      r.add('videoproto')
      r.add('xcmiscproto')
      r.add('xextproto')
      r.add('xf86bigfontproto')
      r.add('xf86dgaproto')
      r.add('xf86driproto')
      r.add('xf86miscproto')
      r.add('xf86rushproto')
      r.add('xf86vidmodeproto')
      r.add('xineramaproto')
      r.add('xproto')
      r.add('xproxymanagementprotocol')

      r.startGroup('group-xorg-data', parentGroup='group-xorg', depCheck=False)
      r.add('xbitmaps')
      r.add('xcursor-themes')
      r.add('xkeyboard-config')
      r.add('xorg-sgml-doctools')

      r.startGroup('group-xorg-libraries', parentGroup='group-xorg', depCheck=False)
      r.add('libFS')
      r.add('libICE')
      r.add('libSM')
      r.add('libX11')
      r.add('libxcb')
      r.add('libpthread-stubs')
      r.add('libXScrnSaver')
      r.add('libXTrap')
      r.add('libXau')
      r.add('libXaw')
      r.add('libXcomposite')
      r.add('libXcursor')
      r.add('libXdamage')
      r.add('libXdmcp')
      r.add('libXevie')
      r.add('libXext')
      r.add('libXfixes')
      r.add('libXfont')
      r.add('libXfontcache')
      r.add('libXft')
      r.add('libXi')
      r.add('libXinerama')
      r.add('libXmu')
      r.add('libXpm')
      r.add('libXrandr')
      r.add('libXrender')
      r.add('libXres')
      r.add('libXt')
      r.add('libXtst')
      r.add('libXv')
      r.add('libXvMC')
      r.add('libXxf86dga')
      r.add('libXxf86misc')
      r.add('libXxf86vm')
      r.add('libdmx')
      r.add('libfontenc')
      r.add('liblbxutil')
      r.add('liboldX')
      r.add('libxkbfile')
      r.add('libxkbui')
      r.add('xtrans')
      r.add('libXp')
      r.add('libXprintUtil')
      r.add('libXprintAppUtil')


      r.startGroup('group-xorg-applications', parentGroup='group-xorg', depCheck=False)
      r.add('appres')
      r.add('bdftopcf')
      r.add('beforelight')
      r.add('bitmap')
      r.add('editres')
      r.add('fonttosfnt')
      r.add('fslsfonts')
      r.add('fstobdf')
      r.add('iceauth')
      r.add('ico')
      r.add('lbxproxy')
      r.add('listres')
      r.add('luit')
      r.add('mkcfm')
      r.add('mkfontdir')
      r.add('mkfontscale')
      r.add('oclock')
      r.add('proxymngr')
      r.add('rgb')
      r.add('rstart')
      r.add('scripts')
      r.add('sessreg')
      r.add('setxkbmap')
      r.add('showfont')
      r.add('smproxy')
      r.add('twm')
      r.add('viewres')
      r.add('x11perf')
      r.add('xauth')
      r.add('xbiff')
      r.add('xcalc')
      r.add('xclipboard')
      r.add('xclock')
      r.add('xcmsdb')
      r.add('xconsole')
      r.add('xcursorgen')
      r.add('xdbedizzy')
      r.add('xditview')
      r.add('xdm')
      r.add('xdpyinfo')
      r.add('xdriinfo')
      r.add('xedit')
      r.add('xev')
      r.add('xeyes')
      r.add('xf86dga')
      r.add('xfd')
      r.add('xfindproxy')
      r.add('xfontsel')
      r.add('xfs')
      r.add('xfsinfo')
      r.add('xfwp')
      r.add('xgamma')
      r.add('xgc')
      r.add('xhost')
      r.add('xinit')
      r.add('xkbcomp')
      r.add('xkbevd')
      r.add('xkbprint')
      r.add('xkbutils')
      r.add('xkill')
      r.add('xload')
      r.add('xlogo')
      r.add('xlsatoms')
      r.add('xlsclients')
      r.add('xlsfonts')
      r.add('xmag')
      r.add('xman')
      r.add('xmessage')
      r.add('xmh')
      r.add('xmodmap')
      r.add('xmore')
      r.add('xpr')
      r.add('xprop')
      r.add('xrandr')
      r.add('xrdb')
      r.add('xrefresh')
      r.add('xrx')
      r.add('xset')
      r.add('xsetmode')
      r.add('xsetpointer')
      r.add('xsetroot')
      r.add('xsm')
      r.add('xstdcmap')
      r.add('xterm')
      r.add('xtrap')
      r.add('xvidtune')
      r.add('xvinfo')
      r.add('xwd')
      r.add('xwininfo')
      r.add('xwud')

      r.startGroup('group-xorg-fonts', parentGroup='group-xorg', depCheck=False)
      r.add('encodings')
      r.add('font-adobe-75dpi')
      r.add('font-adobe-100dpi')
      r.add('font-adobe-utopia-75dpi')
      r.add('font-adobe-utopia-100dpi')
      r.add('font-adobe-utopia-type1')
      r.add('font-alias')
      r.add('font-arabic-misc')
      r.add('font-bh-75dpi')
      r.add('font-bh-100dpi')
      r.add('font-bh-lucidatypewriter-75dpi')
      r.add('font-bh-lucidatypewriter-100dpi')
      r.add('font-bh-ttf')
      r.add('font-bh-type1')
      r.add('font-bitstream-75dpi')
      r.add('font-bitstream-100dpi')
      r.add('font-bitstream-speedo')
      r.add('font-bitstream-type1')
      r.add('font-cronyx-cyrillic')
      r.add('font-cursor-misc')
      r.add('font-daewoo-misc')
      r.add('font-dec-misc')
      r.add('font-ibm-type1')
      r.add('font-isas-misc')
      r.add('font-jis-misc')
      r.add('font-micro-misc')
      r.add('font-misc-cyrillic')
      r.add('font-misc-ethiopic')
      r.add('font-misc-meltho')
      r.add('font-misc-misc')
      r.add('font-mutt-misc')
      r.add('font-schumacher-misc')
      r.add('font-screen-cyrillic')
      r.add('font-sony-misc')
      r.add('font-util')
      r.add('font-winitzki-cyrillic')
      r.add('font-xfree86-type1')

      r.startGroup('group-xorg-fonts-extra', parentGroup='group-xorg', depCheck=False)
      r.add('scim')
      r.add('scim-anthy')
      r.add('anthy')
      r.add('sazanami')

      r.startGroup('group-xorg-server', parentGroup='group-xorg', depCheck=False)
      if Use.nvidia:
          r.add('Mesa', flavor='nvidia')
      elif Use.ati:
          r.add('Mesa', flavor='ati')
      else:
          r.add('Mesa')

      r.add('libdrm')
      r.add('xorg-docs')

      if Use.nvidia:
          r.add('xorg-server', flavor='nvidia')
      else:
          r.add('xorg-server')

      r.startGroup('group-xorg-drivers', parentGroup='group-xorg', depCheck=False)
      r.startGroup('group-xorg-input-drivers', parentGroup='group-xorg-drivers', depCheck=False)
      r.add('xf86-input-acecad')
      r.add('xf86-input-aiptek')
      r.add('xf86-input-calcomp')
      r.add('xf86-input-citron')
      r.add('xf86-input-digitaledge')
      r.add('xf86-input-dmc')
      r.add('xf86-input-dynapro')
      r.add('xf86-input-elo2300')
      r.add('xf86-input-elographics')
      r.add('xf86-input-evdev')
      r.add('xf86-input-fpit')
      r.add('xf86-input-hyperpen')
      r.add('xf86-input-jamstudio')
      r.add('xf86-input-joystick')
      r.add('xf86-input-keyboard')
      r.add('xf86-input-magellan')
      r.add('xf86-input-magictouch')
      r.add('xf86-input-microtouch')
      r.add('xf86-input-mouse')
      r.add('xf86-input-mutouch')
      r.add('xf86-input-palmax')
      r.add('xf86-input-penmount')
      r.add('xf86-input-spaceorb')
      r.add('xf86-input-summa')
      r.add('xf86-input-tek4957')
      r.add('xf86-input-ur98')
      r.add('xf86-input-vmmouse')
      r.add('xf86-input-void')
      r.add('synaptics')

      r.startGroup('group-xorg-video-drivers', parentGroup='group-xorg-drivers', depCheck=False)
      r.add('xf86-video-apm')
      r.add('xf86-video-ark')
      r.add('xf86-video-ati')
      r.add('xf86-video-chips')
      r.add('xf86-video-cirrus')
      r.add('xf86-video-cyrix')
      r.add('xf86-video-dummy')
      r.add('xf86-video-fbdev')
      r.add('xf86-video-glint')
      r.add('xf86-video-i128')
      r.add('xf86-video-i740')
      r.add('xf86-video-i810')
      r.add('xf86-video-imstt')
      r.add('xf86-video-mga')
      r.add('xf86-video-neomagic')
      r.add('xf86-video-newport')
      r.add('xf86-video-nsc')
      r.add('xf86-video-nv')
      r.add('xf86-video-rendition')
      r.add('xf86-video-s3')
      r.add('xf86-video-s3virge')
      r.add('xf86-video-savage')
      r.add('xf86-video-siliconmotion')
      r.add('xf86-video-sis')
      r.add('xf86-video-sisusb')
      r.add('xf86-video-tdfx')
      r.add('xf86-video-tga')
      r.add('xf86-video-trident')
      r.add('xf86-video-tseng')
      r.add('xf86-video-v4l')
      r.add('xf86-video-vesa')
      r.add('xf86-video-vga')
      r.add('xf86-video-via')
      r.add('xf86-video-vmware')
      r.add('xf86-video-voodoo')

      r.startGroup('group-xorg-others', parentGroup='group-xorg', depCheck=False)
      r.add('bitmap-fonts')
      r.add('bitstream-vera-fonts')
      r.add('chkfontpath')
      r.add('fontconfig')
      r.add('freetype')
      r.add('glx-utils', source='Mesa')
      r.add('hicolor-icon-theme')
      r.add('linc')

      r.add('PIL')
      r.add('SDL')
      r.add('SDL_image')
      r.add('SDL_mixer')
      r.add('SDL_net')
      r.add('shared-mime-info')
      r.add('switchdesk')
      r.add('ttmkfdir')
      r.add('ttfprint')
      r.add('x11-ssh-askpass')
      r.add('pyxf86config')
      r.add('xorg-x11') #Placeholder trove that anaconda looks for in setting the default runlevel

      r.startGroup('group-gnome', parentGroup='group-dist')
      r.add('gok')
      r.add('orca')
      r.add('dasher')
      r.add('gnome-mag')
      r.add('gnome-cups-manager')
      r.add('atk')
      r.add('at-spi')
      r.add('audiofile')
      r.add('compiz')
      r.add('compiz-extra')
      r.add('gnome-compiz-manager')
      r.add('gnome-compiz-manager-extra')
      r.add('cairo')
      r.add('cairomm')
      r.add('control-center')
      r.add('dbus-glib', '/conary.rpath.com@rpl:devel//kde.rpath.org@rpl:pristine//foresight.rpath.org@fl:1-devel')
      r.add('dbus', '/foresight.rpath.org@fl:1-devel')
      r.add('eel')
      r.add('ekiga')
      r.add('eog')
      r.add('esound')
      r.add('evince')
      r.add('djvulibre')
      r.add('file-roller')
      r.add('gail')
      r.add('gal')
      r.add('gcalctool')
      r.add('GConf')
      r.add('gconf-editor')
      r.add('gdm')
      r.add('gedit')
      r.add('gedit-plugins')
      r.add('ggz-client-libs')
      r.add('ggz-server')
      #r.add('libgda')
      r.add('libggz')
      r.add('glib')
      r.add('glibmm')
      r.add('gnome-applets')
      r.add('gnome-audio')
      r.add('gnome-backgrounds')
      r.add('gnome-desktop')
      r.add('gnome-doc-utils')
      r.add('gnome-games')
      r.add('gnome-games-extra-data')
      r.add('PyOpenGL')
      r.add('gtkglext')
      r.add('gnome-icon-theme')
      r.add('gnome-keyring')
      r.add('gnome-keyring-manager')
      #r.add('pam-keyring')
      r.add('gnome-media')
      r.add('gnome-menus')
      r.add('gnome-mime-data')
      r.add('gnome-nettool')
      r.add('gnome-panel')
      r.add('gnome-python')
      r.add('gnome-python-desktop')
      r.add('gnome-python-extras') #should work. works here (doniphon)
      r.add('gnome-screensaver')
      r.add('gnome-session')
      r.add('gnome-spell')
      r.add('gnome-ssh-askpass', source='openssh')
      r.add('gnome-system-monitor')
      r.add('gnome-terminal')
      r.add('gnome-themes')
      r.add('gnome-utils')
      r.add('gnome-vfs')
      r.add('gnome-volume-manager')
      r.add('gtk')
      r.add('gtk-engines')
      r.add('gtk-theme-foresight')
      r.add('MurrineThemes')
      r.add('sun-nimbus-theme-pack')
      r.add('gtk-ubuntulooks-engine')
      r.add('gtk-murrine-engine')
      #r.add('murrine-configurator')
      r.add('gtkhtml')
      r.add('gtkhtml', '/foresight.rpath.org@fl:1-devel//1/3.12.3-1-1')
      r.add('gtkmm')
      r.add('gtksourceview')
      r.add('gtkspell')
      r.add('gucharmap')
      r.add('icon-naming-utils')
      r.add('intltool')
      r.add('lcms')
      r.add('libart_lgpl')
      r.add('libbonobo')
      r.add('libbonoboui')
      r.add('libgail-gnome')
      r.add('libglade')
      r.add('libgnome')
      r.add('libgnomecanvas')
      r.add('libgnomecups')
      r.add('libgnomekbd')
      r.add('libgnomeprint')
      r.add('libgnomeprintui')
      r.add('libgnomeui')
      r.add('libgtop')
      r.add('libIDL')
      r.add('librsvg')
      r.add('libsexy')
      r.add('libsoup')
      if Arch.x86_64:
          r.add('libstdc++:lib', flavor='is: x86 x86_64', source='gcc')
          r.add('libstdc++:lib', compatLabel, flavor='is: x86 x86_64', source='gcc')
      else:
          r.add('libstdc++:lib', source='gcc')
          r.add('libstdc++:lib', compatLabel, source='gcc')
      r.add('libwnck')
      r.add('libwmf')
      r.add('libxklavier')
      r.add('libxml2')
      r.add('libxslt')
      r.add('metacity')
      r.add('nautilus')
      r.add('ORBit2')
      r.add('opal')
      r.add('pango')
      r.add('pkgconfig')
      r.add('scrollkeeper')
      r.add('seahorse')
      r.add('startup-notification')
      r.add("tango-icon-theme")
      r.add("tango-icon-theme-extras")
      r.add('vino')
      r.add('vte')
      r.add('yelp')
      r.add('zenity')
      r.add('pycairo')
      r.add('pygtk')
      r.add('pygobject')
      r.add('pyorbit')

      r.startGroup('group-dist-base', parentGroup='group-dist')
      r.add('avahi')
      r.add('avahi-glib')
      r.add('avahi-sharp')
      r.add('avahi-qt3')
      r.add('bind-utils', source='bind')
      r.add('cdrdao')
      r.add('cdrtools')
      r.add('cyrus-sasl')
      r.add('cyrus-sasl')
      r.add('info-adm')
      r.add('info-amanda')
      r.add('info-apache')
      r.add('info-avahi')
      r.add('info-beagleindex')
      r.add('info-bin')
      r.add('info-canna')
      r.add('info-cyrus')
      r.add('info-daemon')
      r.add('info-dbus')
      r.add('info-dip')
      r.add('info-disk')
      r.add('info-dovecot')
      r.add('info-emerge')
      r.add('info-exim')
      r.add('info-fax')
      r.add('info-fcron')
      r.add('info-floppy')
      r.add('info-ftp')
      r.add('info-games')
      r.add('info-gdm')
      r.add('info-gopher')
      r.add('info-haldaemon')
      r.add('info-halt')
      r.add('info-htt')
      r.add('info-ident')
      r.add('info-kmem')
      r.add('info-ldap')
      r.add('info-lock')
      r.add('info-lp')
      r.add('info-mail')
      r.add('info-mailman')
      r.add('info-mailnull')
      r.add('info-man')
      r.add('info-mem')
      r.add('info-mysql')
      r.add('info-named')
      r.add('info-netdump')
      r.add('info-news')
      r.add('info-nfsnobody')
      r.add('info-nobody')
      r.add('info-nscd')
      r.add('info-ntp')
      r.add('info-nut')
      r.add('info-operator')
      r.add('info-pcap')
      r.add('info-postdrop')
      r.add('info-postfix')
      r.add('info-postgres')
      r.add('info-privoxy')
      r.add('info-pvm')
      r.add('info-quagga')
      r.add('info-quaggavt')
      r.add('info-radiusd')
      r.add('info-radvd')
      r.add('info-rpc')
      r.add('info-rpcuser')
      r.add('info-shutdown')
      r.add('info-slocate')
      r.add('info-smmsp')
      r.add('info-squid')
      r.add('info-sshd')
      r.add('info-sync')
      r.add('info-sys')
      r.add('info-tomcat')
      r.add('info-tty')
      r.add('info-users')
      r.add('info-utmp')
      r.add('info-uucp')
      r.add('info-vcsa')
      r.add('info-webalizer')
      r.add('info-wheel')
      r.add('info-wnn')
      r.add('info-xfs')
      r.add('info-powerdev')
      r.add('info-plugdev')
      r.add('info-netdev')
      r.add('libao')
      r.add('libburn')
      r.add('libcap')
      r.add('libcroco')
      r.add('libdaemon')
      r.add('libelf', source='elfutils')
      r.add('libexif')
      r.add('libgsf')
      r.add('libgtkhtml')
      r.add('libieee1284')
      r.add('libisofs')
      r.add('libjpeg')
      r.add('libmng')
      r.add('libmusicbrainz')
      r.add('libogg')
      r.add('libole2')
      r.add('libpcap')
      r.add('libpng')
      r.add('libsigc++')
      r.add('libtermcap')
      r.add('libtheora')
      r.add('libtiff')
      r.add('libtool')
      r.add('libungif')
      r.add('libusb')
      r.add('libuser')
      r.add('libvorbis')
      r.add('mysql:lib')
      r.add('mysql:data')
      r.add('nss_ldap')
      #r.add('openh323')
      r.add('openldap', 'conary.rpath.com@rpl:1')
      r.add('postgresql:lib')
      r.add('pwlib')
      r.add('VFlib')
      r.add('Xaw3d')
      r.add('w3c-libwww')

      r.startGroup('group-dist-extras', parentGroup='group-dist')
      r.add('cdda2wav', source='cdrtools')
      r.add('cdparanoia')
      r.add('dialog')
      r.add('epic')
      r.add('hesiod')
      r.add('htmlview')
      r.add('nc')
      r.add('parted', 'conary.rpath.com@rpl:devel/1.8.6-1-1')
      r.add('gnome-mount')
      r.add('portaudio')
      r.add('userspace-kernel-headers', glibc_label)
      r.add('unrar')

      r.startGroup('group-os-extras', parentGroup='group-os', byDefault=False)
      r.add('sane-frontends')
      r.add('xsane')
      r.add('am-utils')
      r.add('aspell-de')
      r.add('bind')
      r.add('bogl')
      r.add('booty')
      r.add('busybox')
      r.add('devlabel')
      r.add('dhcp')
      if Arch.x86:
          r.add('dietlibc')
      r.add('dovecot')
      r.add('dump')
      r.add('finger-server')
      if Arch.x86_64:
          r.add('firefox', 'conary.rpath.com@rpl:1')
          r.add('firefox-rBuilder-search')
      r.add('fonts-chinese')
      r.add('gparted')
      r.add('gnome-themes-extras')
      r.add('inn')
      r.add('iso-codes')
      r.add('krbafs')
      r.add('lrzsz')
      r.add('mailman')
      r.add('mysql')
      r.add('openldap', 'conary.rpath.com@rpl:1')
      r.add('pax')
      r.add('pdksh')
      r.add('postfix')
      r.add('PyGreSQL')
      r.add('quagga')
      r.add('radvd')
      r.add('rmt')
      r.add('rusers-server')
      r.add('statserial')
      r.add('stunnel')
      r.add('symlinks')
      r.add('tclx')
      r.add('vnc')
      r.add('autoconf', compatLabel)
      r.add('automake', compatLabel)
      r.add('db:lib', compatLabel)
      r.add('openssl:lib', compatLabel)
      r.add('readline:lib', compatLabel)
      if Arch.x86_64:
          r.add('libstdc++:lib', compatLabel, flavor='is: x86 x86_64', source='gcc')
      else:
          r.add('libstdc++:lib', compatLabel, source='gcc')

      r.startGroup('group-games', parentGroup='group-dist')
      r.add("jotto")
      r.add("gnuchess")
      r.add("freeciv")

      r.startGroup('group-desktop', parentGroup='group-dist')
      r.add('ntfs-3g')
      r.add('fuse')
      r.add('autoconfig')
      r.add('firstrun')
      r.add('alacarte')
      r.add('perl', 'conary.rpath.com@rpl:1')
      r.add('beagle')
      r.add('deskbar-applet')
      r.add('drapes')
      r.add('f-spot')
      r.add('flashplayer','zaphod.rpath.org@zap:1')
      r.add('fast-user-switch-applet')
      r.add('glipper')
      r.add('gmime')
      r.add('gnomescan')
      r.add('gnome-user-docs')
      r.add('human-cursors-theme')
      r.add('hal-gnome',  source='hal')
      r.add('iso-codes')
      r.add('gksu')
      r.add('libgksu')
      r.add('libgksu1.2')
      r.add('libgksuui1.0')
      r.add('tomboy')
      r.add('libgalago')
      r.add('libgphoto2-sharp')
      r.add('gdm')
      r.add('gphoto-suite')
      r.add('galago-daemon')
      r.add('galago-sharp')
      r.add('galago-python')
      r.add('libgalago-gtk')
      r.add('libnotify')
      r.add('msttcorefonts')
      r.add('notification-daemon')
      r.add('notify-python')
      r.add('nautilus-open-terminal')
      r.add('preload')
      r.add('sbackup')
      r.add('sqlite2') #Needed by f-spot
      r.add('gimp')
      r.add('inkscape')
      r.add('wxWidgets')
      r.add('gnome-power-manager')
      r.add('NetworkManager')
      r.add('NetworkManager-OpenVPN')
      r.add('NetworkManager-pptp')
      r.add('NetworkManager-vpnc')
      r.add('vpnc')
      r.add('openvpn')
      r.add('libnl', '/conary.rpath.com@rpl:devel/1.0-1-4')
      r.add('wpa_supplicant')
      r.add('dhclient')
      r.add('dhcdbd')
      r.add('dbus', '/foresight.rpath.org@fl:1-devel')
      r.add('dbus-x11', '/foresight.rpath.org@fl:1-devel', source='dbus')
      r.add('dbus-sharp')
      r.add('dbus-glib', '/conary.rpath.com@rpl:devel//kde.rpath.org@rpl:pristine//foresight.rpath.org@fl:1-devel')
      r.add('dbus-python', '/conary.rpath.com@rpl:devel//kde.rpath.org@rpl:pristine//foresight.rpath.org@fl:1-devel')
      r.add('desktop-file-utils')
      r.add('poppler')
      r.add('hal')
      r.add('hal-info')
      r.add('ConsoleKit')
      r.add('gnome-mount')
      r.add('smbios')
      r.add('gamin')
      r.add('nss-mdns') #Needed for avahi
      r.add('avahi')
      r.add('avahi-glib')
      r.add('avahi-sharp')
      r.add('vsftpd')

      r.startGroup('group-media', parentGroup='group-dist')
      r.add('banshee')
      r.add('brasero')
      r.add('gst-ffmpeg','reboot.rpath.org@rpl:devel')
      r.add('gst-plugins-base')
      r.add('gst-plugins-good')
      r.add('gst-plugins-ugly')
      r.add('gst-plugins-bad')
      r.add('gstreamer')
      r.add('gst-python')
      r.add('gnonlin')
      r.add('hal-sharp')
      r.add('ipod-sharp')
      r.add('jack')
      r.add('libid3tag')
      r.add('libipoddevice')
      r.add('libmusicbrainz')
      r.add('libogg')
      r.add('liboil')
      r.add('libsndfile', 'conary.rpath.com@rpl:devel')
      r.add('mplayerplug-in') #TEMP
      r.add('nautilus-cd-burner')
      r.add('last-exit')
      r.add('libdvdcss', 'orleans.rpath.org@rpl:devel')
      r.add('libdvdread')
      r.add('libavc1394', 'pve.rpath.org@rpl:devel')
      r.add('libraw1394', 'pve.rpath.org@rpl:devel')
      r.add('libavc1394', 'pve.rpath.org@rpl:devel')
      r.add('libdv', 'orleans.rpath.org@rpl:devel')
      r.add('libmad', 'orleans.rpath.org@rpl:devel')
      r.add('lzo')
      #r.add('mplayer', 'orleans.rpath.org@rpl:devel') #TEMP
      r.add('MPlayer-codecs', 'orleans.rpath.org@rpl:devel', flavor='is: x86') #TEMP
      r.add('xine-lib')
      #r.add('xine-ui', 'orleans.rpath.org@rpl:devel') #TEMP
      r.add('lame', 'orleans.rpath.org@rpl:devel')
      r.add('taglib')
      r.add('totem')

      r.startGroup('group-internet', parentGroup='group-dist')
      r.add('thunderbird', byDefault=False)
      r.add('evolution')
      r.add('evolution-data-server')
      r.add('evolution-exchange')
      r.add('evolution-webcal')
      if Arch.x86:
         r.add('firefox')
         r.add('firefox-rBuilder-search')
      elif Arch.x86_64:
         r.add('firefox', 'conary.rpath.com@rpl:1')
         r.add('firefox-rBuilder-search', flavor='is: x86')
      r.add('epiphany')
      r.add('epiphany-extensions')
      r.add('pidgin')
      r.add('pidgin-encryption')
      r.add('pidgin-plugin_pack')
      r.add('pidgin-libnotify')
      r.add('pidgin-otr')
      r.add('liferea')
      r.add('wvdial')
      r.add('xchat-gnome')
      r.add('xulrunner')
      r.add('nspr')
      r.add('nss')

      r.startGroup('group-mono', parentGroup='group-dist')
      r.add('evolution-sharp')
      r.add('gecko-sharp')
      r.add('gsf-sharp')
      r.add('gtk-sharp')
      r.add('gnome-sharp')
      r.add('gtksourceview-sharp')
      r.add('mono')
      r.add('libgsf') # Required by gsf-sharp

      r.startGroup('group-laptop-tools', parentGroup='group-dist')
      r.add('ipw3945config')
      r.add('laptoptemp')
      r.add('laptop-mode')
      r.add('synaptics')
      r.add('tpb')
      r.add('gnome-pilot')

      r.startGroup('group-bluetooth', parentGroup='group-dist')
      r.add('bluez-libs')
      r.add('bluez-utils')
      r.add('bluez-firmware')
      r.add('openobex')
      r.add('libbtctl')
      r.add('gnome-bluetooth')

      r.startGroup('group-drivers', parentGroup='group-dist')
      r.add('ndiswrapper','/drivers.rpath.org@rpl:devel//fl:desktop//foresight.rpath.org@fl:1-devel/')
      r.add('madwifi', '/drivers.rpath.org@rpl:devel//fl:desktop//foresight.rpath.org@fl:1-devel/')
      r.add('ipw2200-fw:lib')
      r.add('ipw2100-fw:lib')

      r.add('ipw3945-fw:lib')


      #
      # it seems we need after all a flavoured group-dist in order
      # to solve the ati/nvidia driver  issues :-(
      #
      if Use.ati:
          r.add('ati-fglrx')
          r.add('ati-fglrx-kernel')
      if Use.nvidia:
          r.add('nvidia')
          r.add('nvidia-kernel')

      r.startGroup('group-system-config', parentGroup='group-dist')
      r.add("ndisgtk")
      r.add("system-config-display")
      r.add('gnome-system-tools')
      r.add('system-tools-backends')  # temp off in order to get a cookable grouop-dist (doniphon)
      r.add('perl-Net-DBus') # Hack to deal with dep problems
      r.add('perl', 'conary.rpath.com@rpl:1')
      r.add('info-raa-web','raa.rpath.org@rpl:1')
      r.add('raa-plugin-sysmon','raa.rpath.org@rpl:devel')
      r.add('raa-plugin-search')
      r.add('raa-plugin-rPath','raa.rpath.org@rpl:1')
      r.add('raa','/raa.rpath.org@rpath:raa-devel//raa-2/2.0.3-2-1')
      r.add('raa-lighttpd','/raa.rpath.org@rpath:raa-devel//raa-2/2.0.3-2-1')
      r.add('raa-branding')
      r.add('raa-desktop')
      r.add("firestarter")

      r.startGroup('group-gnome-office', parentGroup='group-dist')
      r.add('gnucash')
      r.add('slib')
      r.add('guile')
      r.add('abiword')
      r.add('gnumeric')

      r.startGroup('group-office', parentGroup='group-os', byDefault=False)
      r.add('nas', '/conary.rpath.com@rpl:devel/1.8b-1-3') # needed for openoffice
      r.add('openoffice.org', '/conary.rpath.com@rpl:devel//1//foresight.rpath.org@fl:1-devel')

      r.startGroup('group-foresight-utils', parentGroup='group-dist')
      r.add('foresight-fonts')
      r.add('foresight-chat')
      r.add('foresight-documentation')
      r.add('foresight-recipes')


      r.startGroup('group-devel', parentGroup='group-os',
            byDefault=False)
      r.add('apr')
      r.add('apr-util')
      r.add('autoconf')
      r.add('automake')
      r.add('bison')
      r.add('byacc')
      r.add('cdecl')
      r.add('conary', conaryLabel)
      r.add('conary-build', conaryLabel)
      r.add('conary-policy', conaryLabel)
      r.add('conary-repository', conaryLabel)
      r.add('cproto')
      r.add('ctags')
      r.add('cvs')
      r.add('debugedit')
      r.add('dejagnu')
      if Arch.x86:
          r.add('dev86')
      r.add('devhelp')
      r.add('diffstat')
      r.add('dmalloc')
      r.add('doxygen')
      r.add('elementtree')
      r.add('expect')
      r.add('expectk')
      r.add('expat')
      r.add('flex')
      r.add('foresight-recipes')
      r.add('gc')
      if Arch.x86_64:
          r.add('gcc', flavor='is: x86 x86_64')
          r.add('gcc-c++', flavor='is: x86 x86_64', source='gcc')
          r.add('gcc-f77', flavor='is: x86 x86_64', source='gcc')
          r.add('gcc-java', flavor='is: x86 x86_64', source='gcc')
          r.add('gcc-objc', flavor='is: x86 x86_64', source='gcc')
          r.add('libgcc', flavor='is: x86 x86_64', source='gcc')
          r.add('libstdc++', flavor='is: x86 x86_64', source='gcc')
      else:
          r.add('gcc')
          r.add('gcc-c++', source='gcc')
          r.add('gcc-f77', source='gcc')
          r.add('gcc-java', source='gcc')
          r.add('gcc-objc', source='gcc')
          r.add('libgcc', source='gcc')
          r.add('libstdc++', source='gcc')
      r.add('gdb')
      r.add('glade')
      r.add('gnome-common')
      r.add('groff')
      r.add('gperf')
      r.add('guile')
      r.add('info-rmake')
      r.add('info-rmake-chroot')
      r.add('latex2html')
      r.add('libgcrypt')
      r.add('libgpg-error')
      r.add('userspace-kernel-headers', glibc_label)
      # NOTE: kernel versions are hard coded, please remember
      # to recook these troves for each new kernel.  Those versions
      # are also hard coded in the recipe
      #
      # nvidia-kernel ati-fglrx-kernel
      #
      if Arch.x86:
          r.add('kernel', kernelVersion, flavor='kernel.smp is: x86(cmov,i486,i586,i686)')
      else:
          r.add('kernel', kernelVersion, flavor='kernel.smp')

      if Arch.x86:
          r.add('kernel:build-tree', kernelVersion, flavor='kernel.smp is: x86(cmov,i486,i586,i686)')
      else:
          r.add('kernel:build-tree', kernelVersion, flavor='kernel.smp')

      r.add('ltrace')
      r.add('m4')
      r.add('make')
      r.add('mercurial')
      #r.add('monodoc')
      r.add('mx')
      r.add('nasm')
      r.add('neon')
      r.add('openjade')
      r.add('opensp')
      r.add('passivetex')
      r.add('patch')
      r.add('patchutils')
      r.add('perl-DateManip')
      r.add('perl-DBD-MySQL')
      r.add('perl-DBD-Pg', 'conary.rpath.com@rpl:1')
      r.add('perl-DBI')
      r.add('perl-Digest-HMAC')
      r.add('perl-Digest-SHA1')
      r.add('perl-Filter')
      r.add('perl-Filter-Simple')
      r.add('perl-HTML-Parser')
      r.add('perl-HTML-Tagset')
      r.add('perl-libwww-perl', 'conary.rpath.com@rpl:1')
      r.add('perl-libxml-enno', 'conary.rpath.com@rpl:1')
      r.add('perl-libxml-perl')
      r.add('perl-Net-DNS')
      r.add('perl-Net-IP')
      r.add('perl-Parse-Yapp')
      r.add('perl-SGMLS')
      r.add('perl-Time-HiRes')
      r.add('perl-URI')
      r.add('perl-XML-Dumper')
      r.add('perl-XML-Encoding')
      r.add('perl-XML-Grove')
      r.add('perl-XML-Parser', 'conary.rpath.com@rpl:1')
      r.add('perl-XML-Simple', '/contrib.rpath.org@rpl:devel//foresight.rpath.org@fl:1-devel')
      r.add('perl-XML-Twig')
      r.add('perl-XML-LibXML-Common', '/contrib.rpath.org@rpl:devel//foresight.rpath.org@fl:1-devel')
      r.add('perl-XML-SAX', '/contrib.rpath.org@rpl:devel//foresight.rpath.org@fl:1-devel')
      r.add('perl-XML-NamespaceSupport', '/contrib.rpath.org@rpl:devel//foresight.rpath.org@fl:1-devel')
      r.add('psgml')
      if Arch.x86:
          r.add('pstack')
      r.add('Pyrex')
      r.add('python')
      r.add('PyXML')
      r.add('qt')
      r.add('rcs')
      r.add('rmake')
      r.add('busybox')
      r.add('sgml-common')
      r.add('sgmlop')
      r.add('setarch')
      r.add('sharutils')
      r.add('splint')
      r.add('strace', 'conary.rpath.com@rpl:devel')
      r.add('subversion')
      r.add('sun-jdk')
      r.add('swig')
      r.add('tcl')
      r.add('tetex')
      r.add('tetex-dvips', source='tetex')
      r.add('tetex-fonts')
      r.add('tetex-xdvi')
      r.add('tetex-latex', source='tetex')
      r.add('texi2html')
      r.add('texinfo')
      r.add('xhtml1-dtds')
      r.add('xmltex')
      r.add('xmlto')
      r.add('gtk-doc')
      r.add('bug-buddy')
      r.add('util-macros')
      r.add('eclipse-sdk','arq-rad.rpath.org@rpl:devel/3.2-2-1', byDefault=False)
      r.add('imake')
      r.add('glibc:devel', glibc_version)
      r.add('glibc:devellib', glibc_version)
      r.add('binutils:devel')
      r.add('libsigc++:devel')
      r.add('openssl:devel')
      r.add('pkgconfig:devel')

      # Move devel and devellib components to group-devel
      for moveGroup in (
          'group-base',
          'group-bluetooth',
          'group-core',
          'group-desktop',
          'group-dist-base',
          'group-dist-extras',
          'group-drivers',
          'group-foresight-utils',
          'group-games',
          'group-gnome',
          'group-internet',
          'group-laptop-tools',
          'group-media',
          'group-mono',
          'group-office',
          'group-printing',
          'group-system-config',
          'group-turbogears',
          'group-xorg',
          'group-xorg-applications',
          'group-xorg-data',
          'group-xorg-drivers',
          'group-xorg-fonts',
          'group-xorg-fonts-extra',
          'group-xorg-input-drivers',
          'group-xorg-libraries',
          'group-xorg-others',
          'group-xorg-protocols',
          'group-xorg-server',
          'group-xorg-video-drivers'):
              r.moveComponents([':devellib', ':devel'], moveGroup, 'group-devel')

