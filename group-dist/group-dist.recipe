#
# Copyright (c) 2004-2005 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Dist(GroupRecipe):
    name = 'group-dist'
    version = '0.9.4.mr1'

    autoResolve = True
    depCheck = True
    checkOnlyByDefaultDeps = True

    def startGroup(r, name, parentGroup, depCheck=False, byDefault=True):
      # creates group named "name", adds it to the toplevel group,
      # and sets the current group to that name.  calls to r.add()
      # will use the current group by default.

      # note: byDefault applies to whether the group is included by
      # default in its parent group, not whether the troves in
      # the group are added by default. (use the setByDefault() command
      # to get that)

      # get all the the default for the new group from its parent group.
      r.setDefaultGroup(parentGroup)
      r.createGroup(name, autoResolve=False, depCheck=depCheck,
                  byDefault=True)
      r.addNewGroup(name, groupName=parentGroup, byDefault=byDefault)
      r.setDefaultGroup(name)
      #r.removeComponents(['devel', 'devellib'])

    def setup(r):
      r.setLabelPath('foresight.rpath.org@fl:desktop', 'drivers.rpath.org@rpl:1', 'conary.rpath.com@rpl:1','contrib.rpath.org@rpl:1','contrib.rpath.org@rpl:devel')
      compatLabel='conary.rpath.com@rpl:1-compat'

      r.createGroup('group-os')
      r.addNewGroup('group-dist', groupName='group-os')
      r.startGroup('group-core', parentGroup='group-dist', depCheck=True)
      r.add('acl:lib')
      r.add('acl:runtime')
      r.add('ash:runtime')
      r.add('attr:lib')
      r.add('attr:runtime')
      r.add('authconfig:runtime')
      r.add('bash:runtime')
      r.add('bzip2:lib')
      r.add('bzip2:runtime')
      r.add('chkconfig:lib')
      r.add('chkconfig:runtime')
      r.add('conary:data')
      r.add('conary:python')
      r.add('conary:runtime')
      r.add('coreutils:runtime')
      r.add('cpio:runtime')
      r.add('cracklib:lib')
      r.add('cyrus-sasl:lib')
      r.add('db:lib')
      r.add('dev:runtime')
      r.add('dhclient:runtime')
      r.add('dhclient:lib')
      r.add('diffutils:runtime')
      r.add('distro-release')
      r.add('e2fsprogs:data')
      r.add('e2fsprogs:lib')
      r.add('e2fsprogs:runtime')
      r.add('file:data')
      r.add('file:lib')
      r.add('file:runtime')
      r.add('filesystem:runtime')
      r.add('findutils:runtime')
      r.add('gawk:data')
      r.add('gawk:runtime')
      r.add('gdbm:lib')
      r.add('glib:lib')
      r.add('glib:data')
      if Arch.x86:
          r.add('glibc:lib', flavor='is: x86(i486,i586,i686)')
          r.add('glibc:runtime', flavor='is: x86(i486,i586,i686)')
          r.add('glibc:locale', flavor='is: x86(i486,i586,i686)')
      if Arch.x86_64:
          r.add('glibc:lib')
          r.add('glibc:runtime')
          r.add('glibc:locale')
          r.add('glibc:lib', flavor='is: x86(i486,i586,i686)')
      r.add('gmp:lib', 'conary.rpath.com@rpl:1')
      r.add('gpm:lib')
      r.add('gpm:runtime')
      r.add('grep:runtime')
      if Arch.x86_64:
          r.add('grub:data', flavor='grub.static is: x86')
          r.add('grub:runtime', flavor='grub.static is: x86')
      else:
          r.add('grub:data')
          r.add('grub:runtime')
      r.add('gzip:runtime')
      r.add('hotplug:runtime')
      r.add('hwdata:data')
      r.add('hwdata:lib')
      r.add('hwdata:runtime')
      r.add('info-daemon')
      r.add('info-disk')
      r.add('info-emerge')
      r.add('info-floppy')
      r.add('info-kmem')
      r.add('info-lp')
      r.add('info-tty')
      r.add('info-users')
      r.add('info-utmp')
      r.add('info-uucp')
      r.add('initscripts:runtime')
      r.add('iproute:lib')
      r.add('iproute:runtime')
      r.add('iptables:lib')
      r.add('iptables:runtime')
      r.add('iputils:runtime')
      r.add('kbd:lib')
      r.add('kbd:runtime')
      if Arch.x86:
          r.add('kernel:runtime', 'conary.rpath.com@rpl:1', flavor='!kernel.smp is: x86(cmov,i486,i586,i686)', byDefault=False)
      else:
          r.add('kernel:runtime', 'conary.rpath.com@rpl:1', flavor='!kernel.smp', byDefault=False)
      r.add('krb5:lib','conary.rpath.com@rpl:1')
      r.add('krb5:data','conary.rpath.com@rpl:1')
      r.add('kudzu:python')
      r.add('kudzu:runtime')
      r.add('libelf:lib')
      if Arch.x86_64:
          r.add('libgcc:lib', flavor='is: x86 x86_64', source='gcc')
          r.add('libstdc++:lib', flavor='is: x86 x86_64', source='gcc')
      else:
          r.add('libgcc:lib', source='gcc')
          r.add('libstdc++:lib', source='gcc')
      r.add('libtermcap:lib')
      r.add('libuser:lib')
      r.add('libuser:python')
      r.add('libuser:runtime')
      r.add('mdadm:runtime')
      r.add('mingetty:runtime')
      r.add('mkinitrd:runtime', 'conary.rpath.com@rpl:1')
      r.add('mktemp:runtime')
      r.add('module-init-tools:runtime')
      r.add('ncurses:data')
      r.add('ncurses:lib')
      r.add('ncurses:runtime')
      r.add('net-tools:runtime')
      r.add('newt:lib')
      r.add('openssl:lib', compatLabel)
      r.add('openssl:config')
      r.add('openssl:data')
      r.add('openssl:lib')
      r.add('pam:data')
      r.add('pam:lib')
      r.add('passwd:runtime')
      r.add('pcre:lib')
      r.add('popt:lib')
      r.add('procps:lib')
      r.add('procps:runtime')
      r.add('pycrypto:python')
      r.add('python:devel')
      r.add('python:devellib')
      r.add('python:lib')
      r.add('python:runtime')
      r.add('readline:lib')
      r.add('rhpl:data','conary.rpath.com@rpl:1')
      r.add('rhpl:python','conary.rpath.com@rpl:1')
      r.add('rhpl:runtime','conary.rpath.com@rpl:1')
      r.add('rootfiles:runtime')
      r.add('sed:runtime')
      r.add('setup:runtime')
      r.add('shadow:runtime')
      r.add('slang:lib')
      r.add('sqlite:lib')
      r.add('sysklogd:runtime')
      r.add('sysfsutils:lib')
      r.add('sysfsutils:runtime')
      r.add('sysvinit:runtime')
      r.add('tar:runtime')
      r.add('termcap:runtime')
      r.add('tmpwatch:runtime')
      r.add('tzdata:data')
      r.add('udev:data', 'conary.rpath.com@rpl:1')
      r.add('udev:lib', 'conary.rpath.com@rpl:1')
      r.add('udev:runtime', 'conary.rpath.com@rpl:1')
      r.add('usermode:runtime')
      r.add('util-linux:data', 'conary.rpath.com@rpl:1')
      r.add('util-linux:runtime', 'conary.rpath.com@rpl:1')
      r.add('vim-minimal:runtime', source='vim')
      r.add('wireless-tools:lib','conary.rpath.com@rpl:1')
      r.add('zlib:lib')



      r.startGroup('group-base', parentGroup='group-dist')
      r.add('a2ps')
      r.add('acl')
      r.add('acpid')
      r.add('alsa-lib')
      r.add('alsa-utils')
      r.add('anacron')
      if Arch.x86:
          r.add('apmd')
      r.add('arpwatch')
      r.add('ash')
      r.add('aspell')
      r.add('aspell-en')
      r.add('at')
      r.add('attr')
      r.add('authconfig')
      r.add('autofs')
      r.add('avahi')
      r.add('bash')
      r.add('bc')
      r.add('binutils')
      r.add('bzip2')
      r.add('cdrdao')
      r.add('cdrtools')
      r.add('chkconfig')
      r.add('conary')
      r.add('coreutils')
      r.add('cpio')
      r.add('cpufrequtils')
      r.add('cracklib')
      r.add('crontabs')
      r.add('cups')
      r.add('curl')
      r.add('cyrus-sasl')
      r.add('db')
      r.add('dbus')
      r.add('dev')
      r.add('device-mapper')
      r.add('dhclient')
      r.add('diffutils')
      r.add('distro-release')
      r.add('dmidecode')
      r.add('dos2unix')
      r.add('dosfstools')
      r.add('dvd+rw-tools')
      r.add('e2fsprogs')
      r.add('ed')
      r.add('eject')
      r.add('elfutils')
      r.add('elinks')
      r.add('enscript')
      r.add('epdb')
      r.add('espgs')
      r.add('ethtool')
      r.add('fbset')
      r.add('fetchmail')
      r.add('file')
      r.add('filesystem')
      r.add('findutils')
      r.add('finger')
      r.add('flac')
      r.add('floppy')
      r.add('ftp')
      r.add('gamin')
      r.add('gawk')
      r.add('gd')
      r.add('gdbm')
      r.add('gettext')
      r.add('ghostscript-fonts')
      r.add('gimp-print')
      r.add('glib')
      if Arch.x86:
          r.add('glibc', flavor='is: x86(i486,i586,i686)')
      else:
          r.add('glibc')
      if Arch.x86_64:
          r.add('glibc:lib', flavor='is: x86(i486,i586,i686)')
      r.add('gmp', 'conary.rpath.com@rpl:1')
      r.add('gnupg')
      r.add('gpm')
      r.add('grep')
      if Arch.x86_64:
          r.add('grub', flavor='grub.static is: x86')
      else:
          r.add('grub')
      r.add('gzip')
      r.add('hal')
      r.add('hdparm')
      r.add('hotplug')
      r.add('hwdata')
      r.add('ImageMagick')
      r.add('indent')
      r.add('info', source='texinfo')
      r.add('initscripts')
      r.add('install-info', source='texinfo')
      r.add('iproute')
      r.add('iptables')
      r.add('iputils')
      r.add('irda-utils')
      r.add('irqbalance')
      r.add('jfsutils')
      r.add('joe')
      r.add('jwhois')
      r.add('kbd')
      r.add('krb5-workstation', 'conary.rpath.com@rpl:1')
      r.add('kudzu')
      r.add('less')
      r.add('lftp')
      r.add('lm_sensors')
      r.add('lockdev')
      r.add('logrotate')
      r.add('logwatch')
      r.add('longrun')
      r.add('lsof')
      r.add('lvm2')
      r.add('lynx')
      r.add('MAKEDEV')
      r.add('mailbase')
      r.add('mailcap')
      r.add('man')
      r.add('man-pages')
      r.add('mdadm')
      if Arch.x86:
          r.add('microcode_ctl')
      r.add('mingetty')
      r.add('minicom')
      r.add('mkbootdisk')
      r.add('mkinitrd', 'conary.rpath.com@rpl:1')
      r.add('mkisofs', source='cdrtools')
      r.add('mktemp')
      r.add('module-init-tools')
      r.add('mtools')
      r.add('mt-st')
      r.add('mutt')
      r.add('nail')
      r.add('nano')
      r.add('ncurses')
      r.add('netpbm')
      r.add('net-snmp')
      r.add('net-snmp-utils', source='net-snmp')
      r.add('net-tools')
      r.add('newt')
      r.add('nfsidmap')
      r.add('nfs-utils')
      r.add('nmap')
      r.add('ntp')
      r.add('ntsysv')
      r.add('numlockx')
      r.add('numlockx')
      r.add('openldap-clients')
      r.add('openssh')
      r.add('openssh-client', source='openssh')
      r.add('openssh-server', source='openssh')
      r.add('openssl')
      r.add('pam')
      r.add('pam_krb5')
      r.add('pam_smb')
      r.add('passwd')
      r.add('pciutils')
      r.add('pcmcia-cs')
      r.add('pcre')
      r.add('perl')
      r.add('pilot-link')
      r.add('pinfo')
      r.add('pm-utils')
      r.add('popt')
      r.add('portmap')
      r.add('ppp')
      r.add('procmail')
      r.add('procps')
      r.add('psmisc')
      r.add('psutils')
      r.add('pump')
      r.add('pycrypto')
      r.add('python')
      r.add('quota')
      r.add('readline')
      r.add('reiserfsprogs')
      r.add('rhpl','conary.rpath.com@rpl:1')
      #r.add('rhpxl')
      r.add('rootfiles')
      r.add('rp-pppoe')
      r.add('rsh')
      r.add('rsync')
      r.add('run')
      r.add('rusers')
      r.add('rwho')
      r.add('schedutils')
      r.add('screen')
      r.add('sed')
      r.add('setserial')
      r.add('setup')
      r.add('setuptool')
      r.add('shadow')
      r.add('slang')
      r.add('slocate')
      r.add('smartmontools')
      r.add('speex')
      r.add('sqlite')
      r.add('sudo')
      r.add('sysfsutils')
      r.add('sysklogd')
      r.add('syslinux')
      r.add('sysstat')
      r.add('sysvinit')
      r.add('talk')
      r.add('tar')
      r.add('tcpdump')
      r.add('tcp_wrappers')
      r.add('tcsh')
      r.add('telnet')
      r.add('termcap')
      r.add('tethereal', source='ethereal')
      r.add('tftp')
      r.add('time')
      r.add('tmpwatch')
      r.add('traceroute')
      r.add('tzdata')
      r.add('udev', 'conary.rpath.com@rpl:1')
      r.add('units')
      r.add('unix2dos')
      r.add('unrar')
      r.add('unrar')
      r.add('unzip')
      r.add('urlgrabber')
      r.add('urw-fonts')
      r.add('usbutils')
      r.add('usermode')
      r.add('utempter')
      r.add('util-linux', 'conary.rpath.com@rpl:1')
      r.add('vconfig')
      r.add('vim')
      r.add('vim-minimal', source='vim')
      r.add('vixie-cron')
      r.add('vorbis-tools')
      r.add('wget')
      r.add('which')
      r.add('wireless-tools')
      r.add('words')
      r.add('wvdial')
      r.add('wvstreams')
      if Arch.x86:
          r.add('x86info')
      r.add('xdelta')
      r.add('xfsprogs')
      r.add('xplc')
      r.add('ypbind')
      r.add('yp-tools')
      r.add('zip')
      r.add('zlib')

      r.startGroup('group-netserver', parentGroup='group-os',
         byDefault=False)
      r.add('bind:runtime')
      r.add('bind:lib')
      r.add('bind-utils', source='bind')
      r.add('caching-nameserver')
      r.add('distcache')
      r.add('elementtree')
      r.add('kid')
      r.add('krb5', 'conary.rpath.com@rpl:1')
      r.add('neon')
      r.add('php')
      r.add('pidentd')
      r.add('rdate')
      r.add('rwho')
      r.add('samba', 'conary.rpath.com@rpl:1')
      r.add('sendmail')
      r.add('sendmail-cf', source='sendmail')
      r.add('xinetd')

      if Arch.x86_64:
          r.startGroup('group-compat32', parentGroup='group-dist')
          r.add('glibc:lib', flavor='is: x86(i486,i586,i686)')
          r.add('glibc:devellib', flavor='is: x86(i486,i586,i686)')
          r.add('acl:lib', flavor='is: x86')
          r.add('alsa-lib:lib', flavor='is: x86')
          r.add('atk:lib', flavor='is: x86')
          r.add('attr:lib', flavor='is: x86')
          r.add('audiofile:lib', flavor='is: x86')
          r.add('bzip2:lib', flavor='is: x86')
          r.add('cairo:lib', flavor='is: x86')
          r.add('cdparanoia:lib', flavor='is: x86')
          r.add('cracklib:lib', flavor='is: x86')
          r.add('cups:lib', flavor='is: x86')
          r.add('curl:lib', flavor='is: x86')
          r.add('cyrus-sasl:lib', flavor='is: x86')
          r.add('db:lib', flavor='is: x86')
          r.add('e2fsprogs:lib', flavor='is: x86')
          r.add('expat:lib', flavor='is: x86')
          r.add('esound:lib', flavor='is: x86')
          r.add('fontconfig:lib', flavor='is: x86')
          r.add('freetype:lib', flavor='is: x86')
          r.add('GConf:lib', flavor='is: x86')
          r.add('gamin:lib', flavor='is: x86')
          r.add('gdbm:lib', flavor='is: x86')
          r.add('glib:lib', flavor='is: x86')
          r.add('gnome-vfs:lib', flavor='is: x86')
          r.add('gmp:lib', 'conary.rpath.com@rpl:1', flavor='is: x86(!sse2)')
          r.add('gpm:lib', flavor='is: x86')
          r.add('gtk:lib', flavor='is: x86')
          r.add('avahi:lib', flavor='is: x86')
          r.add('krb5:lib', 'conary.rpath.com@rpl:1', flavor='is: x86')
          r.add('krbafs:lib', flavor='is: x86')
          r.add('libart_lgpl:lib', flavor='is: x86')
          r.add('libbonobo:lib', flavor='is: x86')
          r.add('libgnomecups:lib', flavor='is: x86')
          r.add('libgnome:lib', flavor='is: x86')
          r.add('libIDL:lib', flavor='is: x86')
          r.add('libjpeg:lib', flavor='is: x86')
          r.add('libpng:lib', flavor='is: x86')
          r.add('libtiff:lib', flavor='is: x86')
          r.add('libxml2:lib', 'conary.rpath.com@rpl:1', flavor='is: x86')
          r.add('ncurses:lib', flavor='is: x86')
          r.add('nss_ldap:lib', flavor='is: x86')
          r.add('openldap:lib', flavor='is: x86')
          r.add('openoffice.org', flavor='is: x86')
          r.add('openssl:lib', flavor='is: x86')
          r.add('ORBit2:lib', flavor='is: x86')
          r.add('pam_krb5:lib', flavor='is: x86')
          r.add('pam_smb:lib', flavor='is: x86')
          r.add('pam:lib', flavor='is: x86')
          r.add('pango:lib', flavor='is: x86')
          r.add('popt:lib', flavor='is: x86')
          r.add('readline:lib', flavor='is: x86')
          r.add('samba:lib', 'conary.rpath.com@rpl:1', flavor='is: x86')
          r.add('startup-notification:lib', flavor='is: x86')
          r.add('tcl:lib', flavor='is: x86')
          r.add('tk:lib', flavor='is: x86')
          r.add('xorg-x11:lib', flavor='is: x86')
          r.add('x86info', flavor='is: x86')
          r.add('zlib:lib', flavor='is: x86')


      r.startGroup('group-xorg', parentGroup='group-dist')
      r.add('authconfig-gtk', source='authconfig')
      r.add('bitmap-fonts')
      r.add('bitstream-vera-fonts')
      r.add('chkfontpath')
      r.add('dbus-x11', source='dbus')
      r.add('dbus-mono', source='dbus')
      r.add('dbus-glib', source='dbus')
      r.add('desktop-file-utils')
      r.add('firstboot')
      r.add('fontconfig')
      r.add('freetype')
      r.add('gal')
      r.add('gdm')
      r.add('hicolor-icon-theme')
      r.add('hwbrowser')
      r.add('linc')
      r.add('mozilla:lib')
      r.add('mozilla:data')
      r.add('mozilla-mail:lib', source='mozilla')
      r.add('mozilla-nspr' , source='mozilla')
      r.add('mozilla-nss:lib', source='mozilla')
      r.add('mtr')
      #r.add('nvidia', 'drivers.rpath.org@rpl:1')
      r.add('poppler')
      r.add('pyxf86config')
      r.add('pygtk')
      r.add('pyorbit')
      r.add('pyparted')
      r.add('SDL')
      r.add('SDL_image')
      r.add('SDL_mixer')
      r.add('SDL_net')
      r.add('shared-mime-info')
      r.add('startup-notification')
      r.add('switchdesk')
      r.add('ttmkfdir')
      r.add('ttfprint')
      r.add('usermode-gtk', source='usermode')
      r.add('Xaw3d')
      r.add('xinitrc')
      r.add('x11-ssh-askpass')
      r.add('xorg-x11')
      r.add('xorg-x11-fonts')
      r.add('xorg-x11-tools')
      r.add('xorg-x11-xfs')
      #r.add('xscreensaver')
      r.add('xterm')

      r.startGroup('group-gnome', parentGroup='group-dist')
      r.add('atk')
      r.add('at-spi')
      r.add('audiofile')
      r.add('bug-buddy')
      r.add('cairo')
      r.add('control-center')
      r.add('dbus-glib', source='dbus')
      r.add('eel')
      #r.add('eggcups')
      r.add('eog')
      r.add('esound')
      r.add('evince')
      r.add('file-roller')
      r.add('gail')
      r.add('gal')
      r.add('gcalctool')
      r.add('GConf')
      r.add('gconf-editor')
      r.add('gdm')
      r.add('gedit')
      r.add('gksu')
      r.add('glade')
      r.add('glib')
      r.add('glibmm')
      r.add('gmime')
      r.add('gnome-user-docs')
      r.add('gnome-applets')
      r.add('gnome-audio')
      r.add('gnome-backgrounds')
      r.add('gnome-cups-manager')
      r.add('gnome-desktop')
      r.add('gnome-doc-utils')
      r.add('gnome-games')
      r.add('gnome-icon-theme')
      r.add('gnome-keyring')
      r.add('gnome-keyring-manager')
      r.add('gnome-mag')
      r.add('gnome-media')
      r.add('gnome-menus')
      r.add('gnome-mime-data')
      r.add('gnome-netstatus')
      r.add('gnome-nettool')
      r.add('gnome-panel')
      r.add('gnome-pilot')
      r.add('gnome-pilot-conduits')
      r.add('gnome-python')
      r.add('gnome-python-desktop')
      r.add('gnome-python-extras')
      r.add('gnome-screensaver')
      r.add('gnome-session')
      r.add('gnome-speech')
      r.add('gnome-spell')
      r.add('gnome-ssh-askpass', source='openssh')
      r.add('gnome-system-monitor')
      r.add('gnome-terminal')
      r.add('gnome-themes')
      r.add('gnome-utils')
      r.add('gnome-vfs')
      r.add('gnome-volume-manager')
      r.add('gnopernicus')
      r.add('gok')
      r.add('gtk')
      #r.add('gtk-doc')
      r.add('gtk-engines')
      r.add('gtkhtml')
      r.add('gtkmm')
      r.add('gtksourceview')
      r.add('gtkspell')
      r.add('gucharmap')
      r.add('gvim', source='vim')
      r.add('hal-gnome',  source='hal')
      r.add('intltool')
      r.add('lcms')
      r.add('libart_lgpl')
      r.add('libbonobo')
      r.add('libbonoboui')
      r.add('libgail-gnome')
      r.add('libgksu1.2')
      r.add('libgksuui1.0')
      r.add('libglade')
      r.add('libgnome')
      r.add('libgnomecanvas')
      r.add('libgnomecups')
      r.add('libgnomeprint')
      r.add('libgnomeprintui')
      r.add('libgnomeui')
      r.add('libgtop')
      r.add('libIDL')
      r.add('librsvg')
      r.add('libsexy')
      r.add('libsoup')
      if Arch.x86_64:
          r.add('libstdc++:lib', flavor='is: x86 x86_64', source='gcc')
          r.add('libstdc++:lib', compatLabel, flavor='is: x86 x86_64', source='gcc')
      else:
          r.add('libstdc++:lib', source='gcc')
          r.add('libstdc++:lib', compatLabel, source='gcc')
      r.add('libwnck')
      r.add('libwmf')
      r.add('libxklavier')
      r.add('libxml2', 'conary.rpath.com@rpl:1')
      r.add('libxslt')
      r.add('metacity')
      r.add('nautilus')
      r.add('ORBit2')
      r.add('pango')
      r.add('pkgconfig')
      r.add('scrollkeeper')
      r.add('startup-notification')
      r.add("tango-icon-theme")
      r.add('vino')
      r.add('vte')
      r.add('yelp')
      r.add('zenity')

      r.startGroup('group-dist-base', parentGroup='group-dist')
      r.add('Hermes')
      r.add('cyrus-sasl')
      r.add('cyrus-sasl')
      r.add('info-adm')
      r.add('info-amanda')
      r.add('info-apache')
      r.add('info-avahi')
      r.add('info-beagleindex')
      r.add('info-bin')
      r.add('info-canna')
      r.add('info-cyrus')
      r.add('info-daemon')
      r.add('info-dbus')
      r.add('info-dip')
      r.add('info-disk')
      r.add('info-dovecot')
      r.add('info-emerge')
      r.add('info-exim')
      r.add('info-fax')
      r.add('info-fcron')
      r.add('info-floppy')
      r.add('info-ftp')
      r.add('info-games')
      r.add('info-gdm')
      r.add('info-gopher')
      r.add('info-haldaemon')
      r.add('info-halt')
      r.add('info-htt')
      r.add('info-ident')
      r.add('info-kmem')
      r.add('info-ldap')
      r.add('info-lock')
      r.add('info-lp')
      r.add('info-mail')
      r.add('info-mailman')
      r.add('info-mailnull')
      r.add('info-man')
      r.add('info-mem')
      r.add('info-mysql')
      r.add('info-named')
      r.add('info-netdump')
      r.add('info-news')
      r.add('info-nfsnobody')
      r.add('info-nobody')
      r.add('info-nscd')
      r.add('info-ntp')
      r.add('info-nut')
      r.add('info-operator')
      r.add('info-pcap')
      r.add('info-postdrop')
      r.add('info-postfix')
      r.add('info-postgres')
      r.add('info-privoxy')
      r.add('info-pvm')
      r.add('info-quagga')
      r.add('info-quaggavt')
      r.add('info-radiusd')
      r.add('info-radvd')
      r.add('info-rpc')
      r.add('info-rpcuser')
      r.add('info-shutdown')
      r.add('info-slocate')
      r.add('info-smmsp')
      r.add('info-squid')
      r.add('info-sshd')
      r.add('info-sync')
      r.add('info-sys')
      r.add('info-tomcat')
      r.add('info-tty')
      r.add('info-users')
      r.add('info-utmp')
      r.add('info-uucp')
      r.add('info-vcsa')
      r.add('info-webalizer')
      r.add('info-wheel')
      r.add('info-wnn')
      r.add('info-xfs')
      r.add('libao')
      r.add('libcap')
      r.add('libcroco')
      r.add('libelf', source='elfutils')
      r.add('libevent')
      r.add('libexif')
      r.add('libgsf')
      r.add('libgtkhtml')
      r.add('libieee1284')
      r.add('libjpeg')
      r.add('libmng')
      r.add('libmusicbrainz')
      r.add('libogg')
      r.add('libole2')
      r.add('libpcap')
      r.add('libpng')
      r.add('libsigc++')
      r.add('libtermcap')
      r.add('libtheora')
      r.add('libtiff')
      r.add('libtool')
      r.add('libungif')
      r.add('libusb')
      r.add('libuser')
      r.add('libvorbis')
      r.add('mysql:lib')
      r.add('mysql:data')
      r.add('nss_ldap')
      r.add('openh323')
      r.add('openldap:lib')
      r.add('openldap:data')
      r.add('postgresql:lib')
      r.add('pwlib')
      r.add('VFlib')
      r.add('w3c-libwww')

      r.startGroup('group-dist-extras', parentGroup='group-dist')
      r.add('cdda2wav', source='cdrtools')
      r.add('cdparanoia')
      r.add('dialog')
      r.add('epic')
      r.add('hesiod')
      r.add('htmlview')
      r.add('nc')
      r.add('parted')
      r.add('pmount')
      r.add('linux-kernel-headers')

      r.startGroup('group-os-extras', parentGroup='group-os')
      r.setByDefault(False)
      r.add('am-utils')
      r.add('aspell-de')
      r.add('bind')
      r.add('bogl')
      r.add('booty')
      r.add('busybox')
      r.add('devlabel')
      r.add('dhcp')
      if Arch.x86:
          r.add('dietlibc')
      r.add('dovecot')
      r.add('dump')
      r.add('ethereal')
      r.add('finger-server')
      if Arch.x86_64:
          r.add('firefox', 'conary.rpath.com@rpl:1')
          r.add('firefox-rBuilder-search')
      r.add('fonts-chinese')
      r.add('gimp')
      r.add('gparted')
      r.add('gnome-themes-extras')
      r.add('inn')
      r.add('iso-codes')
      r.add('krbafs')
      r.add('lrzsz')
      r.add('mailman')
      #r.add('group-mozilla-libs') #FIXME
      r.add('mysql')
      r.add('openldap')
      r.add('pax')
      r.add('pdksh')
      r.add('postfix')
      r.add('PyGreSQL')
      r.add('quagga')
      r.add('radvd')
      r.add('rmt')
      r.add('rusers-server')
      r.add('sane-frontends')
      r.add('statserial')
      r.add('stunnel')
      r.add('symlinks')
      r.add('tclx')
      r.add('vnc')
      r.add('xsane')
      r.add('ypserv')
      r.add('autoconf', compatLabel)
      r.add('automake', compatLabel)
      r.add('db:lib', compatLabel)
      r.add('openssl:lib', compatLabel)
      r.add('readline:lib', compatLabel)
      if Arch.x86_64:
          r.add('libstdc++:lib', compatLabel, flavor='is: x86 x86_64', source='gcc')
      else:
          r.add('libstdc++:lib', compatLabel, source='gcc')
      r.add('sane-backends')

      r.startGroup('group-machine-root', parentGroup='group-os',
                 byDefault=False)
      r.add('MAKEDEV')
      r.add('attr:lib')
      r.add('acl:lib')
      r.add('automake')
      r.add('autoconf')
      r.add('bash')
      r.add('binutils')
      r.add('bison')
      r.add('byacc')
      r.add('bzip2')
      r.add('conary')
      r.add('coreutils')
      r.add('cpio')
      r.add('cracklib:lib')
      r.add('db')
      r.add('dev')
      r.add('diffutils')
      r.add('distro-release')
      r.add('e2fsprogs')
      r.add('ed')
      r.add('elementtree')
      r.add('elfutils')
      r.add('expat:lib')
      r.add('filesystem')
      r.add('file')
      r.add('findutils')
      r.add('flex')
      r.add('fontconfig:lib')
      r.add('freetype:lib')
      r.add('gawk')
      r.add('gdbm:lib')
      if Arch.x86_64:
          r.add('gcc', flavor='is: x86 x86_64')
          r.add('gcc-c++', flavor='is: x86 x86_64', source='gcc')
          r.add('libgcc', flavor='is: x86 x86_64', source='gcc')
          r.add('libstdc++', flavor='is: x86 x86_64', source='gcc')
      else:
          r.add('gcc')
          r.add('gcc-c++', source='gcc')
          r.add('libgcc', source='gcc')
          r.add('libstdc++', source='gcc')
      r.add('gettext')
      if Arch.x86:
          glibcFlavor = 'is: x86(i486,i586,i686)'
      else:
          glibcFlavor = None
      r.add('glibc:runtime', flavor=glibcFlavor)
      r.add('glibc:lib', flavor=glibcFlavor)
      r.add('glibc:devel', flavor=glibcFlavor)
      r.add('glibc:devellib', flavor=glibcFlavor)
      r.add('gmp:lib', 'conary.rpath.com@rpl:1')
      r.add('grep')
      r.add('gzip')
      r.add('kid')
      r.add('krb5', 'conary.rpath.com@rpl:1')
      r.add('libelf')
      r.add('libjpeg:lib')
      r.add('libpng:lib')
      r.add('libtermcap')
      r.add('libtiff:lib')
      r.add('libtool')
      r.add('linux-kernel-headers')
      #r.add('kernel:build-tree')
      r.add('make')
      r.add('m4')
      r.add('mktemp')
      r.add('ncurses:lib')
      r.add('ncurses:data')
      r.add('openssl')
      r.add('pam')
      r.add('patch')
      r.add('perl')
      r.add('pcre')
      r.add('popt')
      r.add('pycrypto:python')
      r.add('python:lib')
      r.add('python:runtime')
      r.add('python:devel')
      r.add('python:devellib')
      r.add('readline:lib')
      r.add('sed')
      r.add('setup')
      r.add('slang:lib')
      r.add('sqlite')
      r.add('tar')
      r.add('texinfo')
      r.add('tzdata:data')
      r.add('unzip')
      r.add('util-linux', 'conary.rpath.com@rpl:1')
      r.add('zlib')
      if Arch.x86_64:
          r.add('glibc:lib', flavor='is: x86(i486,i586,i686)')
          r.add('glibc:devellib', flavor='is: x86(i486,i586,i686)')

      r.startGroup('group-games', parentGroup='group-dist')
      r.add('gnome-sudoku')
      r.add("freeciv")
      r.add("jotto")
      r.add("gnuchess")
      r.add("freeciv")
      r.add("jotto")
      r.add("gnuchess")

      r.startGroup('group-desktop', parentGroup='group-dist')
      r.add('beagle')
      r.add('deskbar-applet')
      r.add('f-spot')
      r.add('flashplayer','zaphod.rpath.org@zap:1')
      r.add('fast-user-switch-applet')
      r.add('gDesklets')
      r.add('tomboy')
      #r.add('tomboy-reminder')
      r.add('libgalago')
      r.add('libgphoto2', 'contrib.rpath.org@rpl:devel')
      r.add('gphoto2')
      r.add('galago-daemon')
      r.add('galago-sharp')
      r.add('eds-feed')
      r.add('gaim-galago')
      r.add('libgalago-gtk')
      r.add('gnome-presence-applet')
      r.add('libnotify')
      r.add('msttcorefonts')
      r.add('notification-daemon')
      r.add('nautilus-open-terminal')
      r.add('nautilus-sendto')
      r.add('preload')
      r.add('sbackup')
      r.add('sqlite2') #Needed by f-spot


      r.startGroup('group-media', parentGroup='group-dist')
      r.add('banshee')
      r.add('gnomebaker')
      r.add('gst-plugins-base')
      r.add('gst-plugins-good')
      r.add('gst-plugins-ugly')
      r.add('gstreamer')
      r.add('hal-sharp')
      r.add('ipod-sharp')
      r.add('jack')
      r.add('libid3tag')
      r.add('libipoddevice')
      r.add('libmusicbrainz')
      r.add('libogg')
      r.add('libsndfile', 'conary.rpath.com@rpl:devel')
      r.add('mplayerplug-in')
      r.add('nautilus-cd-burner')
      r.add('libdvdcss', 'orleans.rpath.org@rpl:devel')
      r.add('libdv', 'orleans.rpath.org@rpl:devel')
      r.add('libmad', 'orleans.rpath.org@rpl:devel')
      r.add('mplayer', 'orleans.rpath.org@rpl:devel')
      r.add('MPlayer-codecs', 'orleans.rpath.org@rpl:devel', flavor='is: x86')
      r.add('xine-lib', 'orleans.rpath.org@rpl:devel')
      r.add('xine-ui', 'orleans.rpath.org@rpl:devel')
      r.add('lame', 'orleans.rpath.org@rpl:devel')
      r.add('taglib')
      r.add('totem')

      r.startGroup('group-internet', parentGroup='group-dist')
      r.add("blam")
      r.add('evolution')
      r.add('evolution-data-server')
      r.add('evolution-webcal')
      if Arch.x86:
         r.add('firefox', 'conary.rpath.com@rpl:1')
         r.add('firefox-rBuilder-search')
      elif Arch.x86_64:
         r.add('firefox', 'conary.rpath.com@rpl:1')
         r.add('firefox-rBuilder-search', flavor='is: x86')
      r.add('gaim')
      r.add('gftp')
      r.add('wvdial')
      r.add('xchat-gnome')

      r.startGroup('group-mono', parentGroup='group-dist')
      # Removed for now, requires libeshell.so.0 from evolution
      #r.add('evolution-sharp')
      r.add('gecko-sharp','contrib.rpath.org@rpl:devel')
      r.add('gsf-sharp')
      r.add('gtk-sharp','contrib.rpath.org@rpl:devel')
      r.add('gtk-sharp','contrib.rpath.org@rpl:gtk-sharp1')
      r.add('gtksourceview-sharp')
      r.add('mono')
      r.add('libgsf') # Required by gsf-sharp

      r.startGroup('group-laptop-tools', parentGroup='group-dist',
                 byDefault=False)
      r.add('NetworkManager')
      r.add('libnl')
      r.add('wpa_supplicant')
      r.add('gnome-power-manager')
      r.add('dhclient')
      r.add('dhcdbd')
      r.add('ndiswrapper', 'drivers.rpath.org@rpl:1')
      r.add('madwifi', 'drivers.rpath.org@rpl:1')
      r.add('ieee80211', 'drivers.rpath.org@rpl:1')
      r.add('ipw2200-fw:lib', 'drivers.rpath.org@rpl:1')
      r.add('ipw2100-fw:lib', 'drivers.rpath.org@rpl:1')
      r.add('laptoptemp')

      r.startGroup('group-system-config', parentGroup='group-dist')
      r.add("gnome-system-tools", "/conary.rpath.com@rpl:devel//foresight.rpath.org@fl:desktop")
      r.add("ndisgtk")
      r.add("system-config-date")
      r.add("system-config-display", 'conary.rpath.com@rpl:1')
      r.add("system-config-keyboard")
      r.add("system-config-language")
      r.add("system-config-lvm")
      r.add("system-config-mouse")
      r.add("system-config-network")
      r.add("system-config-rootpassword")
      r.add("system-config-samba")
      r.add("system-config-securitylevel")
      r.add("system-tools-backends")
      r.add("firestarter")

      r.startGroup('group-office', parentGroup='group-dist')
      r.add('abiword')
      r.add('aiksaurus')
      r.add('enchant')
      r.add('fribidi')
      r.add('gnumeric')
      r.add('goffice')
      r.add('grisbi')
      r.add('psiconv')
      r.add('hplip')
      r.add('foomatic-db')
      r.add('foomatic-db-engine')
      r.add('foomatic-filters')

      r.startGroup('group-foresight-utils', parentGroup='group-dist')
      r.add('sysreport')
      r.add('foresight-tools')
      r.add('foresight-fonts')
      r.add('foresight-chat')


      r.startGroup('group-devel', parentGroup='group-dist',
      byDefault=False)
      r.add('apr')
      r.add('apr-util')
      r.add('autoconf')
      r.add('automake')
      r.add('bison')
      r.add('byacc')
      r.add('cdecl')
      r.add('conary-build')
      r.add('cproto')
      r.add('ctags')
      r.add('cvs')
      r.add('debugedit')
      r.add('dejagnu')
      if Arch.x86:
          r.add('dev86')
      r.add('devhelp')
      r.add('diffstat')
      r.add('dmalloc')
      #r.add('docbook-dsssl')
      #r.add('docbook-dtds')
      #r.add('docbook-xsl')
      r.add('doxygen')
      r.add('expect')
      r.add('expectk')
      r.add('expat')
      r.add('flex')
      r.add('gc')
      if Arch.x86_64:
          r.add('gcc', flavor='is: x86 x86_64')
          r.add('gcc-c++', flavor='is: x86 x86_64', source='gcc')
          r.add('gcc-f77', flavor='is: x86 x86_64', source='gcc')
          r.add('gcc-java', flavor='is: x86 x86_64', source='gcc')
          r.add('gcc-objc', flavor='is: x86 x86_64', source='gcc')
          r.add('libgcc', flavor='is: x86 x86_64', source='gcc')
          r.add('libstdc++', flavor='is: x86 x86_64', source='gcc')
      else:
          r.add('gcc')
          r.add('gcc-c++', source='gcc')
          r.add('gcc-f77', source='gcc')
          r.add('gcc-java', source='gcc')
          r.add('gcc-objc', source='gcc')
          r.add('libgcc', source='gcc')
          r.add('libstdc++', source='gcc')
      r.add('gdb')
      r.add('groff')
      r.add('gperf')
      r.add('guile')
      r.add('latex2html')
      r.add('linux-kernel-headers')
      if Arch.x86:
          r.add('kernel', flavor='!kernel.smp is: x86(cmov,i486,i586,i686)')
      else:
          r.add('kernel', flavor='!kernel.smp')

      r.add('ltrace')
      r.add('m4')
      if Arch.x86:
          r.add('memprof')
      r.add('make')
      r.add('mx')
      r.add('nasm')
      #r.add('openjade')
      r.add('opensp')
      r.add('passivetex')
      r.add('patch')
      r.add('patchutils')
      r.add('perl-DateManip')
      r.add('perl-DBD-MySQL')
      r.add('perl-DBD-Pg')
      r.add('perl-DBI')
      r.add('perl-Digest-HMAC')
      r.add('perl-Digest-SHA1')
      r.add('perl-Filter')
      r.add('perl-Filter-Simple')
      r.add('perl-HTML-Parser')
      r.add('perl-HTML-Tagset')
      r.add('perl-libwww-perl')
      r.add('perl-libxml-enno')
      r.add('perl-libxml-perl')
      r.add('perl-Net-DNS')
      r.add('perl-Parse-Yapp')
      r.add('perl-SGMLS')
      r.add('perl-Time-HiRes')
      r.add('perl-URI')
      r.add('perl-XML-Dumper')
      r.add('perl-XML-Encoding')
      r.add('perl-XML-Grove')
      r.add('perl-XML-Parser')
      r.add('perl-XML-Twig')
      r.add('psgml')
      if Arch.x86:
          r.add('pstack')
      r.add('Pyrex')
      r.add('python')
      r.add('PyXML')
      r.add('rcs')
      r.add('sgml-common')
      r.add('sgmlop')
      r.add('setarch')
      r.add('sharutils')
      r.add('splint')
      r.add('strace')
      r.add('subversion')
      r.add('tcl')
      r.add('texi2html')
      r.add('texinfo')
      r.add('tk')
      r.add('umb-scheme')
      r.add('xhtml1-dtds')
      #r.add('xmlto')
