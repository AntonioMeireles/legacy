class Dist(GroupRecipe):
    name = 'group-dist'
    version = '0.9.1'
    depCheck = True
    autoResolve = True
    checkOnlyByDefaultDeps = True

    def startGroup(r, name, parentGroup, depCheck=False, byDefault=True):
        # creates group named "name", adds it to the toplevel group,
        # and sets the current group to that name.  calls to r.add()
        # will use the current group by default.

        # note: byDefault applies to whether the group is included by
        # default in its parent group, not whether the troves in
        # the group are added by default. (use the setByDefault() command
        # to get that)

        r.createGroup(name, autoResolve=False, depCheck=depCheck)
        r.addNewGroup(name, groupName=parentGroup, byDefault=byDefault)
        r.setDefaultGroup(name)

    def setup(r):
        r.setLabelPath('foresight.rpath.org@fl:desktop', 'drivers.rpath.org@fl:desktop','conary.rpath.com@rpl:1', 'contrib.rpath.org@rpl:devel')
	compatLabel='conary.rpath.com@rpl:1-compat'

        r.addTrove("a2ps")
        r.addTrove("acl")
        r.addTrove("acpid")
        r.addTrove("aiksaurus")
        r.addTrove("am-utils")
        r.addTrove("anacron")
        if Arch.x86:
            r.addTrove("apmd")
        r.addTrove("arpwatch")
        r.addTrove("ash")
        r.addTrove("aspell")
        r.addTrove("aspell-en")
        r.addTrove("at")
        r.addTrove("attr")
        r.addTrove("authconfig")
        r.addTrove("authconfig-gtk")
        r.addTrove("autofs")
        r.addTrove('autoconf', compatLabel)
        r.addTrove('automake', compatLabel)

        r.addTrove("bash")
        r.addTrove("bc")
        r.addTrove("bind")
        r.addTrove("bind-utils", source='bind')
        r.addTrove("binutils")
        r.addTrove("bison")
        r.addTrove("bitmap-fonts")
        r.addTrove("bitstream-vera-fonts")
        r.addTrove("bittorrent")
        r.addTrove("bluefish")
        r.addTrove("bootsplash")
        r.addTrove("booty")
        r.addTrove("byacc")
        r.addTrove("bzip2")
        r.addTrove("caching-nameserver")
        r.addTrove("cdecl")
        r.addTrove("cdrdao")
        r.addTrove("cdrtools")
        r.addTrove("chkconfig")
        r.addTrove("chkfontpath")
        r.addTrove("conary")
        r.addTrove("coreutils")
        r.addTrove("cpio")
        r.addTrove("cproto")
        r.addTrove("cracklib")
        r.addTrove("crontabs")
        r.addTrove("ctags")
        r.addTrove("cups")
        r.addTrove("curl")
        r.addTrove("cvs")
        r.addTrove("cyrus-sasl")
        r.addTrove("cyrus-sasl", "conary.rpath.com@rpl:cyrus-sasl1")
        r.addTrove("db")
        r.addTrove('db:lib', compatLabel)
        r.addTrove("debugedit")
        r.addTrove("dejagnu")
        r.addTrove("desktop-printing")
        r.addTrove("dev", source='MAKEDEV')
        if Arch.x86:
            r.addTrove("dev86")
        r.addTrove("devhelp", "conary.rpath.com@rpl:1")
        r.addTrove("devlabel")
        r.addTrove("device-mapper")
        r.addTrove("dhclient", source='dhcp')
        r.addTrove("dhcp")
        r.addTrove("dialog")
        if Arch.x86:
            r.addTrove("dietlibc")
        r.addTrove("diffstat")
        r.addTrove("diffutils")
        r.addTrove("distcache")
        r.addTrove("distro-release")
        r.addTrove("distcc")
        r.addTrove("dmalloc")
        r.addTrove("dmidecode")
        r.addTrove("docbook-dsssl")
        r.addTrove("docbook-dtds")
        r.addTrove("docbook-utils")
        r.addTrove("docbook-utils-pdf", source='docbook-utils')        
        r.addTrove("docbook-xsl")
        r.addTrove("dos2unix")
        r.addTrove("dosfstools")
        r.addTrove("dovecot")
        r.addTrove("doxygen")
        r.addTrove("dump")
        r.addTrove("dvd+rw-tools")
        r.addTrove("e2fsprogs")
        r.addTrove("ed")
        r.addTrove("eject")
        r.addTrove("ElectricFence", "/conary.rpath.com@rpl:devel/2.2.2-3-0/contrib.rpath.org@rpl:devel/1")
        r.addTrove("elementtree")
        r.addTrove("elfutils")
        r.addTrove("elinks")
        r.addTrove("enscript")
        r.addTrove("epic")
        r.addTrove("espgs")
        r.addTrove("ethtool")
        r.addTrove("evince")
        r.addTrove("exif")
        r.addTrove("expat")
        r.addTrove("expect")
        r.addTrove("expectk", source='expect')
        r.addTrove("fast-user-switch-applet")
        r.addTrove("f-spot")
        r.addTrove("fbset")
        r.addTrove("fetchmail")
        r.addTrove("file")
        r.addTrove("filesystem")
        r.addTrove("findutils")
        r.addTrove("finger")
        r.addTrove("firestarter")
        r.addTrove("firstboot")
        r.addTrove("flex")
        r.addTrove("floppy")
        r.addTrove("foomatic-db-engine")
        r.addTrove("freetype")
        r.addTrove("fribidi")
        r.addTrove("ftp")
        r.addTrove("gamin")
        r.addTrove("gawk")
        r.addTrove("gc")
	
        if Arch.x86_64:
            r.add('gcc', flavor='is: x86 x86_64')
            r.add('gcc-c++', flavor='is: x86 x86_64', source='gcc')
            r.add('gcc-f77', flavor='is: x86 x86_64', source='gcc')
            r.add('gcc-java', flavor='is: x86 x86_64', source='gcc')
            r.add('gcc-objc', flavor='is: x86 x86_64', source='gcc')
            r.add('libgcc', flavor='is: x86 x86_64', source='gcc')
            r.add('libstdc++', flavor='is: x86 x86_64', source='gcc')
        else:
            r.add('gcc')
            r.add('gcc-c++', source='gcc')
            r.add('gcc-f77', source='gcc')
            r.add('gcc-java', source='gcc')
            r.add('gcc-objc', source='gcc')
            r.add('libgcc', source='gcc')
            r.add('libstdc++', source='gcc')

        if Arch.x86_64:
            r.add('libstdc++:lib', compatLabel, flavor='is: x86 x86_64', source='gcc')
        else:
            r.add('libstdc++:lib', compatLabel, source='gcc')

        if Arch.x86:
            glibcFlavor = 'is: x86(i486,i586,i686)'
        else:
            glibcFlavor = None
        r.add('glibc:runtime', flavor=glibcFlavor)
        r.add('glibc:lib', flavor=glibcFlavor)
        r.add('glibc:devel', flavor=glibcFlavor)
        r.add('glibc:devellib', flavor=glibcFlavor)


        r.addTrove("gd")
        r.addTrove("gdb")
        r.addTrove("gdbm")
        r.addTrove("gettext")
        r.addTrove("ghostscript-fonts")
        r.addTrove("gimp")
        r.addTrove("gimp-print")
	r.addTrove("gimp-autolevel")
	r.addTrove("gimp-exif-browser")
	r.addTrove("gimp-gap")
	r.addTrove("gimp-help-2")
	r.addTrove("gimp-metadata")
	r.addTrove("gimp-redeye")
        r.addTrove("gksu")

	if Arch.x86:
            glibcFlavor = 'is: x86(i486,i586,i686)'
        else:
            glibcFlavor = None

        if Arch.x86:
            glibcFlavor = 'is: x86(i486,i586,i686)'
        else:
            glibcFlavor = None
        r.add('glibc:runtime', flavor=glibcFlavor)
        r.add('glibc:lib', flavor=glibcFlavor)
        r.add('glibc:devel', flavor=glibcFlavor)
        r.add('glibc:devellib', flavor=glibcFlavor)
        if Arch.x86_64:
            r.add('glibc:lib', flavor='is: x86(i486,i586,i686)')
            r.add('glibc:devellib', flavor='is: x86(i486,i586,i686)')

        r.addTrove("gmime")
        r.addTrove("gmp")
        r.addTrove("gnomebaker")
	r.addTrove("gnupg")
        r.addTrove("gparted")
        r.addTrove("gperf")
        r.addTrove("gphoto2")
        r.addTrove("gpm")
        r.addTrove("gpp")
        r.addTrove("grep")
        r.addTrove("group-desktop")
        r.addTrove("group-foresight-utils")
        r.addTrove("group-freedesktop")
        r.addTrove("group-games-base")
        r.addTrove("group-gnome")
        r.addTrove("group-internet")
        r.addTrove("group-kernel")
        r.addTrove("group-laptop-tools", byDefault=False)
        r.addTrove("group-media")
        r.addTrove("group-mono")
        r.addTrove("group-mozilla-libs")
        r.addTrove("group-office")
        r.addTrove("group-perl")
        r.addTrove("group-python")
        r.addTrove("group-SDL")
        r.addTrove("group-system-config")
        #r.addTrove("group-web-server", byDefault=False)
        r.addTrove("group-xorg")
        r.addTrove("groff")
        r.addTrove("grub")
        r.addTrove("gsynaptics")
        r.addTrove("guile")
        r.addTrove("guifications")
        r.addTrove("gzip")
        r.addTrove("hdparm")
        r.addTrove("Hermes")
        r.addTrove("hesiod")
        r.addTrove("hotplug")
	r.addTrove("howl")
        r.addTrove("htmlview")
        r.addTrove("hwbrowser")
        r.addTrove("hwdata")
        r.addTrove("ImageMagick")
        r.addTrove("indent")
        r.addTrove("info", source='texinfo')
        r.addTrove("initscripts")
        r.addTrove("inkscape")
        r.addTrove("inn")
        r.addTrove("install-info", source='texinfo')
        r.addTrove("iproute")
        r.addTrove("iptables")
        r.addTrove("iputils")
        r.addTrove("irda-utils")
        r.addTrove("irqbalance")
        r.addTrove("iso-codes")
        r.addTrove("jfsutils")
        r.addTrove("joe")
        r.addTrove("jwhois")
        r.addTrove("kbd")
	r.addTrove("krb5", "conary.rpath.com@rpl:1")
        r.addTrove("krbafs")
        r.addTrove("kudzu")
        r.addTrove("latex2html")
        r.addTrove("lcms")
        r.addTrove("less")
        r.addTrove("lesstif", "contrib.rpath.org@rpl:devel")
        r.addTrove("lftp")
        r.addTrove("libcap")        
        r.addTrove("libdaemon")
        r.addTrove("libelf", source='elfutils')
        r.addTrove("libevent")
        r.addTrove("libexif")
        r.addTrove("libexif-gtk")
        r.addTrove("libgphoto2", "contrib.rpath.org@rpl:devel")
        r.addTrove("libieee1284")
        r.addTrove("libjpeg")
        r.addTrove("libmng")
        r.addTrove("libole2")
        r.addTrove("libpcap")
        r.addTrove("libpng")
        r.addTrove("libsigc++")
        r.addTrove("libtermcap")
        r.addTrove("libtiff")
        r.addTrove("libtool")
        r.addTrove("libungif")
        r.addTrove("libusb")
        r.addTrove("libuser")
        r.addTrove("libwmf")
        r.addTrove("libxml2")
        r.addTrove("libxslt")
        r.addTrove("linuxdoc-tools")
        r.addTrove("linux-kernel-headers")
        r.addTrove("lm_sensors")
        r.addTrove("lockdev")
        r.addTrove("logrotate")
        r.addTrove("logwatch")
        r.addTrove("longrun")
        r.addTrove("lrzsz")
        r.addTrove("lsof")
        r.addTrove("ltrace")
        r.addTrove("lvm2")
        r.addTrove("lynx")
        r.addTrove("m4")
        r.addTrove("mailbase")
        r.addTrove("mailcap")
        r.addTrove("make")
        r.addTrove("MAKEDEV")
        r.addTrove("man")
        r.addTrove("man-pages")
        r.addTrove("mdadm")
        if Arch.x86:
            r.addTrove("memprof")
        if Arch.x86:
            r.addTrove("microcode_ctl")
        r.addTrove("mingetty")
        r.addTrove("minicom")
        r.addTrove("mkbootdisk")
        r.addTrove("mkinitrd")
        r.addTrove("mkisofs", source='cdrtools')
        r.addTrove("mktemp")
        r.addTrove("module-init-tools")
        r.addTrove("mtools")
        r.addTrove("mtr")
        r.addTrove("mt-st")
        r.addTrove("mutt")
        r.addTrove("mysql")
        r.addTrove("nail")
        r.addTrove("nano")
        r.addTrove("nasm")
        r.addTrove("ncurses")
        r.addTrove("netpbm")
        r.addTrove("net-snmp")
        r.addTrove("net-snmp-utils", source='net-snmp')
        r.addTrove("net-tools")
        r.addTrove("newt")
        r.addTrove("nfs-utils")
        r.addTrove("nfsidmap")
        r.addTrove("njamd", "/conary.rpath.com@rpl:devel/0.9.2-7-0/contrib.rpath.org@rpl:devel/1")
        r.addTrove("nmap")
        r.addTrove("nss_ldap")
        r.addTrove("ntp")
        r.addTrove("ntsysv", source='chkconfig')
        r.addTrove("numlockx")
        r.addTrove("openh323")
        r.addTrove("openldap")
        r.addTrove("openssh")
        r.addTrove("openssh-client", source='openssh' )
        r.addTrove("openssh-server", source='openssh')
        r.addTrove("openssl", flavor='~!krb')
        r.addTrove('openssl:lib', compatLabel)
        r.addTrove("pam")
        r.addTrove("pam_krb5")
        r.addTrove("pam_smb")
        r.addTrove("parted")
        r.addTrove("passivetex")
        r.addTrove("passwd")
        r.addTrove("patch")
        r.addTrove("patchutils")
        r.addTrove("pax")
        r.addTrove("pciutils")
        r.addTrove("pcmcia-cs")
        r.addTrove("pcre")
        r.addTrove("pdksh")
        r.addTrove("pidentd")
        r.addTrove("pilot-link")
        r.addTrove("pinfo")
        r.addTrove("pmount")
        r.addTrove("popt")
        r.addTrove("portmap")
        r.addTrove("postgresql")
        r.addTrove("ppp")
        r.addTrove("procmail")
        r.addTrove("procps")
        r.addTrove("psmisc")
        if Arch.x86:
            r.addTrove("pstack")
        r.addTrove("psutils")
        r.addTrove("pump")
        r.addTrove("pwlib")
        r.addTrove("pyparted")
        r.addTrove("pyxf86config")
        r.addTrove("qt-x11-free", "conary.rpath.com@rpl:devel")
        r.addTrove("quota")
        r.addTrove("radvd")
        r.addTrove("rcs")
        r.addTrove("rdate")
        r.addTrove("rdist")
        r.addTrove("readline")
        r.addTrove('readline:lib', compatLabel)
        r.addTrove("reiserfsprogs")
        r.addTrove("rexml")
        r.addTrove("rhpl")
        r.addTrove("rootfiles")
        r.addTrove("rsh")
        r.addTrove("rsync")
        r.addTrove("ruby")
        r.addTrove("run")
        r.addTrove("rusers")
        r.addTrove("rwho")
        r.addTrove("samba")
        r.addTrove("sane-backends")
        r.addTrove("sane-frontends")
        r.addTrove("sbackup")
        r.addTrove("schedutils")
        r.addTrove("screen")
        r.addTrove("sed")
        r.addTrove("sendmail")
        r.addTrove("sendmail-cf", source='sendmail')
        r.addTrove("setarch")
        r.addTrove("setserial")
        r.addTrove("setup")
        r.addTrove("setuptool")
        r.addTrove("sgml-common")
        r.addTrove("shadow")
        r.addTrove("shapecfg")
        r.addTrove("sharutils")
        r.addTrove("slang")
        r.addTrove("slocate")
	r.addTrove("smartmontools")
        r.addTrove("spamassassin")
        r.addTrove("splint")
        r.addTrove("sqlite")
        r.addTrove("sqlite2")
        r.addTrove("star")
        r.addTrove("statserial")
        r.addTrove("strace")
        r.addTrove("stunnel")
        r.addTrove("subversion")
        r.addTrove("sudo")
        r.addTrove("swig")
        r.addTrove("switchdesk")
        r.addTrove("symlinks")
        r.addTrove("synaptics")
	r.addTrove("sysfsutils")
        r.addTrove("sysklogd")
        r.addTrove("syslinux")
        r.addTrove("sysstat")
        r.addTrove("sysvinit")
        r.addTrove("talk")
        r.addTrove("tar")
        r.addTrove("tcl")
        r.addTrove("tclx")
        r.addTrove("tcpdump")
        r.addTrove("tcp_wrappers")
        r.addTrove("tcsh")
        r.addTrove("telnet")
        r.addTrove("termcap")
        r.addTrove("tetex-latex", source='tetex')
        r.addTrove("texi2html")
        r.addTrove("texinfo")
        r.addTrove("tftp")
        r.addTrove("time")
        r.addTrove("tk")
        r.addTrove("tmpwatch")
        r.addTrove("traceroute")
        r.addTrove("ttmkfdir")
        r.addTrove("ttfprint")
        r.addTrove("tzdata")
	r.addTrove("udev")
	r.addTrove("umb-scheme")
        r.addTrove("units")
        r.addTrove("unix2dos")
        r.addTrove("unzip")
        r.addTrove("urw-fonts")
        r.addTrove("usbutils")
        r.addTrove("usermode")
        r.addTrove("utempter")
        r.addTrove("util-linux", "conary.rpath.com@rpl:1")
        r.addTrove("vconfig")
        r.addTrove("VFlib")
        r.addTrove("vim")
        r.addTrove("vim-minimal", source='vim')
        r.addTrove("vixie-cron")
        r.addTrove("w3c-libwww")
        r.addTrove("which")
        r.addTrove("wireless-tools")
        r.addTrove("words")
        r.addTrove("wvstreams")
        r.addTrove("x11-ssh-askpass")
        if Arch.x86:
            r.addTrove("x86info")
        r.addTrove("Xaw3d")
        r.addTrove("xdelta")
        r.addTrove("xfsprogs")
        r.addTrove("xhtml1-dtds")
        r.addTrove("xinetd")
        r.addTrove("xinitrc")
        r.addTrove("xmlto")
        r.addTrove("xsane")
        r.addTrove("xscreensaver")
        r.addTrove("xterm")
        r.addTrove("ypbind")
        r.addTrove("ypserv")
        r.addTrove("yp-tools")
        r.addTrove("zip")
        r.addTrove("zlib")


# Needed info- troves
        r.addTrove('info-adm')
        r.addTrove('info-amanda')
        r.addTrove('info-beagleindex')
        r.addTrove('info-bin')
        r.addTrove('info-canna')
        r.addTrove('info-cyrus')
        r.addTrove('info-daemon')
        r.addTrove('info-dbus')
        r.addTrove('info-dip')
        r.addTrove('info-disk')
        r.addTrove('info-dovecot')
        r.addTrove('info-exim')
        r.addTrove('info-fax')
        r.addTrove('info-fcron')
        r.addTrove('info-floppy')
        r.addTrove('info-ftp')
        r.addTrove('info-games')
        r.addTrove('info-gdm')
        r.addTrove('info-gopher')
        r.addTrove('info-haldaemon')
        r.addTrove('info-halt')
        r.addTrove('info-htt')
        r.addTrove('info-ident')
        r.addTrove('info-kmem')
        r.addTrove('info-ldap')
        r.addTrove('info-lock')
        r.addTrove('info-lp')
        r.addTrove('info-mail')
        r.addTrove('info-mailman')
        r.addTrove('info-mailnull')
        r.addTrove('info-man')
        r.addTrove('info-mem')
        r.addTrove('info-mysql')
        r.addTrove('info-named')
        r.addTrove('info-netdump')
        r.addTrove('info-news')
        r.addTrove('info-nfsnobody')
        r.addTrove('info-nobody')
        r.addTrove('info-nscd')
        r.addTrove('info-ntp')
        r.addTrove('info-nut')
        r.addTrove('info-operator')
        r.addTrove('info-pcap')
        r.addTrove('info-postdrop')
        r.addTrove('info-postfix')
        r.addTrove('info-postgres')
        r.addTrove('info-privoxy')
        r.addTrove('info-pvm')
        r.addTrove('info-quagga')
        r.addTrove('info-quaggavt')
        r.addTrove('info-radiusd')
        r.addTrove('info-radvd')
        r.addTrove('info-rpc')
        r.addTrove('info-rpcuser')
        r.addTrove('info-shutdown')
        r.addTrove('info-slocate')
        r.addTrove('info-smmsp')
        r.addTrove('info-squid')
        r.addTrove('info-sshd')
        r.addTrove('info-sync')
        r.addTrove('info-sys')
        r.addTrove('info-tomcat')
        r.addTrove('info-tty')
        r.addTrove('info-users')
        r.addTrove('info-utmp')
        r.addTrove('info-uucp')
        r.addTrove('info-vcsa')
        r.addTrove('info-webalizer')
        r.addTrove('info-wheel')
        r.addTrove('info-wnn')
        r.addTrove('info-xfs')

        if Arch.x86_64:
            r.startGroup('group-compat32', parentGroup='group-dist')
            r.add('glibc:lib', flavor='is: x86(i486,i586,i686)')
            r.add('glibc:devellib', flavor='is: x86(i486,i586,i686)')
            r.add('acl:lib', flavor='is: x86')
            r.add('alsa-lib:lib', flavor='is: x86')
            r.add('atk:lib', flavor='is: x86')
            r.add('attr:lib', flavor='is: x86')
            r.add('audiofile:lib', flavor='is: x86')
            r.add('bzip2:lib', flavor='is: x86')
            r.add('cairo:lib', flavor='is: x86')
            r.add('cdparanoia:lib', flavor='is: x86')
            r.add('cracklib:lib', flavor='is: x86')
            r.add('cups:lib', flavor='is: x86')
            r.add('curl:lib', flavor='is: x86')
            r.add('cyrus-sasl:lib', flavor='is: x86')
            r.add('db:lib', flavor='is: x86')
            r.add('e2fsprogs:lib', flavor='is: x86')
            r.add('expat:lib', flavor='is: x86')
            r.add('esound:lib', flavor='is: x86')
            r.add('firefox', flavor='is: x86')
            r.add('firefox-rBuilder-search', flavor='is: x86')
            r.add('fontconfig:lib', flavor='is: x86')
            r.add('freetype:lib', flavor='is: x86')
            r.add('GConf:lib', flavor='is: x86')
            r.add('gamin:lib', flavor='is: x86')
            r.add('gdbm:lib', flavor='is: x86')
            r.add('glib:lib', flavor='is: x86')
            r.add('gnome-vfs:lib', flavor='is: x86')
            r.add('gmp:lib', flavor='is: x86')
            r.add('gpm:lib', flavor='is: x86')
            r.add('gtk:lib', flavor='is: x86')
            r.add('howl:lib', flavor='is: x86')
            r.add('krb5:lib', flavor='is: x86')
            r.add('krbafs:lib', flavor='is: x86')
            r.add('libart_lgpl:lib', flavor='is: x86')
            r.add('libbonobo:lib', flavor='is: x86')
            r.add('libgnomecups:lib', flavor='is: x86')
            r.add('libgnome:lib', flavor='is: x86')
            r.add('libIDL:lib', flavor='is: x86')
            r.add('libjpeg:lib', flavor='is: x86')
            r.add('libpng:lib', flavor='is: x86')
            r.add('libtiff:lib', flavor='is: x86')
            r.add('libxml2:lib', flavor='is: x86')
            r.add('ncurses:lib', flavor='is: x86')
            r.add('nss_ldap:lib', flavor='is: x86')
            r.add('openldap:lib', flavor='is: x86')
            r.add('openoffice.org', flavor='is: x86')
            r.add('openssl:lib', flavor='is: x86')
            r.add('ORBit2:lib', flavor='is: x86')
            r.add('pam_krb5:lib', flavor='is: x86')
            r.add('pam_smb:lib', flavor='is: x86')
            r.add('pam:lib', flavor='is: x86')
            r.add('pango:lib', flavor='is: x86')
            r.add('popt:lib', flavor='is: x86')
            r.add('readline:lib', flavor='is: x86')
            r.add('samba:lib', flavor='is: x86')
            r.add('startup-notification:lib', flavor='is: x86')
            r.add('tcl:lib', flavor='is: x86')
            r.add('tk:lib', flavor='is: x86')
            r.add('xorg-x11:lib', flavor='is: x86')
            r.add('x86info', flavor='is: x86')
            r.add('zlib:lib', flavor='is: x86')

