diff -ru depmod.c.old depmod.c
--- depmod.c	2005-04-30 08:38:46.000000000 -0400
+++ depmod.c	2005-09-08 15:52:26.000000000 -0400
@@ -607,13 +607,8 @@
 	else
 		afterslash++;
 
-	/* Convert to underscores, stop at first . */
-	for (i = 0; afterslash[i] && afterslash[i] != '.'; i++) {
-		if (afterslash[i] == '-')
-			modname[i] = '_';
-		else
+	for (i = 0; afterslash[i] && afterslash[i] != '.'; i++)
 			modname[i] = afterslash[i];
-	}
 	modname[i] = '\0';
 }
 
