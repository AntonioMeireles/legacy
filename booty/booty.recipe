#
# Copyright (c) 2004-2005 Specifix, Inc.
# All rights reserved
#

loadRecipe('python.recipe')
class Booty(PackageRecipe):
    name = 'booty'
    version = '0.31.1'

    buildRequires = [ 'python:devel' ]

    def setup(r):
        r.macros.python = 'python%s' %Python.majversion
	srpm='ftp://ftp.redhat.com/pub/redhat/linux/enterprise/3/en/os/i386/SRPMS/booty-0.31.1-1.src.rpm'
        r.addArchive('booty-0.31.1.tar.bz2', rpm=srpm)
        r.addPatch('booty-deprecated-whrandom.patch')
        r.addPatch('booty-0.31.1-2.6.patch')
        r.Replace('-O -g', r.macros.cflags, 'Makefile', 'edd/Makefile')
        r.Make('PYTHON=%(python)s PYTHONINCLUDE=/usr/include/%(python)s')
        r.MakeInstall('PYTHON=%(python)s')
        r.Doc('README', 'TODO')
        r.ComponentSpec('doc', '/usr/share/doc/')
        r.ComponentSpec('python', '.*')
