
loadSuperClass('rpmpackage')
class DeviceKitPower(RPMPackageRecipe,AutoPackageRecipe):
    buildRequires = [ 'dbus-glib:devel', 'dbus:devel', 'glib:devel', 'libxslt:runtime', 'pkgconfig:devel', 'udev:devel', 'DeviceKit:devel', 'PolicyKit:devel', 'gettext:runtime', 'intltool:runtime', 'libusb:devel', ]

    name = "DeviceKit-power"
    version = '010'
    rpmRelease = '0.2.20090721git.fc11'
    tarballName = '%(name)s-%(version)s-20090721.tar.gz'


    # upper versions dep a udev > 145 (that needs a glibc > 2.7 ...)

    def configure(r):
        r.Replace(('-Werror', ''),
                  ('-Wtype-limits', ''),
                  'configure')

        # FIXME: get manpages generation to work inside mooks
        r.Configure('--disable-gtk-doc --disable-man-pages')

    def policy(r):
        r.Requires('pm-utils:runtime', '%(bindir)/.*')
