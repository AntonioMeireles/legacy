#
# Copyright (c) 2009 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class ffmpeg2theora(AutoPackageRecipe):
    name = 'ffmpeg2theora'
    version = '0.26'

    buildRequires = ['ffmpeg:devel', 'libogg:devel', 'libtheora:devel', 'libvorbis:devel', 'pkgconfig:devel', 'zlib:devel',
                     'scons:runtime', 'libkate:devel']
    
    # Update when we start to use newer ffmpeg than 0.5.1
    def setup(r):
        r.addArchive('http://v2v.cc/~j/ffmpeg2theora/downloads/')
	r.Run('scons prefix=%(prefix)s destdir=%(destdir)s')
        r.Run('scons install prefix=%(prefix)s destdir=%(destdir)s')
