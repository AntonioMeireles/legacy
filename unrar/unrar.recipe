#
# Copyright (c) 2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class unRAR(AutoPackageRecipe):

    name = 'unrar'
    version = '3.7.2'

    buildRequires =  [
        'libstdc++:devel'
    ]

    def unpack(r):

        r.macros.archive_name = 'unrarsrc'
        r.addArchive('http://www.rarlab.com/rar/')
        r.Symlink('makefile.unix','Makefile')

    def configure(r):

        r.Replace(('^CXX=.*', ''),
                  ('^CXXFLAGS=.*', ''),
                  ('^STRIP=.*', 'STRIP=true'),
                  'makefile.unix')

    def makeinstall(r):

        r.Doc('*.txt')
        r.Install('unrar','%(bindir)s/')

