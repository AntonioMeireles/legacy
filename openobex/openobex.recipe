#
# Copyright (c) 2005-2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#
loadSuperClass('rpmpackage')
class Openobex(RPMPackageRecipe,AutoPackageRecipe):
    buildRequires = [ 'autoconf', 'docbook-utils', 'bluez-libs:devel', 'libusb:devel', 'pkgconfig:devel' ]

    name = "openobex"
    version = "1.3"
    rpmRelease = '13.fc10'
    rpmPatches = [ 'openobex-apps-flush.patch',
                   'openobex-1.3-push.patch',
                   'openobex-1.3-autoconf.patch',
                   'openobex-1.3-ipv6.patch',
                   'openobex-1.3-utf.patch',
                   'openobex-1.3-ircp.patch',]

    def unpack(r):
        RPMPackageRecipe.unpack(r)

    def configure(r):
        r.Run('autoreconf --install --forceautoreconf --install --force')
        r.Configure('--disable-static --enable-apps --enable-usb --disable-dependency-tracking')
