#
# Copyright (c) 2004-2006 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('rpmpackage')
class Mingetty(RPMPackageRecipe, CPackageRecipe):
    name = 'mingetty'
    version = '1.07'

    rpmRelease = '5.2.2'

    def setup(r):
        r.unpack()
        r.Run("sed -i '/^CFLAGS/s/-O2/$(OPTS)/' Makefile")
        r.Make('OPTS="%(cflags)s"')

        r.Install('mingetty', '%(essentialsbindir)s/', mode=0755)
        r.Install('mingetty.8', '%(mandir)s/man8/', mode=0644)
