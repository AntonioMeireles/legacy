#
# Copyright (c) 2008 Lance Haig.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#



class VirtManager(AutoPackageRecipe):
   	 
	name = 'virt-manager'
	version = '0.5.4'

	buildRequires = ['atk:devel', 
			'cairo:devel', 
			'dbus-python:python', 
			'desktop-file-utils:runtime', 
			'expat:devel', 
			'fontconfig:devel', 
			'freetype:devel', 
			'gcc-c++:runtime',
			'gtk-vnc:python', 
			'glib:devel', 
			'gnome-python-desktop:python', 
			'gnome-python:python', 
			'gtk:devel', 
			'libX11:devel', 
			'libXrender:devel', 
			'libpng:devel', 
			'libxcb:devel', 
			'libxml2:python', 
			'pango:devel', 
			'perl:runtime', 
			'pixman:devel', 
			'pkgconfig:devel', 
			'pycairo:python', 
			'pygobject:python', 
			'pygtk:python',
			'pygtk:lib',
			'pygtk:devellib',
			'pygtk:devel', 
			'python:devel', 
			'rarian:devel', 
			'rarian:runtime', 
			'urlgrabber:python', 
			'vte:python', 
			'xcb-util:devel', 
			'zlib:devel',
			'libvirt:python',
			'gettext:runtime', 
			'intltool:runtime',
			'virtinst:python'
			]
    

    	def setup(r):
        	r.addArchive('http://virt-manager.et.redhat.com/download/sources/virt-manager/')
		cmd = './configure --prefix=%(prefix)s --localstatedir=%(localstatedir)s --libdir=%(libdir)s'
       		r.Run(cmd)
        	r.Make()
        	r.MakeInstall()
	
		r.Requires('python:libvirt', '/usr/sbin/virt-manager')
		r.Requires('virinst', '/usr/sbin/virt-manager')
		r.Requires('virt-viewer', '/usr/sbin/virt-manager')
        
