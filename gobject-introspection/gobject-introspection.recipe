#
# Copyright (c) 2009 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('gnomepackage')
class GobjectIntrospection(GnomePackageRecipe):

    name = 'gobject-introspection'
    version = '0.6.7'

    buildRequires = [ 'flex:devel', 'libffi:devel',
                      'flex:runtime', 'python:devel', 'bison:runtime', 'Mesa:devel', 'libXfixes:devel']
    makeArgs = 'V=1'
    loadInstalled('python')
    def policy(r):
        r.Remove('%(bindir)s/barapp')
        # Move the python modules to the correct location
        r.macros.pyver = Python.majversion
        r.Move('%(libdir)s/%(name)s/giscanner', 
               '%(libdir)s/python%(pyver)s/site-packages/')
