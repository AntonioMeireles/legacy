diff -Naur kid-0.8/doc/.guide.html~ kid-0.8svn249/doc/.guide.html~
--- kid-0.8/doc/.guide.html~	2005-05-27 23:19:32.000000000 -0400
+++ kid-0.8svn249/doc/.guide.html~	1969-12-31 19:00:00.000000000 -0500
@@ -1,716 +0,0 @@
-<p>================</p>
-
-<h1>Kid User's Guide</h1>
-
-<p>:Author: Ryan Tomayko
-:Contact: rtomayko@gmail.com
-:Revision: $Rev: 131 $
-:Date: $Date: 2005-03-09 15:26:45 -0500 (Wed, 09 Mar 2005) $
-:Copyright: 2005, Ryan Tomayko
-:Other Formats: Text__</p>
-
-<p>.. __: guide.txt</p>
-
-<p>Kid is an XML based template language that uses embedded Python_ to do cool
-stuff. The syntax was inspired by a number of existing template languages,
-namely XSLT<em>, TAL</em>, and PHP_.</p>
-
-<p>.. _python: http://www.python.org/
-.. _xslt: http://www.w3.org/TR/xslt
-.. _tal: http://www.zope.org/Wikis/DevSite/Projects/ZPT/TAL
-.. _php: http://www.php.net/</p>
-
-<p>This document describes the Kid Python interface, command line tools, and
-methods for configuring Kid in various web environments. For more
-information about the template language, see the <code>Kid Language
-Specification</code>_.</p>
-
-<p>.. _Kid Language Specification: language.html</p>
-
-<p>.. warning::</p>
-
-<p>This software is in very early stages of development and will change
-  significantly before a 1.0 stable release. Most of the usage described in
-  this document will change. No promises are being made toward backward
-  compatibility between versions at this point.</p>
-
-<p>.. contents:: Table of Contents</p>
-
-<h1>Introduction</h1>
-
-<h2>Why use Kid?</h2>
-
-<p>Kid was designed to simplify the process of generating and transforming
-dynamic well-formed XML documents using Python. While there are a myriad of
-tools for working with XML documents in Python, generating XML is generally
-tedious, error prone, or both:</p>
-
-<ul>
-<li><p>APIs like SAX, DOM, or ElementTree can guarantee well-formed output but
-require that output documents be created entirely in Python.</p></li>
-<li><p>Template languages like Cheetah_ or PTL_ make generating text content
-easy but offer little to help ensure the output is
-correct/well-formed. Using text based tools to generate XML can result in
-bad data as there are many issues with basic XML syntax and encoding that
-need to be understood and coded for by the programmer.</p></li>
-<li><p>XSLT provides much of the functionality required to generate good XML
-content but requires all input to be in the form of an XML document. This
-brings us back to the original problem of <em>not being able to generate XML
-content safely and easily</em>.</p></li>
-</ul>
-
-<p>Kid is an attempt to bring the benefits of these technologies together into
-a single cohesive package.</p>
-
-<p>.. _Cheetah: http://www.cheetahtemplate.org/
-.. _PTL: http://www.mems-exchange.org/software/quixote/doc/PTL.html</p>
-
-<p>Kid also allows the programmer to exploit the structured nature of XML by
-writing filters and transformations that work at the XML infoset level. Kid
-templates use generators to produce infoset items. This allows pipelines to
-be created that filter and modify content as needed.</p>
-
-<h2>What Types of XML Documents?</h2>
-
-<p>Kid can be used to generate any kind of XML documents including XHTML, RSS,
-Atom, FOAF, RDF, XBEL, XSLT, RelaxNG, Schematron, SOAP, etc.</p>
-
-<p>XHTML is generally used for examples as it is arguably the most widely
-understood XML vocabulary in existence today.</p>
-
-<h2>Template Example</h2>
-
-<p>Kid template files are well-formed XML documents with embedded Python used
-for generating and controlling dynamic content.</p>
-
-<p>The following illustrates a very basic Kid Template::</p>
-
-<p><?xml version='1.0' encoding='utf-8'?>
-  <?python
-  import time
-  title = "A Kid Template"
-  ?>
-  <html xmlns="http://www.w3.org/1999/xhtml"
-        xmlns:py="http://purl.org/kid/ns#"
-  >
-    <head>
-      <title py:content="title">
-        This is replaced with the value of the title variable.
-      </title>
-    </head>
-    <body>
-      <p>
-        The current time is ${time.strftime('%C %c')}.
-      </p>
-    </body>
-  </html></p>
-
-<p>Kid supports more advanced features such as conditionals (<code>py:if</code>),
-iteration (<code>py:for</code>), and reusable sub templates (<code>py:def</code>). For more
-information on kid template syntax, see the <code>Kid Language Specification</code>_.</p>
-
-<p>Kid templates should use the <code>.kid</code> file extension if importing the
-template module using normal Python code is desired. The Kid import hook
-extensions rely on the <code>.kid</code> file extension being present.</p>
-
-<h2>A Note on Template Design</h2>
-
-<p>It is possible to embed blocks of Python code using the <code>&lt;?python?&gt;</code>
-processing instruction (PI). However, the practice of embedding object model,
-data persistence, and business logic code in templates is highly
-discouraged. In most cases, these types of functionality should be moved
-into external Python modules and imported into the template.</p>
-
-<p>Keeping large amounts of code out of templates is important for a few
-reasons:</p>
-
-<ul>
-<li><p>Separation of content and logic. Templates are meant to model a document
-format and should not be laden with code whose main concern is something
-else.</p></li>
-<li><p>Editors with Python support (like Emacs) will not recognize Python code
-embedded in Kid templates.</p></li>
-<li><p>People will call you names.</p></li>
-</ul>
-
-<p>That being said, circumstances requiring somewhat complex formatting or
-presentation logic arise often enough to incline us to include the ability
-to embed blocks of real code in Templates. Template languages that help by
-hindering ones ability to write a few lines of code when needed lead to even
-greater convolution and general distress.</p>
-
-<p><em>That</em> being said, there are some limitations on what types of usage the
-<code>&lt;?python?&gt;</code> PI may be put to. Specifically, you cannot generate output
-within a code block (without feeling dirty), and all Python blocks end with
-the PI.</p>
-
-<p>You cannot do stuff like this::</p>
-
-<p><table>
-    <?python #
-    for row in rows: ?>
-      <tr><td py:content="row.colums[0]">...</td></tr>
-  </table>
-  <p><?python print 'some text and <markup/> too'?></p></p>
-
-<p>This is a feature. One of the important aspects of Kid is that it guarantees
-well-formed XML output given a valid template. Allowing unstructured text
-output would make this impossible.</p>
-
-<h1>The <code>kid</code> package</h1>
-
-<p>The <code>kid</code> package contains functions and classes for using templates. Kid
-relies heavily on ElementTree_ and also exports much of that packages
-functionality.</p>
-
-<p>.. _ElementTree: http://effbot.org/zone/element-index.htm</p>
-
-<h2>Loading and Executing Templates</h2>
-
-<p><code>enable_import</code>
-~~~~~~~~~~~~~~~~~</p>
-
-<p>The <code>enable_import</code> function turns on the Kid import hooks and allows
-Python's native import statement to be used to access template
-modules. It is generally called once at the beginning of program execution,
-but calling multiple times has no adverse effects.</p>
-
-<p>::</p>
-
-<p>import kid
-  kid.enable_import()</p>
-
-<p>.. _template function:</p>
-
-<p><code>Template</code>
-~~~~~~~~~~~~</p>
-
-<p>Sometimes using Python's native import doesn't make sense for template
-usage. In these cases, the <code>kid.Template</code> function can be used to load a
-template module and create an instance of the module's <code>Template</code> class.</p>
-
-<p>The <code>kid.Template</code> function requires one of the following arguments to be
-provided to establish the template:</p>
-
-<p>file
-    The template should be loaded from the file specified. If a compiled
-    version of template exists, it will be loaded. If not, the template is
-    loaded and an attempt will be made to write a compiled version.</p>
-
-<p>source
-    The template should be loaded from the string specified. There is no
-    mechanism for caching string templates other than to keep a reference to
-    the object returned.</p>
-
-<p>name
-    The template should be loaded by importing a module with the specified
-    name. This is exactly like using Python's normal import but allows
-    template names to be specified dynamically and also doesn't require the
-    import hook to be enabled.</p>
-
-<p>::</p>
-
-<p>import kid
-  template = Template(file='test.kid', foo='bar', baz='bling')
-  print template.serialize()</p>
-
-<p>::</p>
-
-<p>import kid
-  template = Template(source='<p>$foo</p>', foo='Hello World!')
-  print template.serialize()</p>
-
-<p><code>load_template</code>
-~~~~~~~~~~~~~~~~~</p>
-
-<p>The <code>load_template</code> function returns the module object for the template
-given a template filename. This module object can be used as if the module
-was loaded using Python's import statement. Use this function in cases where
-you need access to the template module but the template doesn't reside on
-Python's path.</p>
-
-<p>::</p>
-
-<p>import kid
-  template<em>module = kid.load</em>template('test.kid', cache=1)
-  template = template_module.Template(foo='bar', baz='bling')
-  print str(template)</p>
-
-<p>Note that the <code>Template function</code>_ usually provides a better interface for
-creating templates as it automatically creates an instance of the <code>Template</code>
-class for the module, removing a line of code or two.</p>
-
-<h1>Template Classes</h1>
-
-<p>Kid templates are converted into normal Python modules and may be used like
-normal Python modules. All template modules have a uniform interface that
-expose a class named <code>Template</code> and possibly a set of functions (one for
-each <code>py:def</code> declared in the template).</p>
-
-<h2>Importing</h2>
-
-<p>Templates may be imported directly like any other Python module after the
-Kid import hooks have been enabled. Consider the following files in a
-directory on Python's <code>sys.path</code>::</p>
-
-<p>file1.py
-  file2.py
-  file3.kid</p>
-
-<p>The <code>file1</code> module may import the <code>file3</code> template module using the
-normal Python import syntax after making a call to <code>kid.enable_import()</code>::</p>
-
-<p># enable kid import hooks
-  import kid
-  kid.enable_import()</p>
-
-<p># now import the template
-  import file3
-  print file3.serialize()</p>
-
-<p>The importer checks whether a compiled version of the template exists by
-looking for a <code>template.pyc</code> file and if not found, loads the
-<code>template.kid</code> file, compiles it, and attempts to save it to
-<code>template.pyc</code>. If the compiled version cannot be saved properly,
-processing continues as normal; no errors or warnings are generated.</p>
-
-<h2><code>Template</code> class</h2>
-
-<p>Each template module exports a class named "Template". An instance of a
-template is obtained in one of three ways:</p>
-
-<ul>
-<li>The <code>Template function</code>_.</li>
-<li>Enabling the import hook, using Python's import to obtain the module,
-and then retrieving the <code>Template</code> class.</li>
-<li>Calling the <code>kid.load_template</code> function and then retrieving the
-<code>Template</code> class.</li>
-</ul>
-
-<p>The <code>Template</code> function is the preferred method of obtaining a template
-instance.</p>
-
-<p>All Template classes subclass the <code>kid.BaseTemplate</code> class, providing a
-uniform set of methods that all templates expose. These methods are
-described in the following sections.</p>
-
-<p><code>__init__(**kw)</code>
-~~~~~~~~~~~~~~~~~~</p>
-
-<p>Template instantiation takes a list of keyword arguments and maps them to
-attributes on the object instance. You may pass any number of keywords
-arguments and they are available as both instance attributes and as locals
-to code contained in the template itself.</p>
-
-<p>For example::</p>
-
-<pre><code>from mytemplate import Template
-t = Template(foo='bar', hello='world')
-</code></pre>
-
-<p>is equivalent to::</p>
-
-<pre><code>from mytemplate import Template
-t = Template()
-t.foo = 'bar'
-t.hello = 'world'
-</code></pre>
-
-<p>And these names are available within a template as if they were locals::</p>
-
-<pre><code>&lt;p&gt;Hello ${hello}&lt;/p&gt;
-</code></pre>
-
-<p>.. note::</p>
-
-<p>The names <code>source</code>, <code>file</code>, and <code>name</code> should be avoided because
-  they are used by the generic <code>Template Function</code>_.</p>
-
-<p>.. _serialze:</p>
-
-<p><code>serialize()</code>
-~~~~~~~~~~~~~~~</p>
-
-<p>Execute the template and return the result as one big string.</p>
-
-<p>::</p>
-
-<p>def serialize(encoding=None, fragment=0, output=None)</p>
-
-<p>This method returns a string containing the output of the template encoded
-using the character encoding specified by the <code>encoding</code> argument. If no
-encoding is specified, "utf-8" is used.</p>
-
-<p>The <code>fragment</code> argument specifies whether prologue information such as the
-XML declaration (<code>&lt;?xml ...?&gt;</code>) and/or DOCTYPE should be output. Set to a 
-truth value if you need to generate XML suitable for insertion into another
-document.</p>
-
-<p>The <code>output</code> argument specifies the serialization method that should be
-used. This can be a string or a <code>Serializer</code> instance. </p>
-
-<p>.. note::</p>
-
-<p>The <code>__str__</code> method is overridden to use this same function so that
-  calls like <code>str(t)</code>, where <code>t</code> is a template instance, are equivalent
-  to calling <code>t.serialize()</code>.</p>
-
-<p><code>generate()</code>
-~~~~~~~~~~~~~~</p>
-
-<p>Execute the template and generate serialized output incrementally.</p>
-
-<p>::</p>
-
-<p>def generate(encoding=None, fragment=0, output=None)</p>
-
-<p>This method returns an iterator that yields an encoded string for each
-iteration. The iteration ends when the template is done executing.</p>
-
-<p>See the <code>serialize</code>_ method for more info on the <code>encoding</code>, <code>fragment</code>,
-and <code>output</code> arguments.</p>
-
-<p><code>write()</code>
-~~~~~~~~~~~</p>
-
-<p>Execute the template and write output to file.</p>
-
-<p>::</p>
-
-<p>def write(file, encoding=None, fragment=0, output=None)</p>
-
-<p>This method writes the processed template out to a file. If the file argument
-is a string, a file object is created using <code>open(file, 'wb')</code>. If the file
-argument is a file-like object (supports <code>write</code>), it is used directly.</p>
-
-<p>See the <code>serialize</code>_ method for more info on the <code>encoding</code>, <code>fragment</code>,
-and <code>output</code> arguments.</p>
-
-<p><code>transform()</code>
-~~~~~~~~~~~~~~~</p>
-
-<p>This method returns a generator object that can be used to iterate over the
-ElementTree objects produced by template execution. For now this method is
-under-documented and its use is not recommended. If you think you need to
-use it, ask about it on the mailing list.</p>
-
-<p>.. _serialize:</p>
-
-<h2>Serialization</h2>
-
-<p>The Template object's <code>serialize</code>, <code>generate</code>, and <code>write</code> methods
-take an <code>output</code> argument that controls how the XML Infoset items
-generated by a template should serialized. Kid has a modular serialization
-system allowing a single template to be serialized differently based on
-need.</p>
-
-<p>The <code>kid</code> package exposes a set of classes that handle serialization. The
-<code>Serializer</code> class provides some base functionality but does not perform
-serialization; it provides useful utility services to subclasses. The
-<code>XMLSerializer</code> and <code>HTMLSerializer</code> classes are concrete and can be
-used to serialize template output as XML or HTML, respectively.</p>
-
-<p><code>XMLSerializer</code>
-~~~~~~~~~~~~~~~~~</p>
-
-<p>The <code>XMLSerializer</code> has the the following options, which can be set when
-an instance is constructed, or afterwards as instance attributes:</p>
-
-<p>encoding
-  The character encoding that should be used when serializing output. This
-  can be any character encoding supported by Python.</p>
-
-<p>decl
-  Boolean specifying whether the XML declaration should be output. Note that
-  the <code>fragment</code> argument can be used to turn this off when calling the
-  <code>serialize</code>, <code>generate</code>, or <code>write</code> methods.</p>
-
-<p>doctype
-  A 3-tuple of the form <em>(TYPE, PUBLIC, SYSTEM)</em> that specifies a DOCTYPE
-  that should be output. If the <code>doctype</code> attribute is <code>None</code>, no
-  DOCTYPE is output. Note that if the <code>fragment</code> argument is set, no 
-  DOCTYPE will be output.</p>
-
-<p>The following example creates a custom XML serializer for DocBook and uses
-it to serialize template output::</p>
-
-<p>from kid import Template, XMLSerializer
-  dt = ('article', '-//OASIS//DTD DocBook XML V4.1.2//EN',
-        'http://www.oasis-open.org/docbook/xml/4.0/docbookx.dtd')
-  serializer = XMLSerializer(encoding='ascii', decl=1, doctype=dt)
-  t = Template(file='example.dbk')
-  print t.serialize(output=serializer)</p>
-
-<p><code>HTMLSerializer</code>
-~~~~~~~~~~~~~~~~~~</p>
-
-<p>The <code>HTMLSerializer</code> is cabable of serializing an XML Infoset using HTML
-4.01 syntax. This serializer varies from the <code>XMLSerializer</code> as follows:</p>
-
-<ul>
-<li><p>No <code>&lt;?xml ...?&gt;</code> declaration.</p></li>
-<li><p>HTML 4.01 DOCTYPE(s).</p></li>
-<li><p>Transpose element/attribute names to upper-case by default (can be
-configured to transpose to lowercase or to not transpose at all).</p></li>
-<li><p>Injects a <code>&lt;META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=enc"&gt;</code> where <em>enc</em> is the output encoding.</p></li>
-<li><p>Outputs the following element's as "empty elements" (i.e. no closing
-tag): <code>area</code>, <code>base</code>, <code>basefont</code>, <code>br</code>, <code>col</code>, <code>frame</code>,
-<code>hr</code>, <code>img</code>, <code>input</code>, <code>isindex</code>, <code>link</code>, <code>meta</code>, <code>param</code>.</p></li>
-<li><p>No such thing as short-form elements: <code>&lt;elem /&gt;</code>. All elements (except
-for empty elements) must have a full end tag.</p></li>
-<li><p>Does not escape reserved characters in <code>&lt;SCRIPT&gt;</code> and <code>&lt;STYLE&gt;</code>
-blocks. This includes less-than signs and ampersands.</p></li>
-<li><p>Boolean attributes are output without a value part. For example,
-<code>&lt;OPTION SELECTED&gt;foo&lt;/OPTION&gt;</code>.</p></li>
-<li><p>Discards namespace information.</p></li>
-</ul>
-
-<p>Much of this functionality can be controlled by setting options on the
-<code>HTMLSerializer</code> instance. These options are as follows:</p>
-
-<p>encoding
-    The character encoding that should be used when serializing output. This
-    can be any character encoding supported by Python.</p>
-
-<p>doctype
-    A 3-tuple of the form <em>(TYPE, PUBLIC, SYSTEM)</em> that specifies a DOCTYPE
-    that should be output. If the <code>doctype</code> attribute is <code>None</code>, no
-    DOCTYPE is output.</p>
-
-<p>transpose
-    This is a reference to a function that is called to transpose tag and 
-    attribute names. <code>string.upper</code> and <code>string.lower</code> are generally 
-    used here. If set to <code>None</code>, all tag names are output as they are in
-    the source document.</p>
-
-<p>inject_type
-    Boolean specifying whether a <code>&lt;META&gt;</code> tag should be inserted into the
-    <code>&lt;HEAD&gt;</code> of the document specifying the character encoding. This is 
-    enabled by default.</p>
-
-<p>empty<em>elements
-    A <code>set</code> containing the names (in lower case) of the elements that do not
-    have closing tags. Set to <code>[]</code> to turn off empty</em>element processing.</p>
-
-<p>noescape_elements
-    A <code>set</code> containing the names (in lower case) of elements whose content 
-    should not be escaped. This defaults to <code>['script', 'style']</code>. Set to 
-    <code>[]</code> to turn enable escaping in all elements.</p>
-
-<p>boolean_attributes
-    A <code>set</code> containing the names (in lower case) of attributes that do not 
-    require a value part. The presence of the attribute name signifies that the
-    attribute value is set. Set to <code>[]</code> to disable boolean attribute 
-    processing.</p>
-
-<p>Common Output Methods
-~~~~~~~~~~~~~~~~~~~~~</p>
-
-<p>The <code>kid.output_methods</code> dictionary contains a mapping of names to
-frequently used <code>Serializer</code> configurations. You can pass any of these
-names as the <code>output</code> argument in <code>Template</code> methods.</p>
-
-<p>xml 
-    The <code>xml</code> output method is the default. It serializes the infoset
-    items as well-formed XML and includes a <code>&lt;?xml?&gt;</code> declaration. The 
-    serializer is created as follows::</p>
-
-<pre><code>  XMLSerializer(encoding='utf-8', decl=1)
-</code></pre>
-
-<p>html / html-strict 
-    The <code>html</code> and <code>html-strict</code> output methods use the
-    <code>HTMLSerializer</code> to serialize the infoset. The <code>HTMLSerializer</code> used
-    has the following options set:</p>
-
-<pre><code>  * Tag and attribute names converted to uppercase 
-    (``HTMLSerializer.transpose = string.upper``).
-
-  * HTML Transitional or HTML Strict DOCTYPE.
-
-For more information on how content is serialized, see the
-`HTMLSerializer`_ documentation.
-</code></pre>
-
-<p>xhtml / xhtml-strict
-    The <code>xhtml</code> and <code>xhtml-strict</code> output methods use a custom 
-    <code>XMLSerializer</code> to serialize the infoset. The <code>XMLSerializer</code> used
-    has the following options set:</p>
-
-<pre><code>  * No ``&lt;?xml?&gt;`` declaration.
-
-  * XHTML Transitional or XHTML Strict DOCTYPE.
-</code></pre>
-
-<p>The following example serializes data as HTML instead of XML:: </p>
-
-<blockquote>
-  <blockquote>
-    <blockquote>
-      <p>from kid import Template
-      t = Template("<html xmlns="http://www.w3.org/1999/xhtml">"\
-                         "<body><p>Hello World</p><br /></body></html>")
-      print t.serialize(output='html-strict')
-        <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN" 
-                              "http://www.w3.org/TR/html4/strict.dtd">
-        <HTML><BODY><P>Hello World</P><BR></HTML></p>
-    </blockquote>
-  </blockquote>
-</blockquote>
-
-<p>Note that the DOCTYPE is output, tag names are converted to uppercase, and
-some elements have no end tag.</p>
-
-<p>The same code can be used to output XHTML as follows::</p>
-
-<blockquote>
-  <blockquote>
-    <blockquote>
-      <p>from kid import Template
-      t = Template("<html xmlns="http://www.w3.org/1999/xhtml">"\
-                         "<body><p>Hello World</p><br /></body></html>")
-      print t.serialize(output='xhtml-strict')
-        <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
-                              "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
-        <html xmlns="http://www.w3.org/1999/xhtml">
-        <body><p>Hello World</p><br /></html></p>
-    </blockquote>
-  </blockquote>
-</blockquote>
-
-<h1>Template Variables</h1>
-
-<p>When a template is executed, all of the template instance's attributes are
-available to template code as local variables. These variables may be
-specified when the <code>template is instantiated</code>_ or by assigning attributes to
-the template instance directly.</p>
-
-<p>.. <em>template is instantiated: <code>__init__(**kw)</code></em></p>
-
-<p>The following example template relies on two arguments being provided by the
-code that calls the template: <code>title</code> and <code>message</code>.</p>
-
-<p><code>message_template.kid</code>::</p>
-
-<p>#!text/html
-  <?xml version='1.0' encoding='utf-8'?>
-  <html xmlns="http://www.w3.org/1999/xhtml"
-        xmlns:py="http://purl.org/kid/ns#">
-    <head>
-      <title>${title.upper()}</title>
-    </head>
-    <body>
-      <h1 py:content="title">Title</h1>
-      <p>
-        A message from Python:
-      </p>
-      <blockquote py:content="message">
-        Message goes here.
-      </blockquote>
-    </body>
-  </html></p>
-
-<p>The code that executes this template is responsible for passing the <code>title</code>
-and <code>message</code> values.</p>
-
-<p><code>message.py</code>::</p>
-
-<p>from kid import Template
-  template = Template(file='message_template.kid',
-                      title="Hello World",
-                      message="Keep it simple, stupid.")
-  print template.serialize()</p>
-
-<p>This should result in the following output::</p>
-
-<p><?xml version='1.0' encoding='utf-8'?>
-  <html xmlns="http://www.w3.org/1999/xhtml">
-    <head>
-      <title>HELLO WORLD</title>
-    </head>
-    <body>
-      <h1>Hello World</h1>
-      <p>
-        A message from Python:
-      </p>
-      <blockquote>
-        Keep it simple, stupid.
-      </blockquote>
-    </body>
-  </html></p>
-
-<h1>Coping with Character Encodings</h1>
-
-<p>There are three places that character encodings come into play when
-processing templates: </p>
-
-<ol>
-<li><p>The input character encoding specified on the <code>&lt;?xml?&gt;</code>
- declaration. This specifies how characters are encoded in the
- template file itself. This follows the rules defined by the XML
- recommendation, which basically means defaulting to <code>utf-8</code> when
- no encoding is specified explicitily.</p></li>
-<li><p>The output character encoding specified when calling any of the
- following <code>Template</code> methods: <code>write</code>, <code>serialize</code>,
- <code>generate</code>. This also defaults to <code>utf-8</code>.</p></li>
-<li><p><code>str</code> objects passed to the template. The default encoding here
- is based on your system default encoding, which is always <code>ascii</code>
- unless it has been changed.</p></li>
-</ol>
-
-<p>The last item usually causes problems, especially for those working in
-non-ascii environments. If a <code>str</code> object is passed to a template and
-it can not be decoded, an exception is raised and template processing
-stops.</p>
-
-<p>There are two ways of dealing with this issue. The best way is to try to
-use unicode strings where-ever possible in your program. Unicode strings
-make Kid's job a lot easier and this makes things a bit more
-explicit. If you are unable or unwilling to change existing code to use
-unicode, you can convert to unicode when you use <code>str</code> objects in
-templates. For example, if all your <code>str</code> objects are encoded using
-<code>latin-1</code>, Kid will fail when it tries to convert them to unicode
-because it will be assuming the system default encoding::</p>
-
-<pre><code>&lt;p&gt;${encoded_string}&lt;/p&gt;
-</code></pre>
-
-<p>This raises an exception because we don't know the encoding of the
-string. You can convert to unicode as follows:</p>
-
-<pre><code>&lt;p&gt;${unicode(encoded_string, 'latin-1')}&lt;/p&gt;
-</code></pre>
-
-<p>It's also possible to change the default system encoding so that strings
-are decoded properly. Note that this change applies everywhere in the
-system and may cause problems in other areas. </p>
-
-<p>To change your default encoding, you will need modify your
-<code>sitecustomize.py</code> file and add the follow line:</p>
-
-<pre><code>import sys
-sys.setdefaultencoding('latin-1')
-</code></pre>
-
-<h1>Command Line Tools</h1>
-
-<h2>Template Compiler (<code>kidc</code>)</h2>
-
-<p>Kid templates may be compiled to Python byte-code (<code>.pyc</code>) files
-explicitly using the <code>kidc</code> command. <code>kidc</code> is capable of compiling
-individual files or recursively compiling all <code>.kid</code> files in a directory.</p>
-
-<p>Use <code>kidc --help</code> for more information.</p>
-
-<p>Note that you do not have to compile templates before using them. They are
-automatically compiled the first time they are used.</p>
-
-<h2>Run Templates (<code>kid</code>)</h2>
-
-<p>Kid templates may be executed directly without having been precompiled using
-the <code>kid</code> command as follows::</p>
-
-<p>kid template-file.kid</p>
-
-<p>Template output is written to <code>stdout</code> and may be redirected to a file
-or piped through XML compliant tools.</p>
diff -Naur kid-0.8/doc/#guide.txt# kid-0.8svn249/doc/#guide.txt#
--- kid-0.8/doc/#guide.txt#	2005-06-28 05:35:14.000000000 -0400
+++ kid-0.8svn249/doc/#guide.txt#	1969-12-31 19:00:00.000000000 -0500
@@ -1,674 +0,0 @@
-================
-Kid User's Guide
-================
-
-:Author: Ryan Tomayko
-:Contact: rtomayko@gmail.com
-:Revision: $Rev: 131 $
-:Date: $Date: 2005-03-09 15:26:45 -0500 (Wed, 09 Mar 2005) $
-:Copyright: 2005, Ryan Tomayko
-:Other Formats: Text__
-
-.. __: guide.txt
-
-Kid is an XML based template language that uses embedded Python_ to do cool
-stuff. The syntax was inspired by a number of existing template languages,
-namely XSLT_, TAL_, and PHP_.
-
-.. _python: http://www.python.org/
-.. _xslt: http://www.w3.org/TR/xslt
-.. _tal: http://www.zope.org/Wikis/DevSite/Projects/ZPT/TAL
-.. _php: http://www.php.net/
-
-This document describes the Kid Python interface, command line tools, and
-methods for configuring Kid in various web environments. For more
-information about the template language, see the `Kid Language
-Specification`_.
-
-.. _Kid Language Specification: language.html
-
-.. warning::
-
-  This software is in very early stages of development and will change
-  significantly before a 1.0 stable release. Most of the usage described in
-  this document will change. No promises are being made toward backward
-  compatibility between versions at this point.
-
-.. contents:: Table of Contents
-.. sectnum::
-
-Introduction
-============
-
-Why use Kid?
-------------
-
-Kid was designed to simplify the process of generating and transforming
-dynamic well-formed XML documents using Python. While there are a myriad of
-tools for working with XML documents in Python, generating XML is generally
-tedious, error prone, or both:
-
-* APIs like SAX, DOM, or ElementTree can guarantee well-formed output but
-  require that output documents be created entirely in Python.
-
-* Template languages like Cheetah_ or PTL_ make generating text content
-  easy but offer little to help ensure the output is
-  correct/well-formed. Using text based tools to generate XML can result in
-  bad data as there are many issues with basic XML syntax and encoding that
-  need to be understood and coded for by the programmer.
-
-* XSLT provides much of the functionality required to generate good XML
-  content but requires all input to be in the form of an XML document. This
-  brings us back to the original problem of *not being able to generate XML
-  content safely and easily*.
-
-Kid is an attempt to bring the benefits of these technologies together into
-a single cohesive package.
-
-.. _Cheetah: http://www.cheetahtemplate.org/
-.. _PTL: http://www.mems-exchange.org/software/quixote/doc/PTL.html
-
-Kid also allows the programmer to exploit the structured nature of XML by
-writing filters and transformations that work at the XML infoset level. Kid
-templates use generators to produce infoset items. This allows pipelines to
-be created that filter and modify content as needed.
-
-What Types of XML Documents?
-----------------------------
-
-Kid can be used to generate any kind of XML documents including XHTML, RSS,
-Atom, FOAF, RDF, XBEL, XSLT, RelaxNG, Schematron, SOAP, etc.
-
-XHTML is generally used for examples as it is arguably the most widely
-understood XML vocabulary in existence today.
-
-Template Example
-----------------
-
-Kid template files are well-formed XML documents with embedded Python used
-for generating and controlling dynamic content.
-
-The following illustrates a very basic Kid Template::
-
-  <?xml version='1.0' encoding='utf-8'?>
-  <?python
-  import time
-  title = "A Kid Template"
-  ?>
-  <html xmlns="http://www.w3.org/1999/xhtml"
-        xmlns:py="http://purl.org/kid/ns#"
-  >
-    <head>
-      <title py:content="title">
-        This is replaced with the value of the title variable.
-      </title>
-    </head>
-    <body>
-      <p>
-        The current time is ${time.strftime('%C %c')}.
-      </p>
-    </body>
-  </html>
-
-Kid supports more advanced features such as conditionals (``py:if``),
-iteration (``py:for``), and reusable sub templates (``py:def``). For more
-information on kid template syntax, see the `Kid Language Specification`_.
-
-Kid templates should use the ``.kid`` file extension if importing the
-template module using normal Python code is desired. The Kid import hook
-extensions rely on the ``.kid`` file extension being present.
-
-A Note on Template Design
--------------------------
-
-It is possible to embed blocks of Python code using the ``<?python?>``
-processing instruction (PI). However, the practice of embedding object model,
-data persistence, and business logic code in templates is highly
-discouraged. In most cases, these types of functionality should be moved
-into external Python modules and imported into the template.
-
-Keeping large amounts of code out of templates is important for a few
-reasons:
-
-* Separation of content and logic. Templates are meant to model a document
-  format and should not be laden with code whose main concern is something
-  else.
-
-* Editors with Python support (like Emacs) will not recognize Python code
-  embedded in Kid templates.
-
-* People will call you names.
-
-That being said, circumstances requiring somewhat complex formatting or
-presentation logic arise often enough to incline us to include the ability
-to embed blocks of real code in Templates. Template languages that help by
-hindering ones ability to write a few lines of code when needed lead to even
-greater convolution and general distress.
-
-*That* being said, there are some limitations on what types of usage the
-``<?python?>`` PI may be put to. Specifically, you cannot generate output
-within a code block (without feeling dirty), and all Python blocks end with
-the PI.
-
-You cannot do stuff like this::
-
-  <table>
-    <?python #
-    for row in rows: ?>
-      <tr><td py:content="row.colums[0]">...</td></tr>
-  </table>
-  <p><?python print 'some text and <markup/> too'?></p>
-
-This is a feature. One of the important aspects of Kid is that it guarantees
-well-formed XML output given a valid template. Allowing unstructured text
-output would make this impossible.
-
-The ``kid`` package
-===================
-
-The ``kid`` package contains functions and classes for using templates. Kid
-relies heavily on ElementTree_ and also exports much of that packages
-functionality.
-
-.. _ElementTree: http://effbot.org/zone/element-index.htm
-
-Loading and Executing Templates
--------------------------------
-
-``enable_import``
-~~~~~~~~~~~~~~~~~
-
-The ``enable_import`` function turns on the Kid import hooks and allows
-Python's native import statement to be used to access template
-modules. It is generally called once at the beginning of program execution,
-but calling multiple times has no adverse effects.
-
-::
-
-  import kid
-  kid.enable_import()
-
-
-.. _template function:
-
-``Template``
-~~~~~~~~~~~~
-
-Sometimes using Python's native import doesn't make sense for template
-usage. In these cases, the ``kid.Template`` function can be used to load a
-template module and create an instance of the module's ``Template`` class.
-
-The ``kid.Template`` function requires one of the following arguments to be
-provided to establish the template:
-
-file
-  The template should be loaded from the file specified. If a compiled
-  version of template exists, it will be loaded. If not, the template is
-  loaded and an attempt will be made to write a compiled version.
-
-source
-  The template should be loaded from the string specified. There is no
-  mechanism for caching string templates other than to keep a reference to
-  the object returned.
-
-name
-  The template should be loaded by importing a module with the specified
-  name. This is exactly like using Python's normal import but allows
-  template names to be specified dynamically and also doesn't require the
-  import hook to be enabled.
-
-::
-
-  import kid
-  template = Template(file='test.kid', foo='bar', baz='bling')
-  print template.serialize()
-
-::
-
-  import kid
-  template = Template(source='<p>$foo</p>', foo='Hello World!')
-  print template.serialize()
-
-
-``load_template``
-~~~~~~~~~~~~~~~~~
-
-The ``load_template`` function returns the module object for the template
-given a template filename. This module object can be used as if the module
-was loaded using Python's import statement. Use this function in cases where
-you need access to the template module but the template doesn't reside on
-Python's path.
-
-::
-
-  import kid
-  template_module = kid.load_template('test.kid', cache=1)
-  template = template_module.Template(foo='bar', baz='bling')
-  print str(template)
-
-Note that the `Template function`_ usually provides a better interface for
-creating templates as it automatically creates an instance of the `Template`
-class for the module, removing a line of code or two.
-
-Template Classes
-================
-
-Kid templates are converted into normal Python modules and may be used like
-normal Python modules. All template modules have a uniform interface that
-expose a class named ``Template`` and possibly a set of functions (one for
-each ``py:def`` declared in the template).
-
-Importing
----------
-
-Templates may be imported directly like any other Python module after the
-Kid import hooks have been enabled. Consider the following files in a
-directory on Python's ``sys.path``::
-
-  file1.py
-  file2.py
-  file3.kid
-
-The ``file1`` module may import the ``file3`` template module using the
-normal Python import syntax after making a call to ``kid.enable_import()``::
-
-  # enable kid import hooks
-  import kid
-  kid.enable_import()
-
-  # now import the template
-  import file3
-  print file3.serialize()
-
-The importer checks whether a compiled version of the template exists by
-looking for a ``template.pyc`` file and if not found, loads the
-``template.kid`` file, compiles it, and attempts to save it to
-``template.pyc``. If the compiled version cannot be saved properly,
-processing continues as normal; no errors or warnings are generated.
-
-
-``Template`` class
-------------------
-
-Each template module exports a class named "Template". An instance of a
-template is obtained in one of three ways:
-
-* The `Template function`_.
-* Enabling the import hook, using Python's import to obtain the module,
-  and then retrieving the ``Template`` class.
-* Calling the ``kid.load_template`` function and then retrieving the
-  ``Template`` class.
-
-The ``Template`` function is the preferred method of obtaining a template
-instance.
-
-All Template classes subclass the ``kid.BaseTemplate`` class, providing a
-uniform set of methods that all templates expose. These methods are
-described in the following sections.
-
-``__init__(**kw)``
-~~~~~~~~~~~~~~~~~~
-
-Template instantiation takes a list of keyword arguments and maps them to
-attributes on the object instance. You may pass any number of keywords
-arguments and they are available as both instance attributes and as locals
-to code contained in the template itself.
-
-For example::
-
-    from mytemplate import Template
-    t = Template(foo='bar', hello='world')
-
-is equivalent to::
-
-    from mytemplate import Template
-    t = Template()
-    t.foo = 'bar'
-    t.hello = 'world'
-
-And these names are available within a template as if they were locals::
-
-    <p>Hello ${hello}</p>
-
-.. note::
-
-  The names ``source``, ``file``, and ``name`` should be avoided because
-  they are used by the generic `Template Function`_.
-
-.. _serialze:
-
-``serialize()``
-~~~~~~~~~~~~~~~
-
-Execute the template and return the result as one big string.
-
-::
-
-  def serialize(encoding=None, fragment=0, output=None)
-
-This method returns a string containing the output of the template encoded
-using the character encoding specified by the ``encoding`` argument. If no
-encoding is specified, "utf-8" is used.
-
-The ``fragment`` argument specifies whether prologue information such as the
-XML declaration (``<?xml ...?>``) and/or DOCTYPE should be output. Set to a 
-truth value if you need to generate XML suitable for insertion into another
-document.
-
-The ``output`` argument specifies the serialization method that should be
-used. This can be a string or a ``Serializer`` instance. 
-
-.. note::
-
-  The ``__str__`` method is overridden to use this same function so that
-  calls like ``str(t)``, where ``t`` is a template instance, are equivalent
-  to calling ``t.serialize()``.
-
-``generate()``
-~~~~~~~~~~~~~~
-
-Execute the template and generate serialized output incrementally.
-
-::
-
-   def generate(encoding=None, fragment=0, output=None)
-
-This method returns an iterator that yields an encoded string for each
-iteration. The iteration ends when the template is done executing.
-
-See the `serialize`_ method for more info on the ``encoding``, ``fragment``,
-and ``output`` arguments.
-
-``write()``
-~~~~~~~~~~~
-
-Execute the template and write output to file.
-
-::
-
-  def write(file, encoding=None, fragment=0, output=None)
-
-This method writes the processed template out to a file. If the file argument
-is a string, a file object is created using ``open(file, 'wb')``. If the file
-argument is a file-like object (supports ``write``), it is used directly.
-
-See the `serialize`_ method for more info on the ``encoding``, ``fragment``,
-and ``output`` arguments.
-
-``transform()``
-~~~~~~~~~~~~~~~
-
-This method returns a generator object that can be used to iterate over the
-ElementTree objects produced by template execution. For now this method is
-under-documented and its use is not recommended. If you think you need to
-use it, ask about it on the mailing list.
-
-.. _serialize:
-
-Serialization
-----------------------------
-
-The Template object's ``serialize``, ``generate``, and ``write`` methods
-take an ``output`` argument that controls how the XML Infoset items
-generated by a template should serialized. Kid has a modular serialization
-system allowing a single template to be serialized differently based on
-need.
-
-The ``kid`` package exposes a set of classes that handle serialization. The
-``Serializer`` class provides some base functionality but does not perform
-serialization; it provides useful utility services to subclasses. The
-``XMLSerializer`` and ``HTMLSerializer`` classes are concrete and can be
-used to serialize template output as XML or HTML, respectively.
-
-``XMLSerializer``
-~~~~~~~~~~~~~~~~~
-
-The ``XMLSerializer`` has the the following options, which can be set when
-an instance is constructed, or afterwards as instance attributes:
-
-
-encoding
-  The character encoding that should be used when serializing output. This
-  can be any character encoding supported by Python.
-
-decl
-  Boolean specifying whether the XML declaration should be output. Note that
-  the ``fragment`` argument can be used to turn this off when calling the
-  ``serialize``, ``generate``, or ``write`` methods.
-
-doctype
-  A 3-tuple of the form *(TYPE, PUBLIC, SYSTEM)* that specifies a DOCTYPE
-  that should be output. If the ``doctype`` attribute is ``None``, no
-  DOCTYPE is output. Note that if the ``fragment`` argument is set, no 
-  DOCTYPE will be output.
-
-The following example creates a custom XML serializer for DocBook and uses
-it to serialize template output::
-
-  from kid import Template, XMLSerializer
-  dt = ('article', '-//OASIS//DTD DocBook XML V4.1.2//EN',
-        'http://www.oasis-open.org/docbook/xml/4.0/docbookx.dtd')
-  serializer = XMLSerializer(encoding='ascii', decl=1, doctype=dt)
-  t = Template(file='example.dbk')
-  print t.serialize(output=serializer)
-
-
-``HTMLSerializer``
-~~~~~~~~~~~~~~~~~~
-
-The ``HTMLSerializer`` is cabable of serializing an XML Infoset using HTML
-4.01 syntax. This serializer varies from the ``XMLSerializer`` as follows:
- 
-* No ``<?xml ...?>`` declaration.
-
-* HTML 4.01 DOCTYPE(s).
-
-* Transpose element/attribute names to upper-case by default (can be
-  configured to transpose to lowercase or to not transpose at all).
-   
-* Injects a ``<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=enc">`` where *enc* is the output encoding.
-
-* Outputs the following element's as "empty elements" (i.e. no closing
-  tag): ``area``, ``base``, ``basefont``, ``br``, ``col``, ``frame``,
-  ``hr``, ``img``, ``input``, ``isindex``, ``link``, ``meta``, ``param``.
-
-* No such thing as short-form elements: ``<elem />``. All elements (except
-  for empty elements) must have a full end tag.
-
-* Does not escape reserved characters in ``<SCRIPT>`` and ``<STYLE>``
-  blocks. This includes less-than signs and ampersands.
-
-* Boolean attributes are output without a value part. For example,
-  ``<OPTION SELECTED>foo</OPTION>``.
-
-* Discards namespace information.
-
-
-Much of this functionality can be controlled by setting options on the
-``HTMLSerializer`` instance. These options are as follows:
-
-encoding
-  The character encoding that should be used when serializing output. This
-  can be any character encoding supported by Python.
-
-doctype
-  A 3-tuple of the form *(TYPE, PUBLIC, SYSTEM)* that specifies a DOCTYPE
-  that should be output. If the ``doctype`` attribute is ``None``, no
-  DOCTYPE is output.
-
-transpose
-  This is a reference to a function that is called to transpose tag and 
-  attribute names. ``string.upper`` and ``string.lower`` are generally 
-  used here. If set to ``None``, all tag names are output as they are in
-  the source document.
-
-inject_type
-  Boolean specifying whether a ``<META>`` tag should be inserted into the
-  ``<HEAD>`` of the document specifying the character encoding. This is 
-  enabled by default.
-
-empty_elements
-  A ``set`` containing the names (in lower case) of the elements that do not
-  have closing tags. Set to ``[]`` to turn off empty_element processing.
-
-noescape_elements
-  A ``set`` containing the names (in lower case) of elements whose content 
-  should not be escaped. This defaults to ``['script', 'style']``. Set to 
-  ``[]`` to turn enable escaping in all elements.
-
-boolean_attributes
-  A ``set`` containing the names (in lower case) of attributes that do not 
-  require a value part. The presence of the attribute name signifies that the
-  attribute value is set. Set to ``[]`` to disable boolean attribute 
-  processing.
-
-
-Common Output Methods
-~~~~~~~~~~~~~~~~~~~~~
-
-The ``kid.output_methods`` dictionary contains a mapping of names to
-frequently used ``Serializer`` configurations. You can pass any of these
-names as the ``output`` argument in ``Template`` methods.
-
-  xml     
-    The ``xml`` output method is the default. It serializes the infoset
-    items as well-formed XML and includes a ``<?xml?>`` declaration. The 
-    serializer is created as follows::
-  
-      XMLSerializer(encoding='utf-8', decl=1)
-
-  html / html-strict 
-    The ``html`` and ``html-strict`` output methods use the
-    ``HTMLSerializer`` to serialize the infoset. The ``HTMLSerializer`` used
-    has the following options set:
-    
-      * Tag and attribute names converted to uppercase 
-        (``HTMLSerializer.transpose = string.upper``).
-  
-      * HTML Transitional or HTML Strict DOCTYPE.
-
-    For more information on how content is serialized, see the
-    `HTMLSerializer`_ documentation.
-
-  xhtml / xhtml-strict
-    The ``xhtml`` and ``xhtml-strict`` output methods use a custom 
-    ``XMLSerializer`` to serialize the infoset. The ``XMLSerializer`` used
-    has the following options set:
-
-      * No ``<?xml?>`` declaration.
-
-      * XHTML Transitional or XHTML Strict DOCTYPE.
-
-The following example serializes data as HTML instead of XML:: 
-
-  >>> from kid import Template
-  >>> t = Template("<html xmlns="http://www.w3.org/1999/xhtml">"\
-                   "<body><p>Hello World</p><br /></body></html>")
-  >>> print t.serialize(output='html-strict')
-  <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN" 
-                        "http://www.w3.org/TR/html4/strict.dtd">
-  <HTML><BODY><P>Hello World</P><BR></HTML>
-
-Note that the DOCTYPE is output, tag names are converted to uppercase, and
-some elements have no end tag.
-
-The same code can be used to output XHTML as follows::
-
-  >>> from kid import Template
-  >>> t = Template("<html xmlns="http://www.w3.org/1999/xhtml">"\
-                   "<body><p>Hello World</p><br /></body></html>")
-  >>> print t.serialize(output='xhtml-strict')
-  <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
-                        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
-  <html xmlns="http://www.w3.org/1999/xhtml">
-  <body><p>Hello World</p><br /></html>
-
-
-Template Variables
-==================
-
-When a template is executed, all of the template instance's attributes are
-available to template code as local variables. These variables may be
-specified when the `template is instantiated`_ or by assigning attributes to
-the template instance directly.
-
-.. _template is instantiated: `__init__(**kw)`_
-
-The following example template relies on two arguments being provided by the
-code that calls the template: ``title`` and ``message``.
-
-``message_template.kid``::
-
-  #!text/html
-  <?xml version='1.0' encoding='utf-8'?>
-  <html xmlns="http://www.w3.org/1999/xhtml"
-        xmlns:py="http://purl.org/kid/ns#">
-    <head>
-      <title>${title.upper()}</title>
-    </head>
-    <body>
-      <h1 py:content="title">Title</h1>
-      <p>
-        A message from Python:
-      </p>
-      <blockquote py:content="message">
-        Message goes here.
-      </blockquote>
-    </body>
-  </html>
-
-The code that executes this template is responsible for passing the `title`
-and `message` values.
-
-``message.py``::
-
-  from kid import Template
-  template = Template(file='message_template.kid',
-                      title="Hello World",
-                      message="Keep it simple, stupid.")
-  print template.serialize()
-
-This should result in the following output::
-
-  <?xml version='1.0' encoding='utf-8'?>
-  <html xmlns="http://www.w3.org/1999/xhtml">
-    <head>
-      <title>HELLO WORLD</title>
-    </head>
-    <body>
-      <h1>Hello World</h1>
-      <p>
-        A message from Python:
-      </p>
-      <blockquote>
-        Keep it simple, stupid.
-      </blockquote>
-    </body>
-  </html>
-
-
-Command Line Tools
-==================
-
-Template Compiler (``kidc``)
-----------------------------
-
-Kid templates may be compiled to Python byte-code (``.pyc``) files
-explicitly using the ``kidc`` command. ``kidc`` is capable of compiling
-individual files or recursively compiling all ``.kid`` files in a directory.
-
-Use ``kidc --help`` for more information.
-
-Note that you do not have to compile templates before using them. They are
-automatically compiled the first time they are used.
-
-Run Templates (``kid``)
----------------------------------------------
-
-Kid templates may be executed directly without having been precompiled using
-the ``kid`` command as follows::
-
-  kid template-file.kid
-
-Template output is written to ``stdout`` and may be redirected to a file
-or piped through XML compliant tools.
diff -Naur kid-0.8/doc/guide.txt kid-0.8svn249/doc/guide.txt
--- kid-0.8/doc/guide.txt	2005-12-02 01:57:39.000000000 -0500
+++ kid-0.8svn249/doc/guide.txt	2006-01-11 11:14:35.000000000 -0500
@@ -4,8 +4,8 @@
 
 :Author: Ryan Tomayko
 :Contact: rtomayko@gmail.com
-:Revision: $Rev: 215 $
-:Date: $Date: 2005-11-25 08:29:11 -0500 (Fri, 25 Nov 2005) $
+:Revision: $Rev: 237 $
+:Date: $Date: 2006-01-01 13:22:32 -0500 (Sun, 01 Jan 2006) $
 :Copyright: 2005, Ryan Tomayko
 :Other Formats: Text__
 
@@ -599,8 +599,8 @@
 The following example serializes data as HTML instead of XML:: 
 
   >>> from kid import Template
-  >>> t = Template("<html xmlns="http://www.w3.org/1999/xhtml">"\
-                   "<body><p>Hello World</p><br /></body></html>")
+  >>> t = Template('<html xmlns="http://www.w3.org/1999/xhtml">'
+                   '<body><p>Hello World</p><br /></body></html>')
   >>> print t.serialize(output='html-strict')
   <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN" 
                         "http://www.w3.org/TR/html4/strict.dtd">
@@ -612,8 +612,8 @@
 The same code can be used to output XHTML as follows::
 
   >>> from kid import Template
-  >>> t = Template("<html xmlns="http://www.w3.org/1999/xhtml">"\
-                   "<body><p>Hello World</p><br /></body></html>")
+  >>> t = Template('<html xmlns="http://www.w3.org/1999/xhtml">'
+                   '<body><p>Hello World</p><br /></body></html>')
   >>> print t.serialize(output='xhtml-strict')
   <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
                         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
@@ -636,7 +636,6 @@
 
 ``message_template.kid``::
 
-  #!text/html
   <?xml version='1.0' encoding='utf-8'?>
   <html xmlns="http://www.w3.org/1999/xhtml"
         xmlns:py="http://purl.org/kid/ns#">
diff -Naur kid-0.8/doc/html/almodovar.css kid-0.8svn249/doc/html/almodovar.css
--- kid-0.8/doc/html/almodovar.css	2005-12-02 02:56:49.000000000 -0500
+++ kid-0.8svn249/doc/html/almodovar.css	1969-12-31 19:00:00.000000000 -0500
@@ -1,273 +0,0 @@
-/*
-Theme Name: Almodovar
-Theme URI: http://blog.ratterobert.com/archiv/2005/03/09/almodovar/
-Description: Das Theme basiert im Ursprung auf Michael Heilemanns <a href="http://binarybonsai.com/kubrick/">Kubrick</a>-Template und ist von dem einen oder anderen Gimmick anderer sehr guter Templates inspiriert worden.
-Version: 0.7
-Author: ratte / robert
-Author URI: http://blog.ratterobert.com/
-*/
-
-/* Begin Typography & Colors */
-body {
-	font-size: 75%;
-	font-family: 'Lucida Grande', 'Trebuchet MS', 'Bitstream Vera Sans', Sans-Serif;
-	background-color: #d5d6d7;
-	color: #333;
-	text-align: center;
-}
-
-#page {
-	background-color: #fff;
-	border: 1px solid #999;
-	text-align: left;
-}
-
-#content {
-	font-size: 1.2em;
-	margin: 0;
-	}
-
-#content p,
-#content ul,
-#content blockquote { 
-  line-height: 1.6em;
-}
-
-#footer {
-	border-top: 1px solid #000;
-  margin-top: 2em;
-}
-
-small {
-	font-family: 'Trebuchet MS', Arial, Helvetica, Sans-Serif;
-	font-size: 0.9em;
-	line-height: 1.5em;
-	}
-
-h1, h2, h3 {
-	font-family: 'Trebuchet MS', 'Lucida Grande', Verdana, Arial, Sans-Serif;
-	font-weight: bold;
-  margin-top: .7em;
-  margin-bottom: .7em;
-	}
-
-h1 { 
-  font-size: 2.5em;
-}
-h2 {
-	font-size: 2em;
-}
-h3 {
-	font-size: 1.5em;
-}
-
-h1, h2, h3 {
-	color: #777;
-}
-
-h1 a, h2 a, h3 a {
-	color: #777;
-}
-
-h1, h1 a, h1 a:hover, h1 a:visited, 
-h2, h2 a, h2 a:hover, h2 a:visited, 
-h3, h3 a, h3 a:hover, h3 a:visited, 
-cite {
-	text-decoration: none;
-}
-
-#content p a:visited {
-	color: #c63
-  font-weight: normal;
-}
-
-small, blockquote, strike {
-	color: #777;
-}
-
-#links ul ul li, #links li {
-	list-style: none;
-}
-
-code {
-	font: 1.1em 'Courier', 'Courier New', Fixed;
-}
-
-acronym, abbr, span.caps {
-	font-size: 0.9em;
-	letter-spacing: .07em;
-}
-
-a {
-	color: #FF5000;
-	text-decoration: none;
-  font-weight: bold;
-}
-a:hover {
-	color: #FF8000;
-}
-
-/* Special case doc-title */
-h1.doc-title { 
-  text-transform: lowercase;
-  font-size: 4em;
-  margin: 0;
-}
-h1.doc-title a { 
-  display: block;
-  padding-left: 0.8em;
-  padding-bottom: .5em;
-  padding-top: .5em;
-  margin: 0;
-  border-bottom: 1px #fff solid;
-}
-h1.doc-title, 
-h1.doc-title a, 
-h1.doc-title a:visited,
-h1.doc-title a:hover {
-	text-decoration: none;
-	color: #FF5000;
-}
-/* End Typography & Colors */
-
-
-/* Begin Structure */
-body {
-	margin: 0;
-	padding: 0;
-}
-
-#page {
-	background-color: white;
-	margin: 0 auto 0 9em;
-	padding: 0;
-  max-width: 60em;
-	border: 1px solid #959596;
-}
-* html #page { 
-  width: 60em;
-}
-
-#content {
-	margin: 0 1em 0 3em;
-}
-
-#content h1 { 
-  margin-left: 0;
-}
-
-#footer {
-	padding: 0 0 0 1px;
-	margin: 0;
-  margin-top: 1.5em;
-	clear: both;
-	}
-
-#footer p {
-	margin: 1em;
-	}
-
-/* End Structure */
-
-
-
-/*	Begin Headers */
-.description {
-	text-align: center;
-	}
-
-/* End Headers */
-
-
-/* Begin Form Elements */
-#searchform {
-	margin: 1em auto;
-	text-align: right;
-	}
-
-#searchform #s {
-	width: 100px;
-	padding: 2px;
-	}
-
-#searchsubmit {
-	padding: 1px;
-	}
-/* End Form Elements */
-
-
-/* Begin Various Tags & Classes */
-acronym, abbr, span.caps {
-	cursor: help;
-}
-
-acronym, abbr {
-	border-bottom: 1px dashed #999;
-}
-
-blockquote {
-	margin: 15px 30px 0 10px;
-	padding-left: 20px;
-	border-left: 5px solid #CCC;
-}
-
-blockquote cite {
-	margin: 5px 0 0;
-	display: block;
-}
-
-hr {
-	display: none;
-}
-
-a img {
-	border: none;
-}
-
-.navigation {
-	display: block;
-	text-align: center;
-	margin-top: 10px;
-	margin-bottom: 60px;
-}
-/* End Various Tags & Classes*/
-
-span a { color: #CCC; }
-
-span a:hover { color: #FF5000; }
-
-#navcontainer {
-	margin-top: 0px;
-	padding-top: 0px;
-	width: 100%;
-	background-color: #CCC;
-	text-align: right;
-}
-
-#navlist ul {
-	margin-left: 0;
-	margin-right: 5px;
-	padding-left: 0;
-	white-space: nowrap;
-}
-
-#navlist li {
-	display: inline;
-	list-style-type: none;
-}
-
-#navlist a {
-  padding: 3px 10px;
-  color: #fff;
-	background-color: #999;
-	text-decoration: none;
-	border: 1px solid #CCC;
-  font-weight: normal;
-}
-
-#navlist a:hover {
-	color: #000;
-	background-color: #FFF;
-	text-decoration: none;
-  font-weight: normal;
-}
diff -Naur kid-0.8/doc/html/class-kid.BaseTemplate.html kid-0.8svn249/doc/html/class-kid.BaseTemplate.html
--- kid-0.8/doc/html/class-kid.BaseTemplate.html	2005-12-02 03:01:13.000000000 -0500
+++ kid-0.8svn249/doc/html/class-kid.BaseTemplate.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,412 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.BaseTemplate -- Base class for compiled Templates.</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>BaseTemplate</TT>
-  </H1>
-  <H4 CLASS="pudge-member-page-subheading">
-    Base class for compiled Templates.
-  </H4>
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The BaseTemplate class is accessible via the
-    <A HREF="module-kid.html">
-      <TT>kid</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      <A HREF="#attributes" CLASS="pudge-section-link">
-        Attributes (1)
-      </A>
-      
-    </LI>
-      
-    <LI>
-      <A HREF="#methods" CLASS="pudge-section-link">
-        Methods (10)
-      </A>
-      
-    </LI>
-    
-    <LI>
-      <A HREF="kid/__init__.py.html?f=165&amp;l=357#165" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  <DIV CLASS="rst pudge-module-doc">
-    <P>All kid template modules expose a class named <TT CLASS="docutils literal"><SPAN CLASS="pre">Template</SPAN></TT> that
-extends from this class making the methods defined here available on
-all Template subclasses.</P>
-<P>This class should not be instantiated directly.</P>
-  </DIV>
-  
-  <HR>
-  
-  
-  
-  
-    <A NAME="attributes">
-  
-  
-    </A>
-    <H2>Attributes</H2>
-    <DIV CLASS="pudge-member name">
-    <A NAME="serializer">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.BaseTemplate.html#serializer" CLASS="pudge-obj-link">serializer</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>&lt;kid.serialization.XMLSerializer object at 0x10ff670></PRE>
-    </DIV>
-  </DIV>
-    
-  
-    <A NAME="methods">
-    
-  
-    </A>
-    <H2>Methods</H2>
-    <DIV CLASS="pudge-member routine ">
-    <A NAME="__init__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.BaseTemplate.html#__init__" CLASS="pudge-obj-link">__init__</A>(self)</TT>
-      <A HREF="kid/__init__.py.html?f=180&amp;l=190#180" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Initialize a template with instance attributes specified by
-keyword arguments.
-    </P>
-    <P>Keyword arguments are available to the template using self.var
-notation.</P>
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__iter__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.BaseTemplate.html#__iter__" CLASS="pudge-obj-link">__iter__</A>(self)</TT>
-      <A HREF="kid/__init__.py.html?f=256&amp;l=258#256" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__unicode__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.BaseTemplate.html#__unicode__" CLASS="pudge-obj-link">__unicode__</A>(self)</TT>
-      <A HREF="kid/__init__.py.html?f=262&amp;l=264#262" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="content">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.BaseTemplate.html#content" CLASS="pudge-obj-link">content</A>(self)</TT>
-      <A HREF="kid/__init__.py.html?f=282&amp;l=292#282" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="generate">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.BaseTemplate.html#generate" CLASS="pudge-obj-link">generate</A>(self, encoding=None, fragment=0, output=None)</TT>
-      <A HREF="kid/__init__.py.html?f=234&amp;l=255#234" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Execute template and generate serialized output incrementally.
-    </P>
-    <P>This method returns an iterator that yields an encoded string
-for each iteration. The iteration ends when the template is done
-executing.</P>
-<DL CLASS="docutils">
-<DT>encoding</DT>
-<DD>The output encoding. Default: utf-8.</DD>
-<DT>fragment</DT>
-<DD>Controls whether prologue information (such as &lt;?xml?>
-declaration and DOCTYPE should be written). Set to 1
-when generating fragments meant to be inserted into
-existing XML documents.</DD>
-<DT>output</DT>
-<DD>A string specifying an output method ('xml', 'html',
-'xhtml') or a Serializer object.</DD>
-</DL>
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="initialize">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.BaseTemplate.html#initialize" CLASS="pudge-obj-link">initialize</A>(self)</TT>
-      <A HREF="kid/__init__.py.html?f=265&amp;l=267#265" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="pull">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.BaseTemplate.html#pull" CLASS="pudge-obj-link">pull</A>(self)</TT>
-      <A HREF="kid/__init__.py.html?f=268&amp;l=274#268" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Returns an iterator over the items in this template.
-    </P>
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="serialize">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.BaseTemplate.html#serialize" CLASS="pudge-obj-link">serialize</A>(self, encoding=None, fragment=0, output=None)</TT>
-      <A HREF="kid/__init__.py.html?f=211&amp;l=233#211" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Execute a template and return a single string.
-    </P>
-    <DL CLASS="docutils">
-<DT>encoding</DT>
-<DD>The output encoding. Default: utf-8.</DD>
-<DT>fragment</DT>
-<DD>Controls whether prologue information (such as &lt;?xml?>
-declaration and DOCTYPE should be written). Set to 1
-when generating fragments meant to be inserted into
-existing XML documents.</DD>
-<DT>output</DT>
-<DD>A string specifying an output method ('xml', 'html',
-'xhtml') or a Serializer object.</DD>
-</DL>
-<P>This is a convienence method, roughly equivalent to:</P>
-<PRE CLASS="literal-block">
-''.join([x for x in obj.generate(encoding, fragment, output)]
-</PRE>
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="transform">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.BaseTemplate.html#transform" CLASS="pudge-obj-link">transform</A>(self, stream=None, filters=[])</TT>
-      <A HREF="kid/__init__.py.html?f=293&amp;l=325#293" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Execute the template and apply any match transformations.
-    </P>
-    <P>If stream is specified, it must be one of the following:</P>
-<DL CLASS="docutils">
-<DT>Element</DT>
-<DD>An ElementTree Element.</DD>
-<DT>ElementStream</DT>
-<DD>An 
-    
-    <A HREF="class-kid.pull.ElementStream.html" CLASS="obj-link class" TITLE="kid.pull.ElementStream - Provides a pull/streaming interface to ElementTree.">
-      <TT>pull.ElementStream</TT></A>
-    
-   instance or other iterator that yields
-stream events.</DD>
-<DT>string</DT>
-<DD>A file or URL unless the string starts with
-'&lt;' in which case it is considered an XML document
-and processed as if it had been an Element.</DD>
-</DL>
-<P>By default, the 
-    
-    <A HREF="class-kid.BaseTemplate.html#pull" CLASS="obj-link routine" TITLE="kid.BaseTemplate.pull - Returns an iterator over the items in this template.">
-      <TT>pull</TT></A>
-    
-   method is called to obtain the stream.</P>
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="write">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.BaseTemplate.html#write" CLASS="pudge-obj-link">write</A>(self, file, encoding=None, fragment=0, output=None)</TT>
-      <A HREF="kid/__init__.py.html?f=191&amp;l=210#191" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Execute template and write output to file.
-    </P>
-    <DL CLASS="docutils">
-<DT>
-<A HREF="file:file" CLASS="reference">file:file</A></DT>
-<DD>A filename or a file like object (must support write()).</DD>
-<DT>encoding:string</DT>
-<DD>The output encoding. Default: utf-8.</DD>
-<DT>fragment:bool</DT>
-<DD>Controls whether prologue information (such as &lt;?xml?>
-declaration and DOCTYPE should be written). Set to 1
-when generating fragments meant to be inserted into
-existing XML documents.</DD>
-<DT>output:string,`Serializer`</DT>
-<DD>A string specifying an output method ('xml', 'html',
-'xhtml') or a Serializer object.</DD>
-</DL>
-  
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/__init__.py.html?f=165&amp;l=357#165" TITLE="kid/__init__.py:165">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/class-kid.HTMLSerializer.html kid-0.8svn249/doc/html/class-kid.HTMLSerializer.html
--- kid-0.8/doc/html/class-kid.HTMLSerializer.html	2005-12-02 03:01:14.000000000 -0500
+++ kid-0.8svn249/doc/html/class-kid.HTMLSerializer.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,288 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.HTMLSerializer</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>HTMLSerializer</TT>
-  </H1>
-  
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The HTMLSerializer class is accessible via the
-    <A HREF="module-kid.html">
-      <TT>kid</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      <A HREF="#attributes" CLASS="pudge-section-link">
-        Attributes (10)
-      </A>
-      
-    </LI>
-      
-    <LI>
-      <A HREF="#methods" CLASS="pudge-section-link">
-        Methods (1)
-      </A>
-      
-    </LI>
-    
-    <LI>
-      <A HREF="kid/serialization.py.html?f=248&amp;l=410#248" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  
-  
-  <HR>
-  
-  
-  
-  
-  
-    <A NAME="attributes">
-  
-  
-    </A>
-    <H2>Attributes</H2>
-    <DIV CLASS="pudge-member name">
-    <A NAME="balanced_blocks">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.HTMLSerializer.html#balanced_blocks" CLASS="pudge-obj-link">balanced_blocks</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>1</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="boolean_attributes">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.HTMLSerializer.html#boolean_attributes" CLASS="pudge-obj-link">boolean_attributes</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>set(['compact', 'defer', 'checked', 'nohref', 'selected', 'ismap', 'disabled', 'noshade', 'noresize', 'multiple', 'nowrap', 'declare'])</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="doctype">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.HTMLSerializer.html#doctype" CLASS="pudge-obj-link">doctype</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>('HTML',
- '-//W3C//DTD HTML 4.01 Transitional//EN',
- 'http://www.w3.org/TR/html4/loose.dtd')</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="elements_with_pcdata">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.HTMLSerializer.html#elements_with_pcdata" CLASS="pudge-obj-link">elements_with_pcdata</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>set(['fieldset', 'option', 'textarea', 'title'])</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="empty_elements">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.HTMLSerializer.html#empty_elements" CLASS="pudge-obj-link">empty_elements</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>set(['img', 'area', 'basefont', 'frame', 'isindex', 'meta', 'param', 'hr', 'base', 'link', 'br', 'input', 'col'])</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="encoding">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.HTMLSerializer.html#encoding" CLASS="pudge-obj-link">encoding</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>'utf-8'</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="inject_type">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.HTMLSerializer.html#inject_type" CLASS="pudge-obj-link">inject_type</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>1</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="namespaces">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.HTMLSerializer.html#namespaces" CLASS="pudge-obj-link">namespaces</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>{'http://purl.org/atom/ns#': 'atom',
- 'http://purl.org/rss/1.0/': 'rss',
- 'http://www.w3.org/1999/02/22-rdf-syntax-ns#': 'rdf',
- 'http://www.w3.org/1999/xhtml': 'html',
- 'http://www.w3.org/XML/1998/namespace': 'xml'}</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="noescape_elements">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.HTMLSerializer.html#noescape_elements" CLASS="pudge-obj-link">noescape_elements</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>set(['style', 'script'])</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="strip_whitespace">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.HTMLSerializer.html#strip_whitespace" CLASS="pudge-obj-link">strip_whitespace</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>0</PRE>
-    </DIV>
-  </DIV>
-    
-  
-    <A NAME="methods">
-    
-  
-    </A>
-    <H2>Methods</H2>
-    <DIV CLASS="pudge-member routine alias">
-    <A NAME="__init__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.HTMLSerializer.html#__init__" CLASS="pudge-obj-link">__init__</A>(self, encoding='utf-8', doctype=None, transpose=None)</TT>
-      <A HREF="kid/serialization.py.html?f=264&amp;l=273#264" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/serialization.py.html?f=248&amp;l=410#248" TITLE="kid/serialization.py:248">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/class-kid.namespace.atom.html kid-0.8svn249/doc/html/class-kid.namespace.atom.html
--- kid-0.8/doc/html/class-kid.namespace.atom.html	2005-12-02 03:01:15.000000000 -0500
+++ kid-0.8svn249/doc/html/class-kid.namespace.atom.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,212 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.namespace.atom</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>atom</TT>
-  </H1>
-  
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The atom class is accessible via the
-    <A HREF="module-kid.namespace.html">
-      <TT>kid.namespace</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      
-      <SPAN CLASS="pudge-missing-section-link">
-        Attributes
-      </SPAN>
-    </LI>
-    <LI>
-      <A HREF="#methods" CLASS="pudge-section-link">
-        Methods (4)
-      </A>
-      
-    </LI>
-    
-    <LI>
-      <A HREF="kid/namespace.py.html" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  
-  
-  <HR>
-  
-  
-  
-  
-  
-    <A NAME="methods">
-  
-  
-    </A>
-    <H2>Methods</H2>
-    <DIV CLASS="pudge-member routine ">
-    <A NAME="__equals__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.atom.html#__equals__" CLASS="pudge-obj-link">__equals__</A>(self, other)</TT>
-      <A HREF="kid/namespace.py.html?f=32&amp;l=39#32" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__getitem__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.atom.html#__getitem__" CLASS="pudge-obj-link">__getitem__</A>(self, name)</TT>
-      <A HREF="kid/namespace.py.html?f=17&amp;l=22#17" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__init__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.atom.html#__init__" CLASS="pudge-obj-link">__init__</A>(self, uri, prefix=None)</TT>
-      <A HREF="kid/namespace.py.html?f=5&amp;l=10#5" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__unicode__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.atom.html#__unicode__" CLASS="pudge-obj-link">__unicode__</A>(self)</TT>
-      <A HREF="kid/namespace.py.html?f=28&amp;l=30#28" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/namespace.py.html" TITLE="kid/namespace.py:0">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/class-kid.Namespace.html kid-0.8svn249/doc/html/class-kid.Namespace.html
--- kid-0.8/doc/html/class-kid.Namespace.html	2005-12-02 03:01:12.000000000 -0500
+++ kid-0.8svn249/doc/html/class-kid.Namespace.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,212 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.Namespace</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>Namespace</TT>
-  </H1>
-  
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The Namespace class is accessible via the
-    <A HREF="module-kid.html">
-      <TT>kid</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      
-      <SPAN CLASS="pudge-missing-section-link">
-        Attributes
-      </SPAN>
-    </LI>
-    <LI>
-      <A HREF="#methods" CLASS="pudge-section-link">
-        Methods (4)
-      </A>
-      
-    </LI>
-    
-    <LI>
-      <A HREF="kid/namespace.py.html?f=4&amp;l=39#4" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  
-  
-  <HR>
-  
-  
-  
-  
-  
-    <A NAME="methods">
-  
-  
-    </A>
-    <H2>Methods</H2>
-    <DIV CLASS="pudge-member routine alias">
-    <A NAME="__equals__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.Namespace.html#__equals__" CLASS="pudge-obj-link">__equals__</A>(self, other)</TT>
-      <A HREF="kid/namespace.py.html?f=32&amp;l=39#32" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine alias">
-    <A NAME="__getitem__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.Namespace.html#__getitem__" CLASS="pudge-obj-link">__getitem__</A>(self, name)</TT>
-      <A HREF="kid/namespace.py.html?f=17&amp;l=22#17" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine alias">
-    <A NAME="__init__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.Namespace.html#__init__" CLASS="pudge-obj-link">__init__</A>(self, uri, prefix=None)</TT>
-      <A HREF="kid/namespace.py.html?f=5&amp;l=10#5" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine alias">
-    <A NAME="__unicode__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.Namespace.html#__unicode__" CLASS="pudge-obj-link">__unicode__</A>(self)</TT>
-      <A HREF="kid/namespace.py.html?f=28&amp;l=30#28" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/namespace.py.html?f=4&amp;l=39#4" TITLE="kid/namespace.py:4">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/class-kid.namespace.Namespace.html kid-0.8svn249/doc/html/class-kid.namespace.Namespace.html
--- kid-0.8/doc/html/class-kid.namespace.Namespace.html	2005-12-02 03:01:15.000000000 -0500
+++ kid-0.8svn249/doc/html/class-kid.namespace.Namespace.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,244 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.namespace.Namespace</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>Namespace</TT>
-  </H1>
-  
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The Namespace class is accessible via the
-    <A HREF="module-kid.namespace.html">
-      <TT>kid.namespace</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      
-      <SPAN CLASS="pudge-missing-section-link">
-        Attributes
-      </SPAN>
-    </LI>
-    <LI>
-      <A HREF="#methods" CLASS="pudge-section-link">
-        Methods (6)
-      </A>
-      
-    </LI>
-    
-    <LI>
-      <A HREF="kid/namespace.py.html?f=4&amp;l=39#4" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  
-  
-  <HR>
-  
-  
-  
-  
-  
-    <A NAME="methods">
-  
-  
-    </A>
-    <H2>Methods</H2>
-    <DIV CLASS="pudge-member routine ">
-    <A NAME="__equals__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.Namespace.html#__equals__" CLASS="pudge-obj-link">__equals__</A>(self, other)</TT>
-      <A HREF="kid/namespace.py.html?f=32&amp;l=39#32" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__getitem__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.Namespace.html#__getitem__" CLASS="pudge-obj-link">__getitem__</A>(self, name)</TT>
-      <A HREF="kid/namespace.py.html?f=17&amp;l=22#17" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__init__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.Namespace.html#__init__" CLASS="pudge-obj-link">__init__</A>(self, uri, prefix=None)</TT>
-      <A HREF="kid/namespace.py.html?f=5&amp;l=10#5" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__unicode__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.Namespace.html#__unicode__" CLASS="pudge-obj-link">__unicode__</A>(self)</TT>
-      <A HREF="kid/namespace.py.html?f=28&amp;l=30#28" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="clarkname">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.Namespace.html#clarkname" CLASS="pudge-obj-link">clarkname</A>(self, name)</TT>
-      <A HREF="kid/namespace.py.html?f=17&amp;l=22#17" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="qname">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.Namespace.html#qname" CLASS="pudge-obj-link">qname</A>(self, name)</TT>
-      <A HREF="kid/namespace.py.html?f=11&amp;l=16#11" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/namespace.py.html?f=4&amp;l=39#4" TITLE="kid/namespace.py:4">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/class-kid.namespace.nons.html kid-0.8svn249/doc/html/class-kid.namespace.nons.html
--- kid-0.8/doc/html/class-kid.namespace.nons.html	2005-12-02 03:01:15.000000000 -0500
+++ kid-0.8svn249/doc/html/class-kid.namespace.nons.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,212 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.namespace.nons</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>nons</TT>
-  </H1>
-  
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The nons class is accessible via the
-    <A HREF="module-kid.namespace.html">
-      <TT>kid.namespace</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      
-      <SPAN CLASS="pudge-missing-section-link">
-        Attributes
-      </SPAN>
-    </LI>
-    <LI>
-      <A HREF="#methods" CLASS="pudge-section-link">
-        Methods (4)
-      </A>
-      
-    </LI>
-    
-    <LI>
-      <A HREF="kid/namespace.py.html" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  
-  
-  <HR>
-  
-  
-  
-  
-  
-    <A NAME="methods">
-  
-  
-    </A>
-    <H2>Methods</H2>
-    <DIV CLASS="pudge-member routine ">
-    <A NAME="__equals__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.nons.html#__equals__" CLASS="pudge-obj-link">__equals__</A>(self, other)</TT>
-      <A HREF="kid/namespace.py.html?f=32&amp;l=39#32" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__getitem__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.nons.html#__getitem__" CLASS="pudge-obj-link">__getitem__</A>(self, name)</TT>
-      <A HREF="kid/namespace.py.html?f=17&amp;l=22#17" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__init__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.nons.html#__init__" CLASS="pudge-obj-link">__init__</A>(self, uri, prefix=None)</TT>
-      <A HREF="kid/namespace.py.html?f=5&amp;l=10#5" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__unicode__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.nons.html#__unicode__" CLASS="pudge-obj-link">__unicode__</A>(self)</TT>
-      <A HREF="kid/namespace.py.html?f=28&amp;l=30#28" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/namespace.py.html" TITLE="kid/namespace.py:0">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/class-kid.namespace.rdf.html kid-0.8svn249/doc/html/class-kid.namespace.rdf.html
--- kid-0.8/doc/html/class-kid.namespace.rdf.html	2005-12-02 03:01:15.000000000 -0500
+++ kid-0.8svn249/doc/html/class-kid.namespace.rdf.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,212 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.namespace.rdf</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>rdf</TT>
-  </H1>
-  
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The rdf class is accessible via the
-    <A HREF="module-kid.namespace.html">
-      <TT>kid.namespace</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      
-      <SPAN CLASS="pudge-missing-section-link">
-        Attributes
-      </SPAN>
-    </LI>
-    <LI>
-      <A HREF="#methods" CLASS="pudge-section-link">
-        Methods (4)
-      </A>
-      
-    </LI>
-    
-    <LI>
-      <A HREF="kid/namespace.py.html" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  
-  
-  <HR>
-  
-  
-  
-  
-  
-    <A NAME="methods">
-  
-  
-    </A>
-    <H2>Methods</H2>
-    <DIV CLASS="pudge-member routine ">
-    <A NAME="__equals__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.rdf.html#__equals__" CLASS="pudge-obj-link">__equals__</A>(self, other)</TT>
-      <A HREF="kid/namespace.py.html?f=32&amp;l=39#32" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__getitem__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.rdf.html#__getitem__" CLASS="pudge-obj-link">__getitem__</A>(self, name)</TT>
-      <A HREF="kid/namespace.py.html?f=17&amp;l=22#17" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__init__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.rdf.html#__init__" CLASS="pudge-obj-link">__init__</A>(self, uri, prefix=None)</TT>
-      <A HREF="kid/namespace.py.html?f=5&amp;l=10#5" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__unicode__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.rdf.html#__unicode__" CLASS="pudge-obj-link">__unicode__</A>(self)</TT>
-      <A HREF="kid/namespace.py.html?f=28&amp;l=30#28" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/namespace.py.html" TITLE="kid/namespace.py:0">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/class-kid.namespace.rss.html kid-0.8svn249/doc/html/class-kid.namespace.rss.html
--- kid-0.8/doc/html/class-kid.namespace.rss.html	2005-12-02 03:01:15.000000000 -0500
+++ kid-0.8svn249/doc/html/class-kid.namespace.rss.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,212 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.namespace.rss</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>rss</TT>
-  </H1>
-  
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The rss class is accessible via the
-    <A HREF="module-kid.namespace.html">
-      <TT>kid.namespace</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      
-      <SPAN CLASS="pudge-missing-section-link">
-        Attributes
-      </SPAN>
-    </LI>
-    <LI>
-      <A HREF="#methods" CLASS="pudge-section-link">
-        Methods (4)
-      </A>
-      
-    </LI>
-    
-    <LI>
-      <A HREF="kid/namespace.py.html" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  
-  
-  <HR>
-  
-  
-  
-  
-  
-    <A NAME="methods">
-  
-  
-    </A>
-    <H2>Methods</H2>
-    <DIV CLASS="pudge-member routine ">
-    <A NAME="__equals__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.rss.html#__equals__" CLASS="pudge-obj-link">__equals__</A>(self, other)</TT>
-      <A HREF="kid/namespace.py.html?f=32&amp;l=39#32" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__getitem__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.rss.html#__getitem__" CLASS="pudge-obj-link">__getitem__</A>(self, name)</TT>
-      <A HREF="kid/namespace.py.html?f=17&amp;l=22#17" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__init__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.rss.html#__init__" CLASS="pudge-obj-link">__init__</A>(self, uri, prefix=None)</TT>
-      <A HREF="kid/namespace.py.html?f=5&amp;l=10#5" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__unicode__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.rss.html#__unicode__" CLASS="pudge-obj-link">__unicode__</A>(self)</TT>
-      <A HREF="kid/namespace.py.html?f=28&amp;l=30#28" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/namespace.py.html" TITLE="kid/namespace.py:0">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/class-kid.namespace.xhtml.html kid-0.8svn249/doc/html/class-kid.namespace.xhtml.html
--- kid-0.8/doc/html/class-kid.namespace.xhtml.html	2005-12-02 03:01:15.000000000 -0500
+++ kid-0.8svn249/doc/html/class-kid.namespace.xhtml.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,212 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.namespace.xhtml</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>xhtml</TT>
-  </H1>
-  
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The xhtml class is accessible via the
-    <A HREF="module-kid.namespace.html">
-      <TT>kid.namespace</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      
-      <SPAN CLASS="pudge-missing-section-link">
-        Attributes
-      </SPAN>
-    </LI>
-    <LI>
-      <A HREF="#methods" CLASS="pudge-section-link">
-        Methods (4)
-      </A>
-      
-    </LI>
-    
-    <LI>
-      <A HREF="kid/namespace.py.html" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  
-  
-  <HR>
-  
-  
-  
-  
-  
-    <A NAME="methods">
-  
-  
-    </A>
-    <H2>Methods</H2>
-    <DIV CLASS="pudge-member routine ">
-    <A NAME="__equals__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.xhtml.html#__equals__" CLASS="pudge-obj-link">__equals__</A>(self, other)</TT>
-      <A HREF="kid/namespace.py.html?f=32&amp;l=39#32" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__getitem__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.xhtml.html#__getitem__" CLASS="pudge-obj-link">__getitem__</A>(self, name)</TT>
-      <A HREF="kid/namespace.py.html?f=17&amp;l=22#17" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__init__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.xhtml.html#__init__" CLASS="pudge-obj-link">__init__</A>(self, uri, prefix=None)</TT>
-      <A HREF="kid/namespace.py.html?f=5&amp;l=10#5" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__unicode__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.xhtml.html#__unicode__" CLASS="pudge-obj-link">__unicode__</A>(self)</TT>
-      <A HREF="kid/namespace.py.html?f=28&amp;l=30#28" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/namespace.py.html" TITLE="kid/namespace.py:0">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/class-kid.namespace.xml.html kid-0.8svn249/doc/html/class-kid.namespace.xml.html
--- kid-0.8/doc/html/class-kid.namespace.xml.html	2005-12-02 03:01:14.000000000 -0500
+++ kid-0.8svn249/doc/html/class-kid.namespace.xml.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,212 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.namespace.xml</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>xml</TT>
-  </H1>
-  
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The xml class is accessible via the
-    <A HREF="module-kid.namespace.html">
-      <TT>kid.namespace</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      
-      <SPAN CLASS="pudge-missing-section-link">
-        Attributes
-      </SPAN>
-    </LI>
-    <LI>
-      <A HREF="#methods" CLASS="pudge-section-link">
-        Methods (4)
-      </A>
-      
-    </LI>
-    
-    <LI>
-      <A HREF="kid/namespace.py.html" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  
-  
-  <HR>
-  
-  
-  
-  
-  
-    <A NAME="methods">
-  
-  
-    </A>
-    <H2>Methods</H2>
-    <DIV CLASS="pudge-member routine ">
-    <A NAME="__equals__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.xml.html#__equals__" CLASS="pudge-obj-link">__equals__</A>(self, other)</TT>
-      <A HREF="kid/namespace.py.html?f=32&amp;l=39#32" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__getitem__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.xml.html#__getitem__" CLASS="pudge-obj-link">__getitem__</A>(self, name)</TT>
-      <A HREF="kid/namespace.py.html?f=17&amp;l=22#17" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__init__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.xml.html#__init__" CLASS="pudge-obj-link">__init__</A>(self, uri, prefix=None)</TT>
-      <A HREF="kid/namespace.py.html?f=5&amp;l=10#5" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="__unicode__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.namespace.xml.html#__unicode__" CLASS="pudge-obj-link">__unicode__</A>(self)</TT>
-      <A HREF="kid/namespace.py.html?f=28&amp;l=30#28" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/namespace.py.html" TITLE="kid/namespace.py:0">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/class-kid.serialization.HTMLSerializer.html kid-0.8svn249/doc/html/class-kid.serialization.HTMLSerializer.html
--- kid-0.8/doc/html/class-kid.serialization.HTMLSerializer.html	2005-12-02 03:01:17.000000000 -0500
+++ kid-0.8svn249/doc/html/class-kid.serialization.HTMLSerializer.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,439 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.serialization.HTMLSerializer</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>HTMLSerializer</TT>
-  </H1>
-  
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The HTMLSerializer class is accessible via the
-    <A HREF="module-kid.serialization.html">
-      <TT>kid.serialization</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      <A HREF="#attributes" CLASS="pudge-section-link">
-        Attributes (10)
-      </A>
-      
-    </LI>
-      
-    <LI>
-      <A HREF="#methods" CLASS="pudge-section-link">
-        Methods (10)
-      </A>
-      
-    </LI>
-    
-    <LI>
-      <A HREF="kid/serialization.py.html?f=248&amp;l=410#248" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  
-  
-  <HR>
-  
-  
-  
-  
-  
-    <A NAME="attributes">
-  
-  
-    </A>
-    <H2>Attributes</H2>
-    <DIV CLASS="pudge-member name">
-    <A NAME="balanced_blocks">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#balanced_blocks" CLASS="pudge-obj-link">balanced_blocks</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>1</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="boolean_attributes">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#boolean_attributes" CLASS="pudge-obj-link">boolean_attributes</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>set(['compact', 'defer', 'checked', 'nohref', 'selected', 'ismap', 'disabled', 'noshade', 'noresize', 'multiple', 'nowrap', 'declare'])</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="doctype">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#doctype" CLASS="pudge-obj-link">doctype</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>('HTML',
- '-//W3C//DTD HTML 4.01 Transitional//EN',
- 'http://www.w3.org/TR/html4/loose.dtd')</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="elements_with_pcdata">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#elements_with_pcdata" CLASS="pudge-obj-link">elements_with_pcdata</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>set(['fieldset', 'option', 'textarea', 'title'])</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="empty_elements">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#empty_elements" CLASS="pudge-obj-link">empty_elements</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>set(['img', 'area', 'basefont', 'frame', 'isindex', 'meta', 'param', 'hr', 'base', 'link', 'br', 'input', 'col'])</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="encoding">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#encoding" CLASS="pudge-obj-link">encoding</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>'utf-8'</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="inject_type">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#inject_type" CLASS="pudge-obj-link">inject_type</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>1</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="namespaces">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#namespaces" CLASS="pudge-obj-link">namespaces</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>{'http://purl.org/atom/ns#': 'atom',
- 'http://purl.org/rss/1.0/': 'rss',
- 'http://www.w3.org/1999/02/22-rdf-syntax-ns#': 'rdf',
- 'http://www.w3.org/1999/xhtml': 'html',
- 'http://www.w3.org/XML/1998/namespace': 'xml'}</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="noescape_elements">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#noescape_elements" CLASS="pudge-obj-link">noescape_elements</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>set(['style', 'script'])</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="strip_whitespace">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#strip_whitespace" CLASS="pudge-obj-link">strip_whitespace</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>0</PRE>
-    </DIV>
-  </DIV>
-    
-  
-    <A NAME="methods">
-    
-  
-    </A>
-    <H2>Methods</H2>
-    <DIV CLASS="pudge-member routine ">
-    <A NAME="__init__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#__init__" CLASS="pudge-obj-link">__init__</A>(self, encoding='utf-8', doctype=None, transpose=None)</TT>
-      <A HREF="kid/serialization.py.html?f=264&amp;l=273#264" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="apply_filters">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#apply_filters" CLASS="pudge-obj-link">apply_filters</A>(self, stream)</TT>
-      <A HREF="kid/serialization.py.html?f=64&amp;l=72#64" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="balancing_filter">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#balancing_filter" CLASS="pudge-obj-link">balancing_filter</A>(self, stream)</TT>
-      <A HREF="kid/serialization.py.html?f=73&amp;l=98#73" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="escape_attrib">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#escape_attrib" CLASS="pudge-obj-link">escape_attrib</A>(text, encoding=None)</TT>
-      <A HREF="kid/serialization.py.html?f=396&amp;l=409#396" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Escape attribute value.
-    </P>
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="escape_cdata">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#escape_cdata" CLASS="pudge-obj-link">escape_cdata</A>(text, encoding=None, escape=1)</TT>
-      <A HREF="kid/serialization.py.html?f=380&amp;l=394#380" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Escape character data.
-    </P>
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="generate">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#generate" CLASS="pudge-obj-link">generate</A>(self, stream, encoding=None, fragment=0)</TT>
-      <A HREF="kid/serialization.py.html?f=279&amp;l=379#279" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Serializes an event stream to bytes of the specified encoding.
-    </P>
-    <P>This function yields an encoded string over and over until the
-stream is exhausted.</P>
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="has_only_pcdata">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#has_only_pcdata" CLASS="pudge-obj-link">has_only_pcdata</A>(self, tagname)</TT>
-      <A HREF="kid/serialization.py.html?f=274&amp;l=278#274" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="serialize">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#serialize" CLASS="pudge-obj-link">serialize</A>(self, stream, encoding=None, fragment=0)</TT>
-      <A HREF="kid/serialization.py.html?f=50&amp;l=53#50" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="whitespace_filter">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#whitespace_filter" CLASS="pudge-obj-link">whitespace_filter</A>(self, stream)</TT>
-      <A HREF="kid/serialization.py.html?f=99&amp;l=105#99" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="write">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.HTMLSerializer.html#write" CLASS="pudge-obj-link">write</A>(self, stream, file, encoding=None, fragment=0)</TT>
-      <A HREF="kid/serialization.py.html?f=54&amp;l=60#54" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/serialization.py.html?f=248&amp;l=410#248" TITLE="kid/serialization.py:248">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/class-kid.serialization.Serializer.html kid-0.8svn249/doc/html/class-kid.serialization.Serializer.html
--- kid-0.8/doc/html/class-kid.serialization.Serializer.html	2005-12-02 03:01:17.000000000 -0500
+++ kid-0.8svn249/doc/html/class-kid.serialization.Serializer.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,332 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.serialization.Serializer</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>Serializer</TT>
-  </H1>
-  
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The Serializer class is accessible via the
-    <A HREF="module-kid.serialization.html">
-      <TT>kid.serialization</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      <A HREF="#attributes" CLASS="pudge-section-link">
-        Attributes (4)
-      </A>
-      
-    </LI>
-      
-    <LI>
-      <A HREF="#methods" CLASS="pudge-section-link">
-        Methods (8)
-      </A>
-      
-    </LI>
-    
-    <LI>
-      <A HREF="kid/serialization.py.html?f=35&amp;l=105#35" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  
-  
-  <HR>
-  
-  
-  
-  
-  
-    <A NAME="attributes">
-  
-  
-    </A>
-    <H2>Attributes</H2>
-    <DIV CLASS="pudge-member name">
-    <A NAME="balanced_blocks">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.Serializer.html#balanced_blocks" CLASS="pudge-obj-link">balanced_blocks</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>1</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="encoding">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.Serializer.html#encoding" CLASS="pudge-obj-link">encoding</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>'utf-8'</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="namespaces">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.Serializer.html#namespaces" CLASS="pudge-obj-link">namespaces</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>{'http://purl.org/atom/ns#': 'atom',
- 'http://purl.org/rss/1.0/': 'rss',
- 'http://www.w3.org/1999/02/22-rdf-syntax-ns#': 'rdf',
- 'http://www.w3.org/1999/xhtml': 'html',
- 'http://www.w3.org/XML/1998/namespace': 'xml'}</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="strip_whitespace">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.Serializer.html#strip_whitespace" CLASS="pudge-obj-link">strip_whitespace</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>0</PRE>
-    </DIV>
-  </DIV>
-    
-  
-    <A NAME="methods">
-    
-  
-    </A>
-    <H2>Methods</H2>
-    <DIV CLASS="pudge-member routine ">
-    <A NAME="__init__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.Serializer.html#__init__" CLASS="pudge-obj-link">__init__</A>(self, encoding=None, src_encoding='utf-8')</TT>
-      <A HREF="kid/serialization.py.html?f=42&amp;l=46#42" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="apply_filters">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.Serializer.html#apply_filters" CLASS="pudge-obj-link">apply_filters</A>(self, stream)</TT>
-      <A HREF="kid/serialization.py.html?f=64&amp;l=72#64" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="balancing_filter">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.Serializer.html#balancing_filter" CLASS="pudge-obj-link">balancing_filter</A>(self, stream)</TT>
-      <A HREF="kid/serialization.py.html?f=73&amp;l=98#73" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="generate">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.Serializer.html#generate" CLASS="pudge-obj-link">generate</A>(self, stream, encoding=None, fragment=0)</TT>
-      <A HREF="kid/serialization.py.html?f=61&amp;l=63#61" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="has_only_pcdata">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.Serializer.html#has_only_pcdata" CLASS="pudge-obj-link">has_only_pcdata</A>(self, tagname)</TT>
-      <A HREF="kid/serialization.py.html?f=47&amp;l=49#47" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="serialize">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.Serializer.html#serialize" CLASS="pudge-obj-link">serialize</A>(self, stream, encoding=None, fragment=0)</TT>
-      <A HREF="kid/serialization.py.html?f=50&amp;l=53#50" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="whitespace_filter">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.Serializer.html#whitespace_filter" CLASS="pudge-obj-link">whitespace_filter</A>(self, stream)</TT>
-      <A HREF="kid/serialization.py.html?f=99&amp;l=105#99" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="write">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.Serializer.html#write" CLASS="pudge-obj-link">write</A>(self, stream, file, encoding=None, fragment=0)</TT>
-      <A HREF="kid/serialization.py.html?f=54&amp;l=60#54" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/serialization.py.html?f=35&amp;l=105#35" TITLE="kid/serialization.py:35">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/class-kid.serialization.XMLSerializer.html kid-0.8svn249/doc/html/class-kid.serialization.XMLSerializer.html
--- kid-0.8/doc/html/class-kid.serialization.XMLSerializer.html	2005-12-02 03:01:16.000000000 -0500
+++ kid-0.8svn249/doc/html/class-kid.serialization.XMLSerializer.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,420 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.serialization.XMLSerializer</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>XMLSerializer</TT>
-  </H1>
-  
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The XMLSerializer class is accessible via the
-    <A HREF="module-kid.serialization.html">
-      <TT>kid.serialization</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      <A HREF="#attributes" CLASS="pudge-section-link">
-        Attributes (7)
-      </A>
-      
-    </LI>
-      
-    <LI>
-      <A HREF="#methods" CLASS="pudge-section-link">
-        Methods (11)
-      </A>
-      
-    </LI>
-    
-    <LI>
-      <A HREF="kid/serialization.py.html?f=106&amp;l=232#106" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  
-  
-  <HR>
-  
-  
-  
-  
-  
-    <A NAME="attributes">
-  
-  
-    </A>
-    <H2>Attributes</H2>
-    <DIV CLASS="pudge-member name">
-    <A NAME="balanced_blocks">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.XMLSerializer.html#balanced_blocks" CLASS="pudge-obj-link">balanced_blocks</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>1</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="cdata_elements">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.XMLSerializer.html#cdata_elements" CLASS="pudge-obj-link">cdata_elements</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>[]</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="decl">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.XMLSerializer.html#decl" CLASS="pudge-obj-link">decl</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>1</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="doctype">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.XMLSerializer.html#doctype" CLASS="pudge-obj-link">doctype</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>None</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="encoding">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.XMLSerializer.html#encoding" CLASS="pudge-obj-link">encoding</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>'utf-8'</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="namespaces">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.XMLSerializer.html#namespaces" CLASS="pudge-obj-link">namespaces</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>{'http://purl.org/atom/ns#': 'atom',
- 'http://purl.org/rss/1.0/': 'rss',
- 'http://www.w3.org/1999/02/22-rdf-syntax-ns#': 'rdf',
- 'http://www.w3.org/1999/xhtml': 'html',
- 'http://www.w3.org/XML/1998/namespace': 'xml'}</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="strip_whitespace">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.XMLSerializer.html#strip_whitespace" CLASS="pudge-obj-link">strip_whitespace</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>0</PRE>
-    </DIV>
-  </DIV>
-    
-  
-    <A NAME="methods">
-    
-  
-    </A>
-    <H2>Methods</H2>
-    <DIV CLASS="pudge-member routine ">
-    <A NAME="__init__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.XMLSerializer.html#__init__" CLASS="pudge-obj-link">__init__</A>(self, encoding=None, decl=None, doctype=None, namespaces=None)</TT>
-      <A HREF="kid/serialization.py.html?f=112&amp;l=124#112" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="apply_filters">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.XMLSerializer.html#apply_filters" CLASS="pudge-obj-link">apply_filters</A>(self, stream)</TT>
-      <A HREF="kid/serialization.py.html?f=64&amp;l=72#64" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="balancing_filter">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.XMLSerializer.html#balancing_filter" CLASS="pudge-obj-link">balancing_filter</A>(self, stream)</TT>
-      <A HREF="kid/serialization.py.html?f=73&amp;l=98#73" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="can_be_empty_element">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.XMLSerializer.html#can_be_empty_element" CLASS="pudge-obj-link">can_be_empty_element</A>(self, ns_stack, item_name)</TT>
-      <A HREF="kid/serialization.py.html?f=125&amp;l=127#125" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="escape_attrib">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.XMLSerializer.html#escape_attrib" CLASS="pudge-obj-link">escape_attrib</A>(text, encoding=None)</TT>
-      <A HREF="kid/serialization.py.html?f=217&amp;l=231#217" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Escape attribute value.
-    </P>
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="escape_cdata">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.XMLSerializer.html#escape_cdata" CLASS="pudge-obj-link">escape_cdata</A>(text, encoding=None)</TT>
-      <A HREF="kid/serialization.py.html?f=202&amp;l=215#202" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Escape character data.
-    </P>
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="generate">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.XMLSerializer.html#generate" CLASS="pudge-obj-link">generate</A>(self, stream, encoding=None, fragment=0)</TT>
-      <A HREF="kid/serialization.py.html?f=128&amp;l=201#128" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Serializes an event stream to bytes of the specified encoding.
-    </P>
-    <P>This function yields an encoded string over and over until the
-stream is exhausted.</P>
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="has_only_pcdata">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.XMLSerializer.html#has_only_pcdata" CLASS="pudge-obj-link">has_only_pcdata</A>(self, tagname)</TT>
-      <A HREF="kid/serialization.py.html?f=47&amp;l=49#47" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="serialize">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.XMLSerializer.html#serialize" CLASS="pudge-obj-link">serialize</A>(self, stream, encoding=None, fragment=0)</TT>
-      <A HREF="kid/serialization.py.html?f=50&amp;l=53#50" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="whitespace_filter">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.XMLSerializer.html#whitespace_filter" CLASS="pudge-obj-link">whitespace_filter</A>(self, stream)</TT>
-      <A HREF="kid/serialization.py.html?f=99&amp;l=105#99" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="write">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.serialization.XMLSerializer.html#write" CLASS="pudge-obj-link">write</A>(self, stream, file, encoding=None, fragment=0)</TT>
-      <A HREF="kid/serialization.py.html?f=54&amp;l=60#54" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/serialization.py.html?f=106&amp;l=232#106" TITLE="kid/serialization.py:106">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/class-kid.Serializer.html kid-0.8svn249/doc/html/class-kid.Serializer.html
--- kid-0.8/doc/html/class-kid.Serializer.html	2005-12-02 03:01:14.000000000 -0500
+++ kid-0.8svn249/doc/html/class-kid.Serializer.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,220 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.Serializer</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>Serializer</TT>
-  </H1>
-  
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The Serializer class is accessible via the
-    <A HREF="module-kid.html">
-      <TT>kid</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      <A HREF="#attributes" CLASS="pudge-section-link">
-        Attributes (4)
-      </A>
-      
-    </LI>
-      
-    <LI>
-      <A HREF="#methods" CLASS="pudge-section-link">
-        Methods (1)
-      </A>
-      
-    </LI>
-    
-    <LI>
-      <A HREF="kid/serialization.py.html?f=35&amp;l=105#35" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  
-  
-  <HR>
-  
-  
-  
-  
-  
-    <A NAME="attributes">
-  
-  
-    </A>
-    <H2>Attributes</H2>
-    <DIV CLASS="pudge-member name">
-    <A NAME="balanced_blocks">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.Serializer.html#balanced_blocks" CLASS="pudge-obj-link">balanced_blocks</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>1</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="encoding">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.Serializer.html#encoding" CLASS="pudge-obj-link">encoding</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>'utf-8'</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="namespaces">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.Serializer.html#namespaces" CLASS="pudge-obj-link">namespaces</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>{'http://purl.org/atom/ns#': 'atom',
- 'http://purl.org/rss/1.0/': 'rss',
- 'http://www.w3.org/1999/02/22-rdf-syntax-ns#': 'rdf',
- 'http://www.w3.org/1999/xhtml': 'html',
- 'http://www.w3.org/XML/1998/namespace': 'xml'}</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="strip_whitespace">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.Serializer.html#strip_whitespace" CLASS="pudge-obj-link">strip_whitespace</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>0</PRE>
-    </DIV>
-  </DIV>
-    
-  
-    <A NAME="methods">
-    
-  
-    </A>
-    <H2>Methods</H2>
-    <DIV CLASS="pudge-member routine alias">
-    <A NAME="__init__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.Serializer.html#__init__" CLASS="pudge-obj-link">__init__</A>(self, encoding=None, src_encoding='utf-8')</TT>
-      <A HREF="kid/serialization.py.html?f=42&amp;l=46#42" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/serialization.py.html?f=35&amp;l=105#35" TITLE="kid/serialization.py:35">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/class-kid.util.QuickTextReader.html kid-0.8svn249/doc/html/class-kid.util.QuickTextReader.html
--- kid-0.8/doc/html/class-kid.util.QuickTextReader.html	2005-12-02 03:01:18.000000000 -0500
+++ kid-0.8svn249/doc/html/class-kid.util.QuickTextReader.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,180 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.util.QuickTextReader</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>QuickTextReader</TT>
-  </H1>
-  
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The QuickTextReader class is accessible via the
-    <A HREF="module-kid.util.html">
-      <TT>kid.util</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      
-      <SPAN CLASS="pudge-missing-section-link">
-        Attributes
-      </SPAN>
-    </LI>
-    <LI>
-      <A HREF="#methods" CLASS="pudge-section-link">
-        Methods (2)
-      </A>
-      
-    </LI>
-    
-    <LI>
-      <A HREF="kid/util.py.html?f=1&amp;l=9#1" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  
-  
-  <HR>
-  
-  
-  
-  
-  
-    <A NAME="methods">
-  
-  
-    </A>
-    <H2>Methods</H2>
-    <DIV CLASS="pudge-member routine ">
-    <A NAME="__init__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.util.QuickTextReader.html#__init__" CLASS="pudge-obj-link">__init__</A>(self, text)</TT>
-      <A HREF="kid/util.py.html?f=2&amp;l=4#2" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="read">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.util.QuickTextReader.html#read" CLASS="pudge-obj-link">read</A>(self, amount)</TT>
-      <A HREF="kid/util.py.html?f=5&amp;l=9#5" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/util.py.html?f=1&amp;l=9#1" TITLE="kid/util.py:1">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/class-kid.XMLSerializer.html kid-0.8svn249/doc/html/class-kid.XMLSerializer.html
--- kid-0.8/doc/html/class-kid.XMLSerializer.html	2005-12-02 03:01:12.000000000 -0500
+++ kid-0.8svn249/doc/html/class-kid.XMLSerializer.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,253 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.XMLSerializer</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>XMLSerializer</TT>
-  </H1>
-  
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The XMLSerializer class is accessible via the
-    <A HREF="module-kid.html">
-      <TT>kid</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      <A HREF="#attributes" CLASS="pudge-section-link">
-        Attributes (7)
-      </A>
-      
-    </LI>
-      
-    <LI>
-      <A HREF="#methods" CLASS="pudge-section-link">
-        Methods (1)
-      </A>
-      
-    </LI>
-    
-    <LI>
-      <A HREF="kid/serialization.py.html?f=106&amp;l=232#106" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  
-  
-  <HR>
-  
-  
-  
-  
-  
-    <A NAME="attributes">
-  
-  
-    </A>
-    <H2>Attributes</H2>
-    <DIV CLASS="pudge-member name">
-    <A NAME="balanced_blocks">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.XMLSerializer.html#balanced_blocks" CLASS="pudge-obj-link">balanced_blocks</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>1</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="cdata_elements">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.XMLSerializer.html#cdata_elements" CLASS="pudge-obj-link">cdata_elements</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>[]</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="decl">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.XMLSerializer.html#decl" CLASS="pudge-obj-link">decl</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>1</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="doctype">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.XMLSerializer.html#doctype" CLASS="pudge-obj-link">doctype</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>None</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="encoding">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.XMLSerializer.html#encoding" CLASS="pudge-obj-link">encoding</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>'utf-8'</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="namespaces">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.XMLSerializer.html#namespaces" CLASS="pudge-obj-link">namespaces</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>{'http://purl.org/atom/ns#': 'atom',
- 'http://purl.org/rss/1.0/': 'rss',
- 'http://www.w3.org/1999/02/22-rdf-syntax-ns#': 'rdf',
- 'http://www.w3.org/1999/xhtml': 'html',
- 'http://www.w3.org/XML/1998/namespace': 'xml'}</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="strip_whitespace">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="class-kid.XMLSerializer.html#strip_whitespace" CLASS="pudge-obj-link">strip_whitespace</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>0</PRE>
-    </DIV>
-  </DIV>
-    
-  
-    <A NAME="methods">
-    
-  
-    </A>
-    <H2>Methods</H2>
-    <DIV CLASS="pudge-member routine alias">
-    <A NAME="__init__">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="class-kid.XMLSerializer.html#__init__" CLASS="pudge-obj-link">__init__</A>(self, encoding=None, decl=None, doctype=None, namespaces=None)</TT>
-      <A HREF="kid/serialization.py.html?f=112&amp;l=124#112" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/serialization.py.html?f=106&amp;l=232#106" TITLE="kid/serialization.py:106">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/doc-license.html kid-0.8svn249/doc/html/doc-license.html
--- kid-0.8/doc/html/doc-license.html	2005-11-10 09:22:03.000000000 -0500
+++ kid-0.8svn249/doc/html/doc-license.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,399 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>GNU Free Documentation License</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-      
-      <DIV CLASS="rst-doc">
-  
-  <H1 CLASS="pudge-member-page-heading">GNU Free Documentation License</H1>
-  
-  
-  <P>Version 1.2, November 2002</P>
-<P>&lt;<A HREF="http://www.gnu.org/copyleft/fdl.html" CLASS="reference">http://www.gnu.org/copyleft/fdl.html</A>></P>
-<P>Copyright (C) 2000,2001,2002  Free Software Foundation, Inc.
-51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
-Everyone is permitted to copy and distribute verbatim copies
-of this license document, but changing it is not allowed.</P>
-<DIV CLASS="section" ID="preamble">
-<H1>
-<A NAME="preamble">0. PREAMBLE</A></H1>
-<P>The purpose of this License is to make a manual, textbook, or other
-functional and useful document "free" in the sense of freedom: to assure
-everyone the effective freedom to copy and redistribute it, with or
-without modifying it, either commercially or
-noncommercially. Secondarily, this License preserves for the author and
-publisher a way to get credit for their work, while not being considered
-responsible for modifications made by others.</P>
-<P>This License is a kind of "copyleft", which means that derivative works
-of the document must themselves be free in the same sense. It
-complements the GNU General Public License, which is a copyleft license
-designed for free software.</P>
-<P>We have designed this License in order to use it for manuals for free
-software, because free software needs free documentation: a free program
-should come with manuals providing the same freedoms that the software
-does. But this License is not limited to software manuals; it can be
-used for any textual work, regardless of subject matter or whether it is
-published as a printed book. We recommend this License principally for
-works whose purpose is instruction or reference.</P>
-</DIV>
-<DIV CLASS="section" ID="applicability-and-definitions">
-<H1>
-<A NAME="applicability-and-definitions">1. APPLICABILITY AND DEFINITIONS</A></H1>
-<P>This License applies to any manual or other work, in any medium, that
-contains a notice placed by the copyright holder saying it can be
-distributed under the terms of this License. Such a notice grants a
-world-wide, royalty-free license, unlimited in duration, to use that
-work under the conditions stated herein. The "Document", below, refers
-to any such manual or work. Any member of the public is a licensee, and
-is addressed as "you". You accept the license if you copy, modify or
-distribute the work in a way requiring permission under copyright law.</P>
-<P>A "Modified Version" of the Document means any work containing the
-Document or a portion of it, either copied verbatim, or with
-modifications and/or translated into another language.</P>
-<P>A "Secondary Section" is a named appendix or a front-matter section of
-the Document that deals exclusively with the relationship of the
-publishers or authors of the Document to the Document's overall subject
-(or to related matters) and contains nothing that could fall directly
-within that overall subject. (Thus, if the Document is in part a
-textbook of mathematics, a Secondary Section may not explain any
-mathematics.) The relationship could be a matter of historical
-connection with the subject or with related matters, or of legal,
-commercial, philosophical, ethical or political position regarding them.</P>
-<P>The "Invariant Sections" are certain Secondary Sections whose titles are
-designated, as being those of Invariant Sections, in the notice that
-says that the Document is released under this License. If a section does
-not fit the above definition of Secondary then it is not allowed to be
-designated as Invariant. The Document may contain zero Invariant
-Sections. If the Document does not identify any Invariant Sections then
-there are none.</P>
-<P>The "Cover Texts" are certain short passages of text that are listed, as
-Front-Cover Texts or Back-Cover Texts, in the notice that says that the
-Document is released under this License. A Front-Cover Text may be at
-most 5 words, and a Back-Cover Text may be at most 25 words.</P>
-<P>A "Transparent" copy of the Document means a machine-readable copy,
-represented in a format whose specification is available to the general
-public, that is suitable for revising the document straightforwardly
-with generic text editors or (for images composed of pixels) generic
-paint programs or (for drawings) some widely available drawing editor,
-and that is suitable for input to text formatters or for automatic
-translation to a variety of formats suitable for input to text
-formatters. A copy made in an otherwise Transparent file format whose
-markup, or absence of markup, has been arranged to thwart or discourage
-subsequent modification by readers is not Transparent. An image format
-is not Transparent if used for any substantial amount of text. A copy
-that is not "Transparent" is called "Opaque".</P>
-<P>Examples of suitable formats for Transparent copies include plain ASCII
-without markup, Texinfo input format, LaTeX input format, SGML or XML
-using a publicly available DTD, and standard-conforming simple HTML,
-PostScript or PDF designed for human modification. Examples of
-transparent image formats include PNG, XCF and JPG. Opaque formats
-include proprietary formats that can be read and edited only by
-proprietary word processors, SGML or XML for which the DTD and/or
-processing tools are not generally available, and the machine-generated
-HTML, PostScript or PDF produced by some word processors for output
-purposes only.</P>
-<P>The "Title Page" means, for a printed book, the title page itself, plus
-such following pages as are needed to hold, legibly, the material this
-License requires to appear in the title page. For works in formats which
-do not have any title page as such, "Title Page" means the text near the
-most prominent appearance of the work's title, preceding the beginning
-of the body of the text.</P>
-<P>A section "Entitled XYZ" means a named subunit of the Document whose
-title either is precisely XYZ or contains XYZ in parentheses following
-text that translates XYZ in another language. (Here XYZ stands for a
-specific section name mentioned below, such as "Acknowledgements",
-"Dedications", "Endorsements", or "History".) To "Preserve the Title" of
-such a section when you modify the Document means that it remains a
-section "Entitled XYZ" according to this definition.</P>
-<P>The Document may include Warranty Disclaimers next to the notice which
-states that this License applies to the Document. These Warranty
-Disclaimers are considered to be included by reference in this License,
-but only as regards disclaiming warranties: any other implication that
-these Warranty Disclaimers may have is void and has no effect on the
-meaning of this License.</P>
-</DIV>
-<DIV CLASS="section" ID="verbatim-copying">
-<H1>
-<A NAME="verbatim-copying">2. VERBATIM COPYING</A></H1>
-<P>You may copy and distribute the Document in any medium, either
-commercially or noncommercially, provided that this License, the
-copyright notices, and the license notice saying this License applies to
-the Document are reproduced in all copies, and that you add no other
-conditions whatsoever to those of this License. You may not use
-technical measures to obstruct or control the reading or further copying
-of the copies you make or distribute. However, you may accept
-compensation in exchange for copies. If you distribute a large enough
-number of copies you must also follow the conditions in section 3.</P>
-<P>You may also lend copies, under the same conditions stated above, and
-you may publicly display copies.</P>
-</DIV>
-<DIV CLASS="section" ID="copying-in-quantity">
-<H1>
-<A NAME="copying-in-quantity">3. COPYING IN QUANTITY</A></H1>
-<P>If you publish printed copies (or copies in media that commonly have
-printed covers) of the Document, numbering more than 100, and the
-Document's license notice requires Cover Texts, you must enclose the
-copies in covers that carry, clearly and legibly, all these Cover Texts:
-Front-Cover Texts on the front cover, and Back-Cover Texts on the back
-cover. Both covers must also clearly and legibly identify you as the
-publisher of these copies. The front cover must present the full title
-with all words of the title equally prominent and visible. You may add
-other material on the covers in addition. Copying with changes limited
-to the covers, as long as they preserve the title of the Document and
-satisfy these conditions, can be treated as verbatim copying in other
-respects.</P>
-<P>If the required texts for either cover are too voluminous to fit
-legibly, you should put the first ones listed (as many as fit
-reasonably) on the actual cover, and continue the rest onto adjacent
-pages.</P>
-<P>If you publish or distribute Opaque copies of the Document numbering
-more than 100, you must either include a machine-readable Transparent
-copy along with each Opaque copy, or state in or with each Opaque copy a
-computer-network location from which the general network-using public
-has access to download using public-standard network protocols a
-complete Transparent copy of the Document, free of added material. If
-you use the latter option, you must take reasonably prudent steps, when
-you begin distribution of Opaque copies in quantity, to ensure that this
-Transparent copy will remain thus accessible at the stated location
-until at least one year after the last time you distribute an Opaque
-copy (directly or through your agents or retailers) of that edition to
-the public.</P>
-<P>It is requested, but not required, that you contact the authors of the
-Document well before redistributing any large number of copies, to give
-them a chance to provide you with an updated version of the Document.</P>
-</DIV>
-<DIV CLASS="section" ID="modifications">
-<H1>
-<A NAME="modifications">4. MODIFICATIONS</A></H1>
-<P>You may copy and distribute a Modified Version of the Document under the
-conditions of sections 2 and 3 above, provided that you release the
-Modified Version under precisely this License, with the Modified Version
-filling the role of the Document, thus licensing distribution and
-modification of the Modified Version to whoever possesses a copy of
-it. In addition, you must do these things in the Modified Version:</P>
-<BLOCKQUOTE>
-<UL CLASS="simple">
-<LI>Use in the Title Page (and on the covers, if any) a title distinct from that of the Document, and from those of previous versions (which should, if there were any, be listed in the History section of the Document). You may use the same title as a previous version if the original publisher of that version gives permission.</LI>
-<LI>List on the Title Page, as authors, one or more persons or entities responsible for authorship of the modifications in the Modified Version, together with at least five of the principal authors of the Document (all of its principal authors, if it has fewer than five), unless they release you from this requirement.</LI>
-<LI>State on the Title page the name of the publisher of the Modified Version, as the publisher.</LI>
-<LI>Preserve all the copyright notices of the Document.</LI>
-<LI>Add an appropriate copyright notice for your modifications adjacent to the other copyright notices.</LI>
-<LI>Include, immediately after the copyright notices, a license notice giving the public permission to use the Modified Version under the terms of this License, in the form shown in the Addendum below.</LI>
-<LI>Preserve in that license notice the full lists of Invariant Sections and required Cover Texts given in the Document's license notice.</LI>
-<LI>Include an unaltered copy of this License.</LI>
-<LI>Preserve the section Entitled "History", Preserve its Title, and add to it an item stating at least the title, year, new authors, and publisher of the Modified Version as given on the Title Page. If there is no section Entitled "History" in the Document, create one stating the title, year, authors, and publisher of the Document as given on its Title Page, then add an item describing the Modified Version as stated in the previous sentence.</LI>
-<LI>Preserve the network location, if any, given in the Document for public access to a Transparent copy of the Document, and likewise the network locations given in the Document for previous versions it was based on. These may be placed in the "History" section. You may omit a network location for a work that was published at least four years before the Document itself, or if the original publisher of the version it refers to gives permission.</LI>
-<LI>For any section Entitled "Acknowledgements" or "Dedications", Preserve the Title of the section, and preserve in the section all the substance and tone of each of the contributor acknowledgements and/or dedications given therein.</LI>
-<LI>Preserve all the Invariant Sections of the Document, unaltered in their text and in their titles. Section numbers or the equivalent are not considered part of the section titles.</LI>
-<LI>Delete any section Entitled "Endorsements". Such a section may not be included in the Modified Version.</LI>
-<LI>Do not retitle any existing section to be Entitled "Endorsements" or to conflict in title with any Invariant Section.</LI>
-<LI>Preserve any Warranty Disclaimers.</LI>
-</UL>
-</BLOCKQUOTE>
-<P>If the Modified Version includes new front-matter sections or appendices
-that qualify as Secondary Sections and contain no material copied from
-the Document, you may at your option designate some or all of these
-sections as invariant. To do this, add their titles to the list of
-Invariant Sections in the Modified Version's license notice. These
-titles must be distinct from any other section titles.</P>
-<P>You may add a section Entitled "Endorsements", provided it contains
-nothing but endorsements of your Modified Version by various
-parties--for example, statements of peer review or that the text has
-been approved by an organization as the authoritative definition of a
-standard.</P>
-<P>You may add a passage of up to five words as a Front-Cover Text, and a
-passage of up to 25 words as a Back-Cover Text, to the end of the list
-of Cover Texts in the Modified Version. Only one passage of Front-Cover
-Text and one of Back-Cover Text may be added by (or through arrangements
-made by) any one entity. If the Document already includes a cover text
-for the same cover, previously added by you or by arrangement made by
-the same entity you are acting on behalf of, you may not add another;
-but you may replace the old one, on explicit permission from the
-previous publisher that added the old one.</P>
-<P>The author(s) and publisher(s) of the Document do not by this License
-give permission to use their names for publicity for or to assert or
-imply endorsement of any Modified Version.</P>
-</DIV>
-<DIV CLASS="section" ID="combining-documents">
-<H1>
-<A NAME="combining-documents">5. COMBINING DOCUMENTS</A></H1>
-<P>You may combine the Document with other documents released under this
-License, under the terms defined in section 4 above for modified
-versions, provided that you include in the combination all of the
-Invariant Sections of all of the original documents, unmodified, and
-list them all as Invariant Sections of your combined work in its license
-notice, and that you preserve all their Warranty Disclaimers.</P>
-<P>The combined work need only contain one copy of this License, and
-multiple identical Invariant Sections may be replaced with a single
-copy. If there are multiple Invariant Sections with the same name but
-different contents, make the title of each such section unique by adding
-at the end of it, in parentheses, the name of the original author or
-publisher of that section if known, or else a unique number. Make the
-same adjustment to the section titles in the list of Invariant Sections
-in the license notice of the combined work.</P>
-<P>In the combination, you must combine any sections Entitled "History" in
-the various original documents, forming one section Entitled "History";
-likewise combine any sections Entitled "Acknowledgements", and any
-sections Entitled "Dedications". You must delete all sections Entitled
-"Endorsements."</P>
-</DIV>
-<DIV CLASS="section" ID="collections-of-documents">
-<H1>
-<A NAME="collections-of-documents">6. COLLECTIONS OF DOCUMENTS</A></H1>
-<P>You may make a collection consisting of the Document and other documents
-released under this License, and replace the individual copies of this
-License in the various documents with a single copy that is included in
-the collection, provided that you follow the rules of this License for
-verbatim copying of each of the documents in all other respects.</P>
-<P>You may extract a single document from such a collection, and distribute
-it individually under this License, provided you insert a copy of this
-License into the extracted document, and follow this License in all
-other respects regarding verbatim copying of that document.</P>
-</DIV>
-<DIV CLASS="section" ID="aggregation-with-independent-works">
-<H1>
-<A NAME="aggregation-with-independent-works">7. AGGREGATION WITH INDEPENDENT WORKS</A></H1>
-<P>A compilation of the Document or its derivatives with other separate and
-independent documents or works, in or on a volume of a storage or
-distribution medium, is called an "aggregate" if the copyright resulting
-from the compilation is not used to limit the legal rights of the
-compilation's users beyond what the individual works permit. When the
-Document is included in an aggregate, this License does not apply to the
-other works in the aggregate which are not themselves derivative works
-of the Document.</P>
-<P>If the Cover Text requirement of section 3 is applicable to these copies
-of the Document, then if the Document is less than one half of the
-entire aggregate, the Document's Cover Texts may be placed on covers
-that bracket the Document within the aggregate, or the electronic
-equivalent of covers if the Document is in electronic form. Otherwise
-they must appear on printed covers that bracket the whole aggregate.</P>
-</DIV>
-<DIV CLASS="section" ID="translation">
-<H1>
-<A NAME="translation">8. TRANSLATION</A></H1>
-<P>Translation is considered a kind of modification, so you may distribute
-translations of the Document under the terms of section 4. Replacing
-Invariant Sections with translations requires special permission from
-their copyright holders, but you may include translations of some or all
-Invariant Sections in addition to the original versions of these
-Invariant Sections. You may include a translation of this License, and
-all the license notices in the Document, and any Warranty Disclaimers,
-provided that you also include the original English version of this
-License and the original versions of those notices and disclaimers. In
-case of a disagreement between the translation and the original version
-of this License or a notice or disclaimer, the original version will
-prevail.</P>
-<P>If a section in the Document is Entitled "Acknowledgements",
-"Dedications", or "History", the requirement (section 4) to Preserve its
-Title (section 1) will typically require changing the actual title.</P>
-</DIV>
-<DIV CLASS="section" ID="termination">
-<H1>
-<A NAME="termination">9. TERMINATION</A></H1>
-<P>You may not copy, modify, sublicense, or distribute the Document except
-as expressly provided for under this License. Any other attempt to copy,
-modify, sublicense or distribute the Document is void, and will
-automatically terminate your rights under this License. However, parties
-who have received copies, or rights, from you under this License will
-not have their licenses terminated so long as such parties remain in
-full compliance.</P>
-</DIV>
-<DIV CLASS="section" ID="future-revisions-of-this-license">
-<H1>
-<A NAME="future-revisions-of-this-license">10. FUTURE REVISIONS OF THIS LICENSE</A></H1>
-<P>The Free Software Foundation may publish new, revised versions of the
-GNU Free Documentation License from time to time. Such new versions will
-be similar in spirit to the present version, but may differ in detail to
-address new problems or concerns. See &lt;<A HREF="http://www.gnu.org/copyleft/" CLASS="reference">http://www.gnu.org/copyleft/</A>>.</P>
-<P>Each version of the License is given a distinguishing version number. If
-the Document specifies that a particular numbered version of this
-License "or any later version" applies to it, you have the option of
-following the terms and conditions either of that specified version or
-of any later version that has been published (not as a draft) by the
-Free Software Foundation. If the Document does not specify a version
-number of this License, you may choose any version ever published (not
-as a draft) by the Free Software Foundation.</P>
-</DIV>
-</DIV>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/guide.html kid-0.8svn249/doc/html/guide.html
--- kid-0.8/doc/html/guide.html	2005-12-02 03:01:08.000000000 -0500
+++ kid-0.8svn249/doc/html/guide.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,826 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>Kid User's Guide</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-      
-      <DIV CLASS="rst-doc">
-  
-  <H1 CLASS="pudge-member-page-heading">Kid User's Guide</H1>
-  
-  <TABLE RULES="none" FRAME="void" CLASS="docinfo">
-<COL CLASS="docinfo-name">
-
-<COL CLASS="docinfo-content">
-
-<TBODY VALIGN="top">
-<TR>
-<TH CLASS="docinfo-name">Author:</TH>
-<TD>Ryan Tomayko</TD></TR>
-<TR>
-<TH CLASS="docinfo-name">Contact:</TH>
-<TD>
-<A HREF="mailto:rtomayko@gmail.com" CLASS="first last reference">rtomayko@gmail.com</A></TD></TR>
-<TR>
-<TH CLASS="docinfo-name">Revision:</TH>
-<TD>215</TD></TR>
-<TR>
-<TH CLASS="docinfo-name">Date:</TH>
-<TD>2005-11-25 08:29:11 -0500 (Fri, 25 Nov 2005)</TD></TR>
-<TR>
-<TH CLASS="docinfo-name">Copyright:</TH>
-<TD>2005, Ryan Tomayko</TD></TR>
-<TR CLASS="field">
-<TH CLASS="docinfo-name">Other Formats:</TH><TD CLASS="field-body"><A HREF="guide.txt" CLASS="reference">Text</A></TD>
-</TR>
-</TBODY>
-</TABLE>
-  <P>Kid is an XML based template language that uses embedded <A HREF="http://www.python.org/" CLASS="reference">Python</A> to do cool
-stuff. The syntax was inspired by a number of existing template languages,
-namely <A HREF="http://www.w3.org/TR/xslt" CLASS="reference">XSLT</A>, <A HREF="http://www.zope.org/Wikis/DevSite/Projects/ZPT/TAL" CLASS="reference">TAL</A>, and <A HREF="http://www.php.net/" CLASS="reference">PHP</A>.</P>
-<P>This document describes the Kid Python interface, command line tools, and
-methods for configuring Kid in various web environments. For more
-information about the template language, see the <A HREF="language.html" CLASS="reference">Kid Language
-Specification</A>.</P>
-<DIV CLASS="contents topic" ID="table-of-contents">
-<P CLASS="topic-title first">
-<A NAME="table-of-contents">Table of Contents</A></P>
-<UL CLASS="auto-toc simple">
-<LI>
-<A HREF="#introduction" ID="id3" NAME="id3" CLASS="reference">1Introduction</A><UL CLASS="auto-toc">
-<LI>
-<A HREF="#why-use-kid" ID="id4" NAME="id4" CLASS="reference">1.1Why use Kid?</A></LI>
-<LI>
-<A HREF="#what-types-of-xml-documents" ID="id5" NAME="id5" CLASS="reference">1.2What Types of XML Documents?</A></LI>
-<LI>
-<A HREF="#template-example" ID="id6" NAME="id6" CLASS="reference">1.3Template Example</A></LI>
-<LI>
-<A HREF="#a-note-on-template-design" ID="id7" NAME="id7" CLASS="reference">1.4A Note on Template Design</A></LI>
-</UL>
-</LI>
-<LI>
-<A HREF="#the-kid-package" ID="id8" NAME="id8" CLASS="reference">2The <TT CLASS="docutils literal"><SPAN CLASS="pre">kid</SPAN></TT> package</A><UL CLASS="auto-toc">
-<LI>
-<A HREF="#loading-and-executing-templates" ID="id9" NAME="id9" CLASS="reference">2.1Loading and Executing Templates</A><UL CLASS="auto-toc">
-<LI>
-<A HREF="#enable-import-suffixes-none" ID="id10" NAME="id10" CLASS="reference">2.1.1<TT CLASS="docutils literal"><SPAN CLASS="pre">enable_import(suffixes=None)</SPAN></TT></A></LI>
-<LI>
-<A HREF="#template" ID="id11" NAME="id11" CLASS="reference">2.1.2<TT CLASS="docutils literal"><SPAN CLASS="pre">Template</SPAN></TT></A></LI>
-<LI>
-<A HREF="#load-template" ID="id12" NAME="id12" CLASS="reference">2.1.3<TT CLASS="docutils literal"><SPAN CLASS="pre">load_template</SPAN></TT></A></LI>
-</UL>
-</LI>
-</UL>
-</LI>
-<LI>
-<A HREF="#template-classes" ID="id13" NAME="id13" CLASS="reference">3Template Classes</A><UL CLASS="auto-toc">
-<LI>
-<A HREF="#importing" ID="id14" NAME="id14" CLASS="reference">3.1Importing</A></LI>
-<LI>
-<A HREF="#template-class" ID="id15" NAME="id15" CLASS="reference">3.2<TT CLASS="docutils literal"><SPAN CLASS="pre">Template</SPAN></TT> class</A><UL CLASS="auto-toc">
-<LI>
-<A HREF="#init-kw" ID="id16" NAME="id16" CLASS="reference">3.2.1<TT CLASS="docutils literal"><SPAN CLASS="pre">__init__(**kw)</SPAN></TT></A></LI>
-<LI>
-<A HREF="#serialize" ID="id17" NAME="id17" CLASS="reference">3.2.2<TT CLASS="docutils literal"><SPAN CLASS="pre">serialize()</SPAN></TT></A></LI>
-<LI>
-<A HREF="#generate" ID="id18" NAME="id18" CLASS="reference">3.2.3<TT CLASS="docutils literal"><SPAN CLASS="pre">generate()</SPAN></TT></A></LI>
-<LI>
-<A HREF="#write" ID="id19" NAME="id19" CLASS="reference">3.2.4<TT CLASS="docutils literal"><SPAN CLASS="pre">write()</SPAN></TT></A></LI>
-<LI>
-<A HREF="#transform" ID="id20" NAME="id20" CLASS="reference">3.2.5<TT CLASS="docutils literal"><SPAN CLASS="pre">transform()</SPAN></TT></A></LI>
-</UL>
-</LI>
-<LI>
-<A HREF="#serialization" ID="id21" NAME="id21" CLASS="reference">3.3Serialization</A><UL CLASS="auto-toc">
-<LI>
-<A HREF="#xmlserializer" ID="id22" NAME="id22" CLASS="reference">3.3.1<TT CLASS="docutils literal"><SPAN CLASS="pre">XMLSerializer</SPAN></TT></A></LI>
-<LI>
-<A HREF="#htmlserializer" ID="id23" NAME="id23" CLASS="reference">3.3.2<TT CLASS="docutils literal"><SPAN CLASS="pre">HTMLSerializer</SPAN></TT></A></LI>
-<LI>
-<A HREF="#plainserializer" ID="id24" NAME="id24" CLASS="reference">3.3.3<TT CLASS="docutils literal"><SPAN CLASS="pre">PlainSerializer</SPAN></TT></A></LI>
-<LI>
-<A HREF="#common-output-methods" ID="id25" NAME="id25" CLASS="reference">3.3.4Common Output Methods</A></LI>
-</UL>
-</LI>
-</UL>
-</LI>
-<LI>
-<A HREF="#template-variables" ID="id26" NAME="id26" CLASS="reference">4Template Variables</A></LI>
-<LI>
-<A HREF="#command-line-tools" ID="id27" NAME="id27" CLASS="reference">5Command Line Tools</A><UL CLASS="auto-toc">
-<LI>
-<A HREF="#template-compiler-kidc" ID="id28" NAME="id28" CLASS="reference">5.1Template Compiler (<TT CLASS="docutils literal"><SPAN CLASS="pre">kidc</SPAN></TT>)</A></LI>
-<LI>
-<A HREF="#run-templates-kid" ID="id29" NAME="id29" CLASS="reference">5.2Run Templates (<TT CLASS="docutils literal"><SPAN CLASS="pre">kid</SPAN></TT>)</A></LI>
-</UL>
-</LI>
-</UL>
-</DIV>
-<DIV CLASS="section" ID="introduction">
-<H1>
-<A HREF="#id3" CLASS="toc-backref" NAME="introduction">1Introduction</A></H1>
-<DIV CLASS="section" ID="why-use-kid">
-<H2>
-<A HREF="#id4" CLASS="toc-backref" NAME="why-use-kid">1.1Why use Kid?</A></H2>
-<P>Kid was designed to simplify the process of generating and transforming
-dynamic well-formed XML documents using Python. While there are a myriad of
-tools for working with XML documents in Python, generating XML is generally
-tedious, error prone, or both:</P>
-<UL CLASS="simple">
-<LI>APIs like SAX, DOM, or ElementTree can guarantee well-formed output but
-require that output documents be created entirely in Python.</LI>
-<LI>Template languages like <A HREF="http://www.cheetahtemplate.org/" CLASS="reference">Cheetah</A> or <A HREF="http://www.mems-exchange.org/software/quixote/doc/PTL.html" CLASS="reference">PTL</A> make generating text content
-easy but offer little to help ensure the output is
-correct/well-formed. Using text based tools to generate XML can result in
-bad data as there are many issues with basic XML syntax and encoding that
-need to be understood and coded for by the programmer.</LI>
-<LI>XSLT provides much of the functionality required to generate good XML
-content but requires all input to be in the form of an XML document. This
-brings us back to the original problem of <EM>not being able to generate XML
-content safely and easily</EM>.</LI>
-</UL>
-<P>Kid is an attempt to bring the benefits of these technologies together into
-a single cohesive package.</P>
-<P>Kid also allows the programmer to exploit the structured nature of XML by
-writing filters and transformations that work at the XML infoset level. Kid
-templates use generators to produce infoset items. This allows pipelines to
-be created that filter and modify content as needed.</P>
-</DIV>
-<DIV CLASS="section" ID="what-types-of-xml-documents">
-<H2>
-<A HREF="#id5" CLASS="toc-backref" NAME="what-types-of-xml-documents">1.2What Types of XML Documents?</A></H2>
-<P>Kid can be used to generate any kind of XML documents including XHTML, RSS,
-Atom, FOAF, RDF, XBEL, XSLT, RelaxNG, Schematron, SOAP, etc.</P>
-<P>XHTML is generally used for examples as it is arguably the most widely
-understood XML vocabulary in existence today.</P>
-</DIV>
-<DIV CLASS="section" ID="template-example">
-<H2>
-<A HREF="#id6" CLASS="toc-backref" NAME="template-example">1.3Template Example</A></H2>
-<P>Kid template files are well-formed XML documents with embedded Python used
-for generating and controlling dynamic content.</P>
-<P>The following illustrates a very basic Kid Template:</P>
-<PRE CLASS="literal-block">
-&lt;?xml version='1.0' encoding='utf-8'?>
-&lt;?python
-import time
-title = "A Kid Template"
-?>
-&lt;html xmlns="http://www.w3.org/1999/xhtml"
-      xmlns:py="http://purl.org/kid/ns#"
->
-  &lt;head>
-    &lt;title py:content="title">
-      This is replaced with the value of the title variable.
-    &lt;/title>
-  &lt;/head>
-  &lt;body>
-    &lt;p>
-      The current time is ${time.strftime('%C %c')}.
-    &lt;/p>
-  &lt;/body>
-&lt;/html>
-</PRE>
-<P>Kid supports more advanced features such as conditionals (<TT CLASS="docutils literal"><SPAN CLASS="pre">py:if</SPAN></TT>),
-iteration (<TT CLASS="docutils literal"><SPAN CLASS="pre">py:for</SPAN></TT>), and reusable sub templates (<TT CLASS="docutils literal"><SPAN CLASS="pre">py:def</SPAN></TT>). For more
-information on kid template syntax, see the <A HREF="language.html" CLASS="reference">Kid Language Specification</A>.</P>
-<P>Kid templates should use the <TT CLASS="docutils literal"><SPAN CLASS="pre">.kid</SPAN></TT> file extension if importing the
-template module using normal Python code is desired. The Kid import hook
-extensions rely on the <TT CLASS="docutils literal"><SPAN CLASS="pre">.kid</SPAN></TT> file extension being present.</P>
-</DIV>
-<DIV CLASS="section" ID="a-note-on-template-design">
-<H2>
-<A HREF="#id7" CLASS="toc-backref" NAME="a-note-on-template-design">1.4A Note on Template Design</A></H2>
-<P>It is possible to embed blocks of Python code using the <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;?python?></SPAN></TT>
-processing instruction (PI). However, the practice of embedding object model,
-data persistence, and business logic code in templates is highly
-discouraged. In most cases, these types of functionality should be moved
-into external Python modules and imported into the template.</P>
-<P>Keeping large amounts of code out of templates is important for a few
-reasons:</P>
-<UL CLASS="simple">
-<LI>Separation of content and logic. Templates are meant to model a document
-format and should not be laden with code whose main concern is something
-else.</LI>
-<LI>Editors with Python support (like Emacs) will not recognize Python code
-embedded in Kid templates.</LI>
-<LI>People will call you names.</LI>
-</UL>
-<P>That being said, circumstances requiring somewhat complex formatting or
-presentation logic arise often enough to incline us to include the ability
-to embed blocks of real code in Templates. Template languages that help by
-hindering ones ability to write a few lines of code when needed lead to even
-greater convolution and general distress.</P>
-<P>
-<EM>That</EM> being said, there are some limitations on what types of usage the
-<TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;?python?></SPAN></TT> PI may be put to. Specifically, you cannot generate output
-within a code block (without feeling dirty), and all Python blocks end with
-the PI.</P>
-<P>You cannot do stuff like this:</P>
-<PRE CLASS="literal-block">
-&lt;table>
-  &lt;?python #
-  for row in rows: ?>
-    &lt;tr>&lt;td py:content="row.colums[0]">...&lt;/td>&lt;/tr>
-&lt;/table>
-&lt;p>&lt;?python print 'some text and &lt;markup/> too'?>&lt;/p>
-</PRE>
-<P>This is a feature. One of the important aspects of Kid is that it guarantees
-well-formed XML output given a valid template. Allowing unstructured text
-output would make this impossible.</P>
-</DIV>
-</DIV>
-<DIV CLASS="section" ID="the-kid-package">
-<H1>
-<A HREF="#id8" CLASS="toc-backref" NAME="the-kid-package">2The <TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">kid</SPAN></TT> package</A></H1>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">kid</SPAN></TT> package contains functions and classes for using templates. Kid
-relies heavily on <A HREF="http://effbot.org/zone/element-index.htm" CLASS="reference">ElementTree</A> and also exports much of that packages
-functionality.</P>
-<DIV CLASS="section" ID="loading-and-executing-templates">
-<H2>
-<A HREF="#id9" CLASS="toc-backref" NAME="loading-and-executing-templates">2.1Loading and Executing Templates</A></H2>
-<DIV CLASS="section" ID="enable-import-suffixes-none">
-<H3>
-<A HREF="#id10" CLASS="toc-backref" NAME="enable-import-suffixes-none">2.1.1<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">enable_import(suffixes=None)</SPAN></TT></A></H3>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">enable_import</SPAN></TT> function turns on the Kid import hooks and allows
-Python's native import statement to be used to access template modules.
-The template modules are generally stored in files using a .kid file
-extension. The optional suffixes argument can be used to pass in a list
-of alternate file extensions. This is useful is you wish to put you XML
-templates in .html files and have them importable.</P>
-<P>It is generally called once at the beginning of program execution,
-but calling multiple times has no effect adverse or otherwise.</P>
-<P>Example:</P>
-<PRE CLASS="literal-block">
-import kid
-kid.enable_import()
-
-# or
-
-import kid
-kid.enable_import(suffixes=[".html"])
-</PRE>
-<P>There are a few very simple rules used to determine which file to load
-for a particular import statement. The first file matching the criteria
-will be loaded even if other matching files exist down the chain. The
-rules are so follows:
-1. look for module.kid file
-2. traverse the suffixes list, if supplied, looking for module.suffix
-3. look for the standard Python suffixes (.py, .pyc, etc.)</P>
-</DIV>
-<DIV CLASS="section" ID="template">
-<SPAN ID="template-function">
-</SPAN>
-<H3>
-<A HREF="#id11" CLASS="toc-backref" NAME="template">2.1.2<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">Template</SPAN></TT></A></H3>
-<P>Sometimes using Python's native import doesn't make sense for template
-usage. In these cases, the <TT CLASS="docutils literal"><SPAN CLASS="pre">kid.Template</SPAN></TT> function can be used to load a
-template module and create an instance of the module's <TT CLASS="docutils literal"><SPAN CLASS="pre">Template</SPAN></TT> class.</P>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">kid.Template</SPAN></TT> function requires one of the following arguments to be
-provided to establish the template:</P>
-<DL CLASS="docutils">
-<DT>file</DT>
-<DD>The template should be loaded from the file specified. If a compiled
-version of template exists, it will be loaded. If not, the template is
-loaded and an attempt will be made to write a compiled version.</DD>
-<DT>source</DT>
-<DD>The template should be loaded from the string specified. There is no
-mechanism for caching string templates other than to keep a reference to
-the object returned.</DD>
-<DT>name</DT>
-<DD>The template should be loaded by importing a module with the specified
-name. This is exactly like using Python's normal import but allows
-template names to be specified dynamically and also doesn't require the
-import hook to be enabled.</DD>
-</DL>
-<PRE CLASS="literal-block">
-import kid
-template = Template(file='test.kid', foo='bar', baz='bling')
-print template.serialize()
-</PRE>
-<PRE CLASS="literal-block">
-import kid
-template = Template(source='&lt;p>$foo&lt;/p>', foo='Hello World!')
-print template.serialize()
-</PRE>
-</DIV>
-<DIV CLASS="section" ID="load-template">
-<H3>
-<A HREF="#id12" CLASS="toc-backref" NAME="load-template">2.1.3<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">load_template</SPAN></TT></A></H3>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">load_template</SPAN></TT> function returns the module object for the template
-given a template filename. This module object can be used as if the module
-was loaded using Python's import statement. Use this function in cases where
-you need access to the template module but the template doesn't reside on
-Python's path.</P>
-<PRE CLASS="literal-block">
-import kid
-template_module = kid.load_template('test.kid', cache=1)
-template = template_module.Template(foo='bar', baz='bling')
-print str(template)
-</PRE>
-<P>Note that the <A HREF="#template-function" CLASS="reference">Template function</A> usually provides a better interface for
-creating templates as it automatically creates an instance of the <CITE>Template</CITE>
-class for the module, removing a line of code or two.</P>
-</DIV>
-</DIV>
-</DIV>
-<DIV CLASS="section" ID="template-classes">
-<H1>
-<A HREF="#id13" CLASS="toc-backref" NAME="template-classes">3Template Classes</A></H1>
-<P>Kid templates are converted into normal Python modules and may be used like
-normal Python modules. All template modules have a uniform interface that
-expose a class named <TT CLASS="docutils literal"><SPAN CLASS="pre">Template</SPAN></TT> and possibly a set of functions (one for
-each <TT CLASS="docutils literal"><SPAN CLASS="pre">py:def</SPAN></TT> declared in the template).</P>
-<DIV CLASS="section" ID="importing">
-<H2>
-<A HREF="#id14" CLASS="toc-backref" NAME="importing">3.1Importing</A></H2>
-<P>Templates may be imported directly like any other Python module after the
-Kid import hooks have been enabled. Consider the following files in a
-directory on Python's <TT CLASS="docutils literal"><SPAN CLASS="pre">sys.path</SPAN></TT>:</P>
-<PRE CLASS="literal-block">
-file1.py
-file2.py
-file3.kid
-</PRE>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">file1</SPAN></TT> module may import the <TT CLASS="docutils literal"><SPAN CLASS="pre">file3</SPAN></TT> template module using the
-normal Python import syntax after making a call to <TT CLASS="docutils literal"><SPAN CLASS="pre">kid.enable_import()</SPAN></TT>:</P>
-<PRE CLASS="literal-block">
-# enable kid import hooks
-import kid
-kid.enable_import()
-
-# now import the template
-import file3
-print file3.serialize()
-</PRE>
-<P>The importer checks whether a compiled version of the template exists by
-looking for a <TT CLASS="docutils literal"><SPAN CLASS="pre">template.pyc</SPAN></TT> file and if not found, loads the
-<TT CLASS="docutils literal"><SPAN CLASS="pre">template.kid</SPAN></TT> file, compiles it, and attempts to save it to
-<TT CLASS="docutils literal"><SPAN CLASS="pre">template.pyc</SPAN></TT>. If the compiled version cannot be saved properly,
-processing continues as normal; no errors or warnings are generated.</P>
-</DIV>
-<DIV CLASS="section" ID="template-class">
-<H2>
-<A HREF="#id15" CLASS="toc-backref" NAME="template-class">3.2<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">Template</SPAN></TT> class</A></H2>
-<P>Each template module exports a class named "Template". An instance of a
-template is obtained in one of three ways:</P>
-<UL CLASS="simple">
-<LI>The <A HREF="#template-function" CLASS="reference">Template function</A>.</LI>
-<LI>Enabling the import hook, using Python's import to obtain the module,
-and then retrieving the <TT CLASS="docutils literal"><SPAN CLASS="pre">Template</SPAN></TT> class.</LI>
-<LI>Calling the <TT CLASS="docutils literal"><SPAN CLASS="pre">kid.load_template</SPAN></TT> function and then retrieving the
-<TT CLASS="docutils literal"><SPAN CLASS="pre">Template</SPAN></TT> class.</LI>
-</UL>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">Template</SPAN></TT> function is the preferred method of obtaining a template
-instance.</P>
-<P>All Template classes subclass the <TT CLASS="docutils literal"><SPAN CLASS="pre">kid.BaseTemplate</SPAN></TT> class, providing a
-uniform set of methods that all templates expose. These methods are
-described in the following sections.</P>
-<DIV CLASS="section" ID="init-kw">
-<H3>
-<A HREF="#id16" CLASS="toc-backref" NAME="init-kw">3.2.1<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">__init__(**kw)</SPAN></TT></A></H3>
-<P>Template instantiation takes a list of keyword arguments and maps them to
-attributes on the object instance. You may pass any number of keywords
-arguments and they are available as both instance attributes and as locals
-to code contained in the template itself.</P>
-<P>For example:</P>
-<PRE CLASS="literal-block">
-from mytemplate import Template
-t = Template(foo='bar', hello='world')
-</PRE>
-<P>is equivalent to:</P>
-<PRE CLASS="literal-block">
-from mytemplate import Template
-t = Template()
-t.foo = 'bar'
-t.hello = 'world'
-</PRE>
-<P>And these names are available within a template as if they were locals:</P>
-<PRE CLASS="literal-block">
-&lt;p>Hello ${hello}&lt;/p>
-</PRE>
-<DIV CLASS="note">
-<P CLASS="first admonition-title">Note</P>
-<P CLASS="last">The names <TT CLASS="docutils literal"><SPAN CLASS="pre">source</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">file</SPAN></TT>, and <TT CLASS="docutils literal"><SPAN CLASS="pre">name</SPAN></TT> should be avoided because
-they are used by the generic <A HREF="#template-function" CLASS="reference">Template Function</A>.</P>
-</DIV>
-</DIV>
-<DIV CLASS="section" ID="serialize">
-<SPAN ID="serialze">
-</SPAN>
-<H3>
-<A HREF="#id17" CLASS="toc-backref" NAME="serialize">3.2.2<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">serialize()</SPAN></TT></A></H3>
-<P>Execute the template and return the result as one big string.</P>
-<PRE CLASS="literal-block">
-def serialize(encoding=None, fragment=0, output=None)
-</PRE>
-<P>This method returns a string containing the output of the template encoded
-using the character encoding specified by the <TT CLASS="docutils literal"><SPAN CLASS="pre">encoding</SPAN></TT> argument. If no
-encoding is specified, "utf-8" is used.</P>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">fragment</SPAN></TT> argument specifies whether prologue information such as the
-XML declaration (<TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;?xml</SPAN> <SPAN CLASS="pre">...?></SPAN></TT>) and/or DOCTYPE should be output. Set to a 
-truth value if you need to generate XML suitable for insertion into another
-document.</P>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">output</SPAN></TT> argument specifies the serialization method that should be
-used. This can be a string or a <TT CLASS="docutils literal"><SPAN CLASS="pre">Serializer</SPAN></TT> instance.</P>
-<DIV CLASS="note">
-<P CLASS="first admonition-title">Note</P>
-<P CLASS="last">The <TT CLASS="docutils literal"><SPAN CLASS="pre">__str__</SPAN></TT> method is overridden to use this same function so that
-calls like <TT CLASS="docutils literal"><SPAN CLASS="pre">str(t)</SPAN></TT>, where <TT CLASS="docutils literal"><SPAN CLASS="pre">t</SPAN></TT> is a template instance, are equivalent
-to calling <TT CLASS="docutils literal"><SPAN CLASS="pre">t.serialize()</SPAN></TT>.</P>
-</DIV>
-</DIV>
-<DIV CLASS="section" ID="generate">
-<H3>
-<A HREF="#id18" CLASS="toc-backref" NAME="generate">3.2.3<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">generate()</SPAN></TT></A></H3>
-<P>Execute the template and generate serialized output incrementally.</P>
-<PRE CLASS="literal-block">
-def generate(encoding=None, fragment=0, output=None)
-</PRE>
-<P>This method returns an iterator that yields an encoded string for each
-iteration. The iteration ends when the template is done executing.</P>
-<P>See the <A HREF="#id2" CLASS="reference">serialize</A> method for more info on the <TT CLASS="docutils literal"><SPAN CLASS="pre">encoding</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">fragment</SPAN></TT>,
-and <TT CLASS="docutils literal"><SPAN CLASS="pre">output</SPAN></TT> arguments.</P>
-</DIV>
-<DIV CLASS="section" ID="write">
-<H3>
-<A HREF="#id19" CLASS="toc-backref" NAME="write">3.2.4<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">write()</SPAN></TT></A></H3>
-<P>Execute the template and write output to file.</P>
-<PRE CLASS="literal-block">
-def write(file, encoding=None, fragment=0, output=None)
-</PRE>
-<P>This method writes the processed template out to a file. If the file argument
-is a string, a file object is created using <TT CLASS="docutils literal"><SPAN CLASS="pre">open(file,</SPAN> <SPAN CLASS="pre">'wb')</SPAN></TT>. If the file
-argument is a file-like object (supports <TT CLASS="docutils literal"><SPAN CLASS="pre">write</SPAN></TT>), it is used directly.</P>
-<P>See the <A HREF="#id2" CLASS="reference">serialize</A> method for more info on the <TT CLASS="docutils literal"><SPAN CLASS="pre">encoding</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">fragment</SPAN></TT>,
-and <TT CLASS="docutils literal"><SPAN CLASS="pre">output</SPAN></TT> arguments.</P>
-</DIV>
-<DIV CLASS="section" ID="transform">
-<H3>
-<A HREF="#id20" CLASS="toc-backref" NAME="transform">3.2.5<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">transform()</SPAN></TT></A></H3>
-<P>This method returns a generator object that can be used to iterate over the
-ElementTree objects produced by template execution. For now this method is
-under-documented and its use is not recommended. If you think you need to
-use it, ask about it on the mailing list.</P>
-</DIV>
-</DIV>
-<DIV CLASS="section" ID="serialization">
-<SPAN ID="id2">
-</SPAN>
-<H2>
-<A HREF="#id21" CLASS="toc-backref" NAME="serialization">3.3Serialization</A></H2>
-<P>The Template object's <TT CLASS="docutils literal"><SPAN CLASS="pre">serialize</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">generate</SPAN></TT>, and <TT CLASS="docutils literal"><SPAN CLASS="pre">write</SPAN></TT> methods
-take an <TT CLASS="docutils literal"><SPAN CLASS="pre">output</SPAN></TT> argument that controls how the XML Infoset items
-generated by a template should serialized. Kid has a modular serialization
-system allowing a single template to be serialized differently based on
-need.</P>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">kid</SPAN></TT> package exposes a set of classes that handle serialization. The
-<TT CLASS="docutils literal"><SPAN CLASS="pre">Serializer</SPAN></TT> class provides some base functionality but does not perform
-serialization; it provides useful utility services to subclasses. The
-<TT CLASS="docutils literal"><SPAN CLASS="pre">XMLSerializer</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">HTMLSerializer</SPAN></TT>, and <TT CLASS="docutils literal"><SPAN CLASS="pre">PlainSerializer</SPAN></TT> classes 
-are concrete and can be used to serialize template output as XML or HTML,
-respectively.</P>
-<DIV CLASS="section" ID="xmlserializer">
-<H3>
-<A HREF="#id22" CLASS="toc-backref" NAME="xmlserializer">3.3.1<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">XMLSerializer</SPAN></TT></A></H3>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">XMLSerializer</SPAN></TT> has the the following options, which can be set when
-an instance is constructed, or afterwards as instance attributes:</P>
-<DL CLASS="docutils">
-<DT>encoding</DT>
-<DD>The character encoding that should be used when serializing output. This
-can be any character encoding supported by Python.</DD>
-<DT>decl</DT>
-<DD>Boolean specifying whether the XML declaration should be output. Note that
-the <TT CLASS="docutils literal"><SPAN CLASS="pre">fragment</SPAN></TT> argument can be used to turn this off when calling the
-<TT CLASS="docutils literal"><SPAN CLASS="pre">serialize</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">generate</SPAN></TT>, or <TT CLASS="docutils literal"><SPAN CLASS="pre">write</SPAN></TT> methods.</DD>
-<DT>doctype</DT>
-<DD>A 3-tuple of the form <EM>(TYPE, PUBLIC, SYSTEM)</EM> that specifies a DOCTYPE
-that should be output. If the <TT CLASS="docutils literal"><SPAN CLASS="pre">doctype</SPAN></TT> attribute is <TT CLASS="docutils literal"><SPAN CLASS="pre">None</SPAN></TT>, no
-DOCTYPE is output. Note that if the <TT CLASS="docutils literal"><SPAN CLASS="pre">fragment</SPAN></TT> argument is set, no 
-DOCTYPE will be output.</DD>
-</DL>
-<P>The following example creates a custom XML serializer for DocBook and uses
-it to serialize template output:</P>
-<PRE CLASS="literal-block">
-from kid import Template, XMLSerializer
-dt = ('article', '-//OASIS//DTD DocBook XML V4.1.2//EN',
-      'http://www.oasis-open.org/docbook/xml/4.0/docbookx.dtd')
-serializer = XMLSerializer(encoding='ascii', decl=1, doctype=dt)
-t = Template(file='example.dbk')
-print t.serialize(output=serializer)
-</PRE>
-</DIV>
-<DIV CLASS="section" ID="htmlserializer">
-<H3>
-<A HREF="#id23" CLASS="toc-backref" NAME="htmlserializer">3.3.2<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">HTMLSerializer</SPAN></TT></A></H3>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">HTMLSerializer</SPAN></TT> is cabable of serializing an XML Infoset using HTML
-4.01 syntax. This serializer varies from the <TT CLASS="docutils literal"><SPAN CLASS="pre">XMLSerializer</SPAN></TT> as follows:</P>
-<UL CLASS="simple">
-<LI>No <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;?xml</SPAN> <SPAN CLASS="pre">...?></SPAN></TT> declaration.</LI>
-<LI>HTML 4.01 DOCTYPE(s).</LI>
-<LI>Transpose element/attribute names to upper-case by default (can be
-configured to transpose to lowercase or to not transpose at all).</LI>
-<LI>Injects a <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;META</SPAN> <SPAN CLASS="pre">HTTP-EQUIV="Content-Type"</SPAN> <SPAN CLASS="pre">CONTENT="text/html;</SPAN> <SPAN CLASS="pre">charset=enc"></SPAN></TT> where <EM>enc</EM> is the output encoding.</LI>
-<LI>Outputs the following element's as "empty elements" (i.e. no closing
-tag): <TT CLASS="docutils literal"><SPAN CLASS="pre">area</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">base</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">basefont</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">br</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">col</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">frame</SPAN></TT>,
-<TT CLASS="docutils literal"><SPAN CLASS="pre">hr</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">img</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">input</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">isindex</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">link</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">meta</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">param</SPAN></TT>.</LI>
-<LI>No such thing as short-form elements: <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;elem</SPAN> <SPAN CLASS="pre">/></SPAN></TT>. All elements (except
-for empty elements) must have a full end tag.</LI>
-<LI>Does not escape reserved characters in <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;SCRIPT></SPAN></TT> and <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;STYLE></SPAN></TT>
-blocks. This includes less-than signs and ampersands.</LI>
-<LI>Boolean attributes are output without a value part. For example,
-<TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;OPTION</SPAN> <SPAN CLASS="pre">SELECTED>foo&lt;/OPTION></SPAN></TT>.</LI>
-<LI>Discards namespace information.</LI>
-</UL>
-<P>Much of this functionality can be controlled by setting options on the
-<TT CLASS="docutils literal"><SPAN CLASS="pre">HTMLSerializer</SPAN></TT> instance. These options are as follows:</P>
-<DL CLASS="docutils">
-<DT>encoding</DT>
-<DD>The character encoding that should be used when serializing output. This
-can be any character encoding supported by Python.</DD>
-<DT>doctype</DT>
-<DD>A 3-tuple of the form <EM>(TYPE, PUBLIC, SYSTEM)</EM> that specifies a DOCTYPE
-that should be output. If the <TT CLASS="docutils literal"><SPAN CLASS="pre">doctype</SPAN></TT> attribute is <TT CLASS="docutils literal"><SPAN CLASS="pre">None</SPAN></TT>, no
-DOCTYPE is output.</DD>
-<DT>transpose</DT>
-<DD>This is a reference to a function that is called to transpose tag and 
-attribute names. <TT CLASS="docutils literal"><SPAN CLASS="pre">string.upper</SPAN></TT> and <TT CLASS="docutils literal"><SPAN CLASS="pre">string.lower</SPAN></TT> are generally 
-used here. If set to <TT CLASS="docutils literal"><SPAN CLASS="pre">None</SPAN></TT>, all tag names are output as they are in
-the source document.</DD>
-<DT>inject_type</DT>
-<DD>Boolean specifying whether a <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;META></SPAN></TT> tag should be inserted into the
-<TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;HEAD></SPAN></TT> of the document specifying the character encoding. This is 
-enabled by default.</DD>
-<DT>empty_elements</DT>
-<DD>A <TT CLASS="docutils literal"><SPAN CLASS="pre">set</SPAN></TT> containing the names (in lower case) of the elements that do not
-have closing tags. Set to <TT CLASS="docutils literal"><SPAN CLASS="pre">[]</SPAN></TT> to turn off empty_element processing.</DD>
-<DT>noescape_elements</DT>
-<DD>A <TT CLASS="docutils literal"><SPAN CLASS="pre">set</SPAN></TT> containing the names (in lower case) of elements whose content 
-should not be escaped. This defaults to <TT CLASS="docutils literal"><SPAN CLASS="pre">['script',</SPAN> <SPAN CLASS="pre">'style']</SPAN></TT>. Set to 
-<TT CLASS="docutils literal"><SPAN CLASS="pre">[]</SPAN></TT> to turn enable escaping in all elements.</DD>
-<DT>boolean_attributes</DT>
-<DD>A <TT CLASS="docutils literal"><SPAN CLASS="pre">set</SPAN></TT> containing the names (in lower case) of attributes that do not 
-require a value part. The presence of the attribute name signifies that the
-attribute value is set. Set to <TT CLASS="docutils literal"><SPAN CLASS="pre">[]</SPAN></TT> to disable boolean attribute 
-processing.</DD>
-</DL>
-</DIV>
-<DIV CLASS="section" ID="plainserializer">
-<H3>
-<A HREF="#id24" CLASS="toc-backref" NAME="plainserializer">3.3.3<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">PlainSerializer</SPAN></TT></A></H3>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">PlainSerializer</SPAN></TT> can be used to generate non-markup, like a CSS or
-Javascript file.  All markup that is rendered is thrown away, and entities
-are resolved.</P>
-<P>When using this serializer, your template must still be valid XML.  A typical
-pattern might be:</P>
-<PRE CLASS="literal-block">
-&lt;css>
-/* Look &amp;amp; Feel */
-body {color: #f00}
-&lt;/css>
-</PRE>
-<P>Which renders to:</P>
-<PRE CLASS="literal-block">
-/* Look &amp; Feel */
-body {color: #f00}
-</PRE>
-</DIV>
-<DIV CLASS="section" ID="common-output-methods">
-<H3>
-<A HREF="#id25" CLASS="toc-backref" NAME="common-output-methods">3.3.4Common Output Methods</A></H3>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">kid.output_methods</SPAN></TT> dictionary contains a mapping of names to
-frequently used <TT CLASS="docutils literal"><SPAN CLASS="pre">Serializer</SPAN></TT> configurations. You can pass any of these
-names as the <TT CLASS="docutils literal"><SPAN CLASS="pre">output</SPAN></TT> argument in <TT CLASS="docutils literal"><SPAN CLASS="pre">Template</SPAN></TT> methods.</P>
-<DL CLASS="docutils">
-<DT>xml </DT>
-<DD>
-<P CLASS="first">The <TT CLASS="docutils literal"><SPAN CLASS="pre">xml</SPAN></TT> output method is the default. It serializes the infoset
-items as well-formed XML and includes a <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;?xml?></SPAN></TT> declaration. The 
-serializer is created as follows:</P>
-<PRE CLASS="last literal-block">
-XMLSerializer(encoding='utf-8', decl=1)
-</PRE>
-</DD>
-<DT>html / html-strict </DT>
-<DD>
-<P CLASS="first">The <TT CLASS="docutils literal"><SPAN CLASS="pre">html</SPAN></TT> and <TT CLASS="docutils literal"><SPAN CLASS="pre">html-strict</SPAN></TT> output methods use the
-<TT CLASS="docutils literal"><SPAN CLASS="pre">HTMLSerializer</SPAN></TT> to serialize the infoset. The <TT CLASS="docutils literal"><SPAN CLASS="pre">HTMLSerializer</SPAN></TT> used
-has the following options set:</P>
-<UL CLASS="simple">
-<LI>Tag and attribute names converted to uppercase 
-(<TT CLASS="docutils literal"><SPAN CLASS="pre">HTMLSerializer.transpose</SPAN> <SPAN CLASS="pre">=</SPAN> <SPAN CLASS="pre">string.upper</SPAN></TT>).</LI>
-<LI>HTML Transitional or HTML Strict DOCTYPE.</LI>
-</UL>
-<P CLASS="last">For more information on how content is serialized, see the
-<A HREF="#htmlserializer" CLASS="reference">HTMLSerializer</A> documentation.</P>
-</DD>
-<DT>xhtml / xhtml-strict</DT>
-<DD>
-<P CLASS="first">The <TT CLASS="docutils literal"><SPAN CLASS="pre">xhtml</SPAN></TT> and <TT CLASS="docutils literal"><SPAN CLASS="pre">xhtml-strict</SPAN></TT> output methods use a custom 
-<TT CLASS="docutils literal"><SPAN CLASS="pre">XMLSerializer</SPAN></TT> to serialize the infoset. The <TT CLASS="docutils literal"><SPAN CLASS="pre">XMLSerializer</SPAN></TT> used
-has the following options set:</P>
-<UL CLASS="last simple">
-<LI>No <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;?xml?></SPAN></TT> declaration.</LI>
-<LI>XHTML Transitional or XHTML Strict DOCTYPE.</LI>
-</UL>
-</DD>
-<DT>plain</DT>
-<DD>The <TT CLASS="docutils literal"><SPAN CLASS="pre">plain</SPAN></TT> output method uses <TT CLASS="docutils literal"><SPAN CLASS="pre">PlainSerializer</SPAN></TT>, which takes
-only an <TT CLASS="docutils literal"><SPAN CLASS="pre">encoding</SPAN></TT> argument.  All markup is stripped, entities are
-resolved, and only the resulting text is output.</DD>
-</DL>
-<P>The following example serializes data as HTML instead of XML:</P>
-<PRE CLASS="literal-block">
->>> from kid import Template
->>> t = Template("&lt;html xmlns="http://www.w3.org/1999/xhtml">"\
-                 "&lt;body>&lt;p>Hello World&lt;/p>&lt;br />&lt;/body>&lt;/html>")
->>> print t.serialize(output='html-strict')
-&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN" 
-                      "http://www.w3.org/TR/html4/strict.dtd">
-&lt;HTML>&lt;BODY>&lt;P>Hello World&lt;/P>&lt;BR>&lt;/HTML>
-</PRE>
-<P>Note that the DOCTYPE is output, tag names are converted to uppercase, and
-some elements have no end tag.</P>
-<P>The same code can be used to output XHTML as follows:</P>
-<PRE CLASS="literal-block">
->>> from kid import Template
->>> t = Template("&lt;html xmlns="http://www.w3.org/1999/xhtml">"\
-                 "&lt;body>&lt;p>Hello World&lt;/p>&lt;br />&lt;/body>&lt;/html>")
->>> print t.serialize(output='xhtml-strict')
-&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
-                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
-&lt;html xmlns="http://www.w3.org/1999/xhtml">
-&lt;body>&lt;p>Hello World&lt;/p>&lt;br />&lt;/html>
-</PRE>
-</DIV>
-</DIV>
-</DIV>
-<DIV CLASS="section" ID="template-variables">
-<H1>
-<A HREF="#id26" CLASS="toc-backref" NAME="template-variables">4Template Variables</A></H1>
-<P>When a template is executed, all of the template instance's attributes are
-available to template code as local variables. These variables may be
-specified when the <A HREF="#init-kw" CLASS="reference">template is instantiated</A> or by assigning attributes to
-the template instance directly.</P>
-<P>The following example template relies on two arguments being provided by the
-code that calls the template: <TT CLASS="docutils literal"><SPAN CLASS="pre">title</SPAN></TT> and <TT CLASS="docutils literal"><SPAN CLASS="pre">message</SPAN></TT>.</P>
-<P>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">message_template.kid</SPAN></TT>:</P>
-<PRE CLASS="literal-block">
-#!text/html
-&lt;?xml version='1.0' encoding='utf-8'?>
-&lt;html xmlns="http://www.w3.org/1999/xhtml"
-      xmlns:py="http://purl.org/kid/ns#">
-  &lt;head>
-    &lt;title>${title.upper()}&lt;/title>
-  &lt;/head>
-  &lt;body>
-    &lt;h1 py:content="title">Title&lt;/h1>
-    &lt;p>
-      A message from Python:
-    &lt;/p>
-    &lt;blockquote py:content="message">
-      Message goes here.
-    &lt;/blockquote>
-  &lt;/body>
-&lt;/html>
-</PRE>
-<P>The code that executes this template is responsible for passing the <CITE>title</CITE>
-and <CITE>message</CITE> values.</P>
-<P>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">message.py</SPAN></TT>:</P>
-<PRE CLASS="literal-block">
-from kid import Template
-template = Template(file='message_template.kid',
-                    title="Hello World",
-                    message="Keep it simple, stupid.")
-print template.serialize()
-</PRE>
-<P>This should result in the following output:</P>
-<PRE CLASS="literal-block">
-&lt;?xml version='1.0' encoding='utf-8'?>
-&lt;html xmlns="http://www.w3.org/1999/xhtml">
-  &lt;head>
-    &lt;title>HELLO WORLD&lt;/title>
-  &lt;/head>
-  &lt;body>
-    &lt;h1>Hello World&lt;/h1>
-    &lt;p>
-      A message from Python:
-    &lt;/p>
-    &lt;blockquote>
-      Keep it simple, stupid.
-    &lt;/blockquote>
-  &lt;/body>
-&lt;/html>
-</PRE>
-</DIV>
-<DIV CLASS="section" ID="command-line-tools">
-<H1>
-<A HREF="#id27" CLASS="toc-backref" NAME="command-line-tools">5Command Line Tools</A></H1>
-<DIV CLASS="section" ID="template-compiler-kidc">
-<H2>
-<A HREF="#id28" CLASS="toc-backref" NAME="template-compiler-kidc">5.1Template Compiler (<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">kidc</SPAN></TT>)</A></H2>
-<P>Kid templates may be compiled to Python byte-code (<TT CLASS="docutils literal"><SPAN CLASS="pre">.pyc</SPAN></TT>) files
-explicitly using the <TT CLASS="docutils literal"><SPAN CLASS="pre">kidc</SPAN></TT> command. <TT CLASS="docutils literal"><SPAN CLASS="pre">kidc</SPAN></TT> is capable of compiling
-individual files or recursively compiling all <TT CLASS="docutils literal"><SPAN CLASS="pre">.kid</SPAN></TT> files in a directory.</P>
-<P>Use <TT CLASS="docutils literal"><SPAN CLASS="pre">kidc</SPAN> <SPAN CLASS="pre">--help</SPAN></TT> for more information.</P>
-<P>Note that you do not have to compile templates before using them. They are
-automatically compiled the first time they are used.</P>
-</DIV>
-<DIV CLASS="section" ID="run-templates-kid">
-<H2>
-<A HREF="#id29" CLASS="toc-backref" NAME="run-templates-kid">5.2Run Templates (<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">kid</SPAN></TT>)</A></H2>
-<P>Kid templates may be executed directly without having been precompiled using
-the <TT CLASS="docutils literal"><SPAN CLASS="pre">kid</SPAN></TT> command as follows:</P>
-<PRE CLASS="literal-block">
-kid template-file.kid
-</PRE>
-<P>Template output is written to <TT CLASS="docutils literal"><SPAN CLASS="pre">stdout</SPAN></TT> and may be redirected to a file
-or piped through XML compliant tools.</P>
-</DIV>
-</DIV>
-</DIV>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/index.html kid-0.8svn249/doc/html/index.html
--- kid-0.8/doc/html/index.html	2005-12-02 03:01:08.000000000 -0500
+++ kid-0.8svn249/doc/html/index.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,165 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>Kid</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    Kid
-  </H1>
-  <H4 CLASS="pudge-member-page-subheading">
-    Pythonic, XML-based Templating
-  </H4>
-  
-  <DIV CLASS="rst-doc">
-    <P>Kid is a simple template language for <CITE>XML</CITE> based vocabularies written
-in <A HREF="http://python.org/" CLASS="reference">Python</A>. It was spawned as a result of a kinky love triangle
-between <A HREF="http://www.w3.org/TR/xslt" CLASS="reference">XSLT</A>, <A HREF="http://www.zope.org/Wikis/DevSite/Projects/ZPT/TAL" CLASS="reference">TAL</A>, and <A HREF="http://www.php.net/" CLASS="reference">PHP</A>. We believe many of the best
-features of these languages live on in Kid with much of the limitations
-and complexity stamped out (see <A HREF="http://lesscode.org/projects/kid/wiki/WhatsBorrowed" CLASS="reference">WhatsBorrowed</A> and <A HREF="http://lesscode.org/projects/kid/wiki/WhatsDifferent" CLASS="reference">WhatsDifferent</A>).
-For more info on current and planned features and licensing
-information, see <A HREF="http://lesscode.org/projects/kid/wiki/AboutKid" CLASS="reference">AboutKid</A>.</P>
-<DIV CLASS="section" ID="download">
-<H1>
-<A NAME="download">Download</A></H1>
-<P>The current stable version of Kid is 0.8 and is available from the
-following location:</P>
-<P>
-<A HREF="http://lesscode.org/dist/kid/0.8/kid-0.8.tar.gz" CLASS="reference">http://lesscode.org/dist/kid/0.8/kid-0.8.tar.gz</A></P>
-<P>You can find older and bleeding version in the 
-<A HREF="http://kid.lesscode.org/dist/" CLASS="reference">dist</A> directory.</P>
-<P>See <A HREF="http://lesscode.org/projects/kid/wiki/GettingStarted" CLASS="reference">GettingStarted</A> for information on installing Kid on your system.</P>
-</DIV>
-<DIV CLASS="section" ID="documentation-articles">
-<H1>
-<A NAME="documentation-articles">Documentation / Articles</A></H1>
-<P>Official documentation in HTML and text formats is available with the
-source distribution and is also available right here.</P>
-<UL CLASS="simple">
-<LI>
-<A HREF="notes.html" CLASS="reference">Release Notes</A> - contains release notes for the latest Kid release.</LI>
-<LI>
-<A HREF="guide.html" CLASS="reference">User's Guide</A> - Information on using kid from Python, the command line,
-and in various web environments.</LI>
-<LI>
-<A HREF="language.html" CLASS="reference">Language Specification</A> - detail on template syntax and semantics.</LI>
-</UL>
-<P>Note that the <A HREF="http://lesscode.org/projects/kid/wiki/" CLASS="reference">Kid Wiki</A> contains supplementary documentation on Kid.
-Please consider creating your own pages if you have a useful tip to
-share.</P>
-<UL CLASS="simple">
-<LI>
-<A HREF="http://lesscode.org/projects/kid/wiki/KidFaq" CLASS="reference">KidFaq</A> - Frequently Asked Questions on the Kid template language.</LI>
-<LI>
-<A HREF="http://lesscode.org/projects/kid/wiki/KidRecipes" CLASS="reference">KidRecipes</A> - Recipes for solving some common tasks using Kid.</LI>
-<LI>
-<A HREF="http://lesscode.org/projects/kid/wiki/KidExamples" CLASS="reference">KidExamples</A> - Check out some template examples.</LI>
-<LI>
-<A HREF="http://lesscode.org/projects/kid/wiki/ProjectsUsingKid" CLASS="reference">ProjectsUsingKid</A></LI>
-</UL>
-<P>Other sources of information include the <A HREF="http://news.gmane.org/gmane.comp.python.kid.general" CLASS="reference">mailing list archives</A>,
-the <A HREF="http://lesscode.org/blog/category/kid/" CLASS="reference">lesscode.org blog</A>. Older ramblings on kid can be found on 
-<A HREF="http://naeblis.cx/rtomayko/" CLASS="reference">Ryan Tomayko's Weblog</A> under the tag, "kid".</P>
-</DIV>
-<DIV CLASS="section" ID="contribute">
-<H1>
-<A NAME="contribute">Contribute</A></H1>
-<UL CLASS="simple">
-<LI>
-<A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" CLASS="reference">Join the mailing list</A> and discuss Kid usage, bugs, ideas, whatever...</LI>
-<LI>Report a bug or suggest a feature by creating a <A HREF="http://lesscode.org/projects/kid/newticket" CLASS="reference">new ticket</A>.</LI>
-<LI>This is a <A HREF="http://lesscode.org/projects/kid/wiki/TracWiki" CLASS="reference">TracWiki</A> and is directly editable. Please consider 
-adding to the content. You can play around in the <A HREF="http://lesscode.org/projects/kid/wiki/SandBox" CLASS="reference">SandBox</A>.</LI>
-</UL>
-</DIV>
-<DIV CLASS="section" ID="contact">
-<H1>
-<A NAME="contact">Contact</A></H1>
-<P>If you need help or support, please send it to the Kid mailing list:</P>
-<P>&lt;<A HREF="mailto:kid-template-discuss@lists.sourceforge.net" CLASS="reference">kid-template-discuss@lists.sourceforge.net</A>></P>
-<P>You may also contact the author directly:</P>
-<P>&lt;<A HREF="mailto:rtomayko@lesscode.org" CLASS="reference">rtomayko@lesscode.org</A>></P>
-</DIV>
-  </DIV>
-  
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/kid/filter.py.html kid-0.8svn249/doc/html/kid/filter.py.html
--- kid-0.8/doc/html/kid/filter.py.html	2005-11-20 00:49:39.000000000 -0500
+++ kid-0.8svn249/doc/html/kid/filter.py.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,123 +0,0 @@
-<html><head><title>/Users/rtomayko/devel/python/kid.trunk/kid/filter.py</title>
-        <script type="text/javascript">
-        
-function show_line_range() {
-    var href = document.location.href;
-    if (href.indexOf('?') == -1) {
-        return;
-    }
-    var qs = href.substring(href.indexOf('?')+1);
-    if (qs.indexOf('#') >= 0) {
-        qs = qs.substring(0, qs.indexOf('#'));
-    }
-    var first = qs.match(/f=(\d+)/)[1];
-    var last = qs.match(/l=(\d+)/)[1];
-    if (! first || ! last) {
-        return;
-    }
-    var anchors = document.getElementsByTagName('A');
-    var highlight = false;
-    for (var i = 0; i < anchors.length; i++) {
-        var el = anchors[i];
-        if (el.getAttribute('name') == first) {
-            highlight = true;
-        }
-        if (el.getAttribute('name') == last) {
-            break;
-        }
-        if (highlight) {
-            el = el.nextSibling;
-            while (el && el.tagName != 'A') {
-                if (typeof(el.style) != 'undefined') {
-                    el.style.backgroundColor = '#ff9';
-                }
-                el = el.nextSibling;
-            }
-        }
-    }
-}
-
-        </script>
-        <style>
-        div.python {
-          color: #333
-        }
-        div.python a.lnum {
-          color: #555;
-          background-color: #eee;
-          border-right: 1px solid #999;
-          padding-right: 2px;
-          margin-right: 4px;
-        }
-        div.python span.comment { color: #933 }
-        div.python span.keyword { color: #a3e; font-weight: bold  }
-        div.python span.op { color: #c96 }
-        div.python span.string { color: #6a6 }
-        div.python span.name { }
-        div.python span.text { color: #333 }
-
-        </style></head><body onload="show_line_range()"><div class="python"><code><a class="lnum" href="#1" name="1">0001</a><span class="string">"""Kid&#0160;tranformations"""</span><br />
-<a class="lnum" href="#2" name="2">0002</a><br />
-<a class="lnum" href="#3" name="3">0003</a><span class="keyword">from</span>&#0160;<span class="name">__future__</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">generators</span><br />
-<a class="lnum" href="#4" name="4">0004</a><br />
-<a class="lnum" href="#5" name="5">0005</a><span class="name">__revision__</span>&#0160;<span class="op">=</span>&#0160;<span class="string">"$Rev:&#0160;53&#0160;$"</span><br />
-<a class="lnum" href="#6" name="6">0006</a><span class="name">__date__</span>&#0160;<span class="op">=</span>&#0160;<span class="string">"$Date:&#0160;2005-02-15&#0160;08:10:35&#0160;-0500&#0160;(Tue,&#0160;15&#0160;Feb&#0160;2005)&#0160;$"</span><br />
-<a class="lnum" href="#7" name="7">0007</a><span class="name">__author__</span>&#0160;<span class="op">=</span>&#0160;<span class="string">"Ryan&#0160;Tomayko&#0160;(rtomayko@gmail.com)"</span><br />
-<a class="lnum" href="#8" name="8">0008</a><span class="name">__copyright__</span>&#0160;<span class="op">=</span>&#0160;<span class="string">"Copyright&#0160;2004-2005,&#0160;Ryan&#0160;Tomayko"</span><br />
-<a class="lnum" href="#9" name="9">0009</a><span class="name">__license__</span>&#0160;<span class="op">=</span>&#0160;<span class="string">"MIT&#0160;&lt;http://www.opensource.org/licenses/mit-license.php&gt;"</span><br />
-<a class="lnum" href="#10" name="10">0010</a><br />
-<a class="lnum" href="#11" name="11">0011</a><span class="keyword">from</span>&#0160;<span class="name">types</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">GeneratorType</span><br />
-<a class="lnum" href="#12" name="12">0012</a><span class="keyword">from</span>&#0160;<span class="name">kid</span><span class="op">.</span><span class="name">pull</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">ElementStream</span><span class="op">,</span>&#0160;<span class="name">START</span><span class="op">,</span>&#0160;<span class="name">XML_DECL</span><span class="op">,</span>&#0160;&#0160;<span class="name">_coalesce</span><br />
-<a class="lnum" href="#13" name="13">0013</a><span class="keyword">from</span>&#0160;<span class="name">kid</span><span class="op">.</span><span class="name">namespace</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">Namespace</span><br />
-<a class="lnum" href="#14" name="14">0014</a><span class="keyword">from</span>&#0160;<span class="name">template_util</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">generate_content</span><br />
-<a class="lnum" href="#15" name="15">0015</a><br />
-<a class="lnum" href="#16" name="16">0016</a><span class="keyword">def</span>&#0160;<span class="name">transform_filter</span><span class="op">(</span><span class="name">stream</span><span class="op">,</span>&#0160;<span class="name">template</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#17" name="17">0017</a>&#0160;&#0160;&#0160;&#0160;<span class="name">templates</span>&#0160;<span class="op">=</span>&#0160;<span class="name">template</span><span class="op">.</span><span class="name">_get_match_templates</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#18" name="18">0018</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">apply_func</span><span class="op">(</span><span class="name">item</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#19" name="19">0019</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">transform_filter</span><span class="op">(</span><span class="name">generate_content</span><span class="op">(</span><span class="name">item</span><span class="op">)</span><span class="op">,</span>&#0160;<span class="name">template</span><span class="op">)</span><br />
-<a class="lnum" href="#20" name="20">0020</a>&#0160;&#0160;&#0160;&#0160;<span class="name">stream</span>&#0160;<span class="op">=</span>&#0160;<span class="name">ElementStream</span><span class="op">.</span><span class="name">ensure</span><span class="op">(</span><span class="name">stream</span><span class="op">)</span><br />
-<a class="lnum" href="#21" name="21">0021</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">apply_matches</span><span class="op">(</span><span class="name">stream</span><span class="op">,</span>&#0160;<span class="name">template</span><span class="op">,</span>&#0160;<span class="name">templates</span><span class="op">,</span>&#0160;<span class="name">apply_func</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#22" name="22">0022</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span><br />
-<a class="lnum" href="#23" name="23">0023</a><br />
-<a class="lnum" href="#24" name="24">0024</a><span class="keyword">def</span>&#0160;<span class="name">apply_matches</span><span class="op">(</span><span class="name">stream</span><span class="op">,</span>&#0160;<span class="name">template</span><span class="op">,</span>&#0160;<span class="name">templates</span><span class="op">,</span>&#0160;<span class="name">apply_func</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#25" name="25">0025</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">stream</span><span class="op">:</span><br />
-<a class="lnum" href="#26" name="26">0026</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">ev</span>&#0160;<span class="op">==</span>&#0160;<span class="name">START</span><span class="op">:</span><br />
-<a class="lnum" href="#27" name="27">0027</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">matched</span>&#0160;<span class="op">=</span>&#0160;<span class="number">0</span><br />
-<a class="lnum" href="#28" name="28">0028</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">i</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">range</span><span class="op">(</span><span class="number">0</span><span class="op">,</span>&#0160;<span class="name">len</span><span class="op">(</span><span class="name">templates</span><span class="op">)</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#29" name="29">0029</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="op">(</span><span class="name">match</span><span class="op">,</span>&#0160;<span class="name">call</span><span class="op">)</span>&#0160;<span class="op">=</span>&#0160;<span class="name">templates</span><span class="op">[</span><span class="name">i</span><span class="op">]</span><br />
-<a class="lnum" href="#30" name="30">0030</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">match</span><span class="op">(</span><span class="name">item</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#31" name="31">0031</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">item</span>&#0160;<span class="op">=</span>&#0160;<span class="name">stream</span><span class="op">.</span><span class="name">expand</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#32" name="32">0032</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">newstream</span>&#0160;<span class="op">=</span>&#0160;<span class="name">_coalesce</span><span class="op">(</span><span class="name">call</span><span class="op">(</span><span class="name">template</span><span class="op">,</span>&#0160;<span class="name">item</span><span class="op">,</span>&#0160;<span class="name">apply_func</span><span class="op">)</span><span class="op">,</span>&#0160;<span class="name">template</span><span class="op">.</span><span class="name">_get_assume_encoding</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><br />
-<a class="lnum" href="#33" name="33">0033</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">i</span><span class="op">+</span><span class="number">1</span>&#0160;<span class="op">&lt;</span>&#0160;<span class="name">len</span><span class="op">(</span><span class="name">templates</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#34" name="34">0034</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">apply_matches</span><span class="op">(</span><span class="name">ElementStream</span><span class="op">(</span><span class="name">newstream</span><span class="op">)</span><span class="op">,</span><br />
-<a class="lnum" href="#35" name="35">0035</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">template</span><span class="op">,</span><br />
-<a class="lnum" href="#36" name="36">0036</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">templates</span><span class="op">[</span><span class="name">i</span><span class="op">+</span><span class="number">1</span><span class="op">:</span><span class="op">]</span><span class="op">,</span><br />
-<a class="lnum" href="#37" name="37">0037</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">apply_func</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#38" name="38">0038</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span><br />
-<a class="lnum" href="#39" name="39">0039</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#40" name="40">0040</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">newstream</span><span class="op">:</span><br />
-<a class="lnum" href="#41" name="41">0041</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="op">(</span><span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span><span class="op">)</span><br />
-<a class="lnum" href="#42" name="42">0042</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">matched</span>&#0160;<span class="op">=</span>&#0160;<span class="number">1</span><br />
-<a class="lnum" href="#43" name="43">0043</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">break</span><br />
-<a class="lnum" href="#44" name="44">0044</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">matched</span><span class="op">:</span>&#0160;<span class="keyword">continue</span><br />
-<a class="lnum" href="#45" name="45">0045</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="op">(</span><span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span><span class="op">)</span><br />
-<a class="lnum" href="#46" name="46">0046</a><br />
-<a class="lnum" href="#47" name="47">0047</a><span class="comment">#&#0160;XXX&#0160;haven't&#0160;tested&#0160;this&#0160;yet..</span><br />
-<a class="lnum" href="#48" name="48">0048</a><span class="comment"></span><span class="keyword">def</span>&#0160;<span class="name">xinclude_filter</span><span class="op">(</span><span class="name">stream</span><span class="op">,</span>&#0160;<span class="name">template</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#49" name="49">0049</a>&#0160;&#0160;&#0160;&#0160;<span class="name">xi</span>&#0160;<span class="op">=</span>&#0160;<span class="name">Namespace</span><span class="op">(</span><span class="string">'http://www.w3.org/2001/XInclude'</span><span class="op">)</span><br />
-<a class="lnum" href="#50" name="50">0050</a>&#0160;&#0160;&#0160;&#0160;<span class="name">include</span>&#0160;<span class="op">=</span>&#0160;<span class="name">xi</span><span class="op">.</span><span class="name">include</span><br />
-<a class="lnum" href="#51" name="51">0051</a>&#0160;&#0160;&#0160;&#0160;<span class="name">fallback</span>&#0160;<span class="op">=</span>&#0160;<span class="name">xi</span><span class="op">.</span><span class="name">fallback</span><br />
-<a class="lnum" href="#52" name="52">0052</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">stream</span><span class="op">:</span><br />
-<a class="lnum" href="#53" name="53">0053</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">ev</span>&#0160;<span class="op">==</span>&#0160;<span class="name">START</span>&#0160;<span class="keyword">and</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">tag</span>&#0160;<span class="op">==</span>&#0160;<span class="name">xi</span><span class="op">.</span><span class="name">include</span><span class="op">:</span><br />
-<a class="lnum" href="#54" name="54">0054</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">item</span>&#0160;<span class="op">=</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">expand</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#55" name="55">0055</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">href</span>&#0160;<span class="op">=</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">get</span><span class="op">(</span><span class="string">'href'</span><span class="op">)</span><br />
-<a class="lnum" href="#56" name="56">0056</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">try</span><span class="op">:</span><br />
-<a class="lnum" href="#57" name="57">0057</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">doc</span>&#0160;<span class="op">=</span>&#0160;<span class="name">document</span><span class="op">(</span><span class="name">href</span><span class="op">,</span>&#0160;<span class="name">template</span><span class="op">.</span><span class="name">_get_assume_encoding</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><br />
-<a class="lnum" href="#58" name="58">0058</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">except</span><span class="op">:</span><br />
-<a class="lnum" href="#59" name="59">0059</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">fallback_elm</span>&#0160;<span class="op">=</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">find</span><span class="op">(</span><span class="name">fallback</span><span class="op">)</span><br />
-<a class="lnum" href="#60" name="60">0060</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">ElementStream</span><span class="op">(</span><span class="name">fallback_elm</span><span class="op">)</span><span class="op">.</span><span class="name">strip</span><span class="op">(</span><span class="number">1</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#61" name="61">0061</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span><br />
-<a class="lnum" href="#62" name="62">0062</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#63" name="63">0063</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">doc</span><span class="op">:</span><br />
-<a class="lnum" href="#64" name="64">0064</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">ev</span>&#0160;<span class="op">!=</span>&#0160;<span class="name">XML_DECL</span><span class="op">:</span><br />
-<a class="lnum" href="#65" name="65">0065</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="name">ev</span></code></div></body></html>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/kid/__init__.py.html kid-0.8svn249/doc/html/kid/__init__.py.html
--- kid-0.8/doc/html/kid/__init__.py.html	2005-12-02 02:53:03.000000000 -0500
+++ kid-0.8svn249/doc/html/kid/__init__.py.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,464 +0,0 @@
-<html><head><title>/Users/rtomayko/devel/python/kid.trunk/kid/__init__.py</title>
-        <script type="text/javascript">
-        
-function show_line_range() {
-    var href = document.location.href;
-    if (href.indexOf('?') == -1) {
-        return;
-    }
-    var qs = href.substring(href.indexOf('?')+1);
-    if (qs.indexOf('#') >= 0) {
-        qs = qs.substring(0, qs.indexOf('#'));
-    }
-    var first = qs.match(/f=(\d+)/)[1];
-    var last = qs.match(/l=(\d+)/)[1];
-    if (! first || ! last) {
-        return;
-    }
-    var anchors = document.getElementsByTagName('A');
-    var highlight = false;
-    for (var i = 0; i < anchors.length; i++) {
-        var el = anchors[i];
-        if (el.getAttribute('name') == first) {
-            highlight = true;
-        }
-        if (el.getAttribute('name') == last) {
-            break;
-        }
-        if (highlight) {
-            el = el.nextSibling;
-            while (el && el.tagName != 'A') {
-                if (typeof(el.style) != 'undefined') {
-                    el.style.backgroundColor = '#ff9';
-                }
-                el = el.nextSibling;
-            }
-        }
-    }
-}
-
-        </script>
-        <style>
-        div.python {
-          color: #333
-        }
-        div.python a.lnum {
-          color: #555;
-          background-color: #eee;
-          border-right: 1px solid #999;
-          padding-right: 2px;
-          margin-right: 4px;
-        }
-        div.python span.comment { color: #933 }
-        div.python span.keyword { color: #a3e; font-weight: bold  }
-        div.python span.op { color: #c96 }
-        div.python span.string { color: #6a6 }
-        div.python span.name { }
-        div.python span.text { color: #333 }
-
-        </style></head><body onload="show_line_range()"><div class="python"><code><a class="lnum" href="#1" name="1">0001</a><span class="string">"""Pythonic,&#0160;XML&#0160;Templating</span><br />
-<a class="lnum" href="#2" name="2">0002</a><span class="string"></span><br />
-<a class="lnum" href="#3" name="3">0003</a><span class="string">Kid&#0160;is&#0160;a&#0160;simple,&#0160;Python-based&#0160;template&#0160;language&#0160;for&#0160;generating&#0160;and</span><br />
-<a class="lnum" href="#4" name="4">0004</a><span class="string">transforming&#0160;XML&#0160;vocabularies.&#0160;Kid&#0160;was&#0160;spawned&#0160;as&#0160;a&#0160;result&#0160;of&#0160;a&#0160;kinky&#0160;love</span><br />
-<a class="lnum" href="#5" name="5">0005</a><span class="string">triangle&#0160;between&#0160;XSLT,&#0160;TAL,&#0160;and&#0160;PHP.&#0160;We&#0160;believe&#0160;many&#0160;of&#0160;the&#0160;best&#0160;features</span><br />
-<a class="lnum" href="#6" name="6">0006</a><span class="string">of&#0160;these&#0160;languages&#0160;live&#0160;on&#0160;in&#0160;Kid&#0160;with&#0160;much&#0160;of&#0160;the&#0160;limitations&#0160;and</span><br />
-<a class="lnum" href="#7" name="7">0007</a><span class="string">complexity&#0160;stamped&#0160;out&#0160;(well,&#0160;eventually&#0160;:).</span><br />
-<a class="lnum" href="#8" name="8">0008</a><span class="string"></span><br />
-<a class="lnum" href="#9" name="9">0009</a><span class="string">"""</span><br />
-<a class="lnum" href="#10" name="10">0010</a><br />
-<a class="lnum" href="#11" name="11">0011</a><span class="name">__version__</span>&#0160;<span class="op">=</span>&#0160;<span class="string">"0.8"</span><br />
-<a class="lnum" href="#12" name="12">0012</a><span class="name">__revision__</span>&#0160;<span class="op">=</span>&#0160;<span class="string">"$Rev:&#0160;220&#0160;$"</span><br />
-<a class="lnum" href="#13" name="13">0013</a><span class="name">__date__</span>&#0160;<span class="op">=</span>&#0160;<span class="string">"$Date:&#0160;2005-12-02&#0160;02:53:02&#0160;-0500&#0160;(Fri,&#0160;02&#0160;Dec&#0160;2005)&#0160;$"</span><br />
-<a class="lnum" href="#14" name="14">0014</a><span class="name">__author__</span>&#0160;<span class="op">=</span>&#0160;<span class="string">"Ryan&#0160;Tomayko&#0160;(rtomayko@gmail.com)"</span><br />
-<a class="lnum" href="#15" name="15">0015</a><span class="name">__copyright__</span>&#0160;<span class="op">=</span>&#0160;<span class="string">"Copyright&#0160;2004-2005,&#0160;Ryan&#0160;Tomayko"</span><br />
-<a class="lnum" href="#16" name="16">0016</a><span class="name">__license__</span>&#0160;<span class="op">=</span>&#0160;<span class="string">"MIT&#0160;&lt;http://www.opensource.org/licenses/mit-license.php&gt;"</span><br />
-<a class="lnum" href="#17" name="17">0017</a><br />
-<a class="lnum" href="#18" name="18">0018</a><span class="keyword">import</span>&#0160;<span class="name">sys</span><br />
-<a class="lnum" href="#19" name="19">0019</a><span class="keyword">import</span>&#0160;<span class="name">os</span><br />
-<a class="lnum" href="#20" name="20">0020</a><br />
-<a class="lnum" href="#21" name="21">0021</a><span class="keyword">from</span>&#0160;<span class="name">kid</span><span class="op">.</span><span class="name">util</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">xml_sniff</span><span class="op">,</span>&#0160;<span class="name">QuickTextReader</span><br />
-<a class="lnum" href="#22" name="22">0022</a><span class="keyword">from</span>&#0160;<span class="name">kid</span><span class="op">.</span><span class="name">namespace</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">Namespace</span><br />
-<a class="lnum" href="#23" name="23">0023</a><span class="keyword">from</span>&#0160;<span class="name">kid</span><span class="op">.</span><span class="name">pull</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">ElementStream</span><span class="op">,</span>&#0160;<span class="name">Element</span><span class="op">,</span>&#0160;<span class="name">SubElement</span><span class="op">,</span>&#0160;<span class="name">Fragment</span><span class="op">,</span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">XML</span><span class="op">,</span>&#0160;<span class="name">document</span><span class="op">,</span>&#0160;<span class="name">_coalesce</span><br />
-<a class="lnum" href="#25" name="25">0025</a><span class="keyword">from</span>&#0160;<span class="name">kid</span><span class="op">.</span><span class="name">et</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">ElementTree</span><span class="op">,</span>&#0160;<span class="name">Comment</span><span class="op">,</span>&#0160;<span class="name">ProcessingInstruction</span><br />
-<a class="lnum" href="#26" name="26">0026</a><span class="keyword">from</span>&#0160;<span class="name">kid</span><span class="op">.</span><span class="name">parser</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">KID_XMLNS</span><br />
-<a class="lnum" href="#27" name="27">0027</a><span class="keyword">from</span>&#0160;<span class="name">kid</span><span class="op">.</span><span class="name">serialization</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">Serializer</span><span class="op">,</span>&#0160;<span class="name">XMLSerializer</span><span class="op">,</span>&#0160;<span class="name">HTMLSerializer</span><span class="op">,</span>&#0160;<span class="name">PlainSerializer</span><span class="op">,</span>&#0160;<span class="name">XHTMLSerializer</span><br />
-<a class="lnum" href="#28" name="28">0028</a><br />
-<a class="lnum" href="#29" name="29">0029</a><span class="name">assume_encoding</span>&#0160;<span class="op">=</span>&#0160;<span class="name">sys</span><span class="op">.</span><span class="name">getdefaultencoding</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#30" name="30">0030</a><br />
-<a class="lnum" href="#31" name="31">0031</a><span class="keyword">def</span>&#0160;<span class="name">enable_import</span><span class="op">(</span><span class="name">suffixes</span><span class="op">=</span><span class="name">None</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#32" name="32">0032</a>&#0160;&#0160;&#0160;&#0160;<span class="string">"""Enable&#0160;the&#0160;kid&#0160;module&#0160;loader&#0160;and&#0160;import&#0160;hooks.</span><br />
-<a class="lnum" href="#33" name="33">0033</a><span class="string">&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#34" name="34">0034</a><span class="string">&#0160;&#0160;&#0160;&#0160;This&#0160;function&#0160;must&#0160;be&#0160;called&#0160;before&#0160;importing&#0160;kid&#0160;templates&#0160;if&#0160;templates</span><br />
-<a class="lnum" href="#35" name="35">0035</a><span class="string">&#0160;&#0160;&#0160;&#0160;are&#0160;not&#0160;pre-compiled.</span><br />
-<a class="lnum" href="#36" name="36">0036</a><span class="string">&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#37" name="37">0037</a><span class="string">&#0160;&#0160;&#0160;&#0160;Note&#0160;that&#0160;if&#0160;your&#0160;application&#0160;uses&#0160;ZODB,&#0160;you&#0160;will&#0160;need&#0160;to&#0160;import&#0160;ZODB</span><br />
-<a class="lnum" href="#38" name="38">0038</a><span class="string">&#0160;&#0160;&#0160;&#0160;before&#0160;calling&#0160;this&#0160;function&#0160;as&#0160;ZODB's&#0160;import&#0160;hooks&#0160;have&#0160;some&#0160;issues&#0160;if</span><br />
-<a class="lnum" href="#39" name="39">0039</a><span class="string">&#0160;&#0160;&#0160;&#0160;installed&#0160;after&#0160;the&#0160;kid&#0160;import&#0160;hooks.</span><br />
-<a class="lnum" href="#40" name="40">0040</a><span class="string">&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#41" name="41">0041</a><span class="string">&#0160;&#0160;&#0160;&#0160;"""</span><br />
-<a class="lnum" href="#42" name="42">0042</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">import</span>&#0160;<span class="name">kid</span><span class="op">.</span><span class="name">importer</span><br />
-<a class="lnum" href="#43" name="43">0043</a>&#0160;&#0160;&#0160;&#0160;<span class="name">kid</span><span class="op">.</span><span class="name">importer</span><span class="op">.</span><span class="name">install</span><span class="op">(</span><span class="name">suffixes</span><span class="op">)</span><br />
-<a class="lnum" href="#44" name="44">0044</a><br />
-<a class="lnum" href="#45" name="45">0045</a><span class="comment">#</span><br />
-<a class="lnum" href="#46" name="46">0046</a><span class="comment"></span><span class="comment">#&#0160;Turn&#0160;on&#0160;import&#0160;hook&#0160;if&#0160;KID_IMPORT&#0160;is&#0160;set</span><br />
-<a class="lnum" href="#47" name="47">0047</a><span class="comment"></span><span class="comment">#</span><br />
-<a class="lnum" href="#48" name="48">0048</a><span class="comment"></span><span class="keyword">if</span>&#0160;<span class="name">os</span><span class="op">.</span><span class="name">environ</span><span class="op">.</span><span class="name">get</span><span class="op">(</span><span class="string">'KID_IMPORT'</span><span class="op">,</span>&#0160;<span class="name">None</span><span class="op">)</span>&#0160;<span class="keyword">is</span>&#0160;<span class="keyword">not</span>&#0160;<span class="name">None</span><span class="op">:</span><br />
-<a class="lnum" href="#49" name="49">0049</a>&#0160;&#0160;&#0160;&#0160;<span class="name">enable_import</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#50" name="50">0050</a><br />
-<a class="lnum" href="#51" name="51">0051</a><span class="keyword">def</span>&#0160;<span class="name">import_template</span><span class="op">(</span><span class="name">name</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#52" name="52">0052</a>&#0160;&#0160;&#0160;&#0160;<span class="string">"""Import&#0160;template&#0160;by&#0160;name.</span><br />
-<a class="lnum" href="#53" name="53">0053</a><span class="string"></span><br />
-<a class="lnum" href="#54" name="54">0054</a><span class="string">&#0160;&#0160;&#0160;&#0160;This&#0160;is&#0160;identical&#0160;to&#0160;calling&#0160;`enable_import`&#0160;followed&#0160;by&#0160;an&#0160;import</span><br />
-<a class="lnum" href="#55" name="55">0055</a><span class="string">&#0160;&#0160;&#0160;&#0160;statement.&#0160;For&#0160;example,&#0160;importing&#0160;a&#0160;template&#0160;named&#0160;foo&#0160;using&#0160;the&#0160;normal</span><br />
-<a class="lnum" href="#56" name="56">0056</a><span class="string">&#0160;&#0160;&#0160;&#0160;import&#0160;mechanism&#0160;looks&#0160;like&#0160;this::</span><br />
-<a class="lnum" href="#57" name="57">0057</a><span class="string"></span><br />
-<a class="lnum" href="#58" name="58">0058</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;import&#0160;kid</span><br />
-<a class="lnum" href="#59" name="59">0059</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;kid.enable_import()</span><br />
-<a class="lnum" href="#60" name="60">0060</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;import&#0160;foo</span><br />
-<a class="lnum" href="#61" name="61">0061</a><span class="string"></span><br />
-<a class="lnum" href="#62" name="62">0062</a><span class="string">&#0160;&#0160;&#0160;&#0160;This&#0160;function&#0160;can&#0160;be&#0160;used&#0160;to&#0160;achieve&#0160;the&#0160;same&#0160;result&#0160;as&#0160;follows::</span><br />
-<a class="lnum" href="#63" name="63">0063</a><span class="string"></span><br />
-<a class="lnum" href="#64" name="64">0064</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;import&#0160;kid</span><br />
-<a class="lnum" href="#65" name="65">0065</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;foo&#0160;=&#0160;kid.import_template('foo')</span><br />
-<a class="lnum" href="#66" name="66">0066</a><span class="string"></span><br />
-<a class="lnum" href="#67" name="67">0067</a><span class="string">&#0160;&#0160;&#0160;&#0160;This&#0160;is&#0160;sometimes&#0160;useful&#0160;when&#0160;the&#0160;name&#0160;of&#0160;the&#0160;template&#0160;is&#0160;available&#0160;only</span><br />
-<a class="lnum" href="#68" name="68">0068</a><span class="string">&#0160;&#0160;&#0160;&#0160;as&#0160;a&#0160;string.</span><br />
-<a class="lnum" href="#69" name="69">0069</a><span class="string">&#0160;&#0160;&#0160;&#0160;"""</span><br />
-<a class="lnum" href="#70" name="70">0070</a>&#0160;&#0160;&#0160;&#0160;<span class="name">enable_import</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#71" name="71">0071</a>&#0160;&#0160;&#0160;&#0160;<span class="name">mod</span>&#0160;<span class="op">=</span>&#0160;<span class="name">__import__</span><span class="op">(</span><span class="name">name</span><span class="op">)</span><br />
-<a class="lnum" href="#72" name="72">0072</a>&#0160;&#0160;&#0160;&#0160;<span class="name">components</span>&#0160;<span class="op">=</span>&#0160;<span class="name">name</span><span class="op">.</span><span class="name">split</span><span class="op">(</span><span class="string">'.'</span><span class="op">)</span><br />
-<a class="lnum" href="#73" name="73">0073</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">comp</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">components</span><span class="op">[</span><span class="number">1</span><span class="op">:</span><span class="op">]</span><span class="op">:</span><br />
-<a class="lnum" href="#74" name="74">0074</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">mod</span>&#0160;<span class="op">=</span>&#0160;<span class="name">getattr</span><span class="op">(</span><span class="name">mod</span><span class="op">,</span>&#0160;<span class="name">comp</span><span class="op">)</span><br />
-<a class="lnum" href="#75" name="75">0075</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">mod</span><br />
-<a class="lnum" href="#76" name="76">0076</a><br />
-<a class="lnum" href="#77" name="77">0077</a><span class="keyword">def</span>&#0160;<span class="name">load_template</span><span class="op">(</span><span class="name">file</span><span class="op">,</span>&#0160;<span class="name">name</span><span class="op">=</span><span class="string">''</span><span class="op">,</span>&#0160;<span class="name">cache</span><span class="op">=</span><span class="number">1</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">=</span><span class="name">None</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#78" name="78">0078</a>&#0160;&#0160;&#0160;&#0160;<span class="string">"""Bypass&#0160;import&#0160;machinery&#0160;and&#0160;load&#0160;a&#0160;template&#0160;module&#0160;directly.</span><br />
-<a class="lnum" href="#79" name="79">0079</a><span class="string"></span><br />
-<a class="lnum" href="#80" name="80">0080</a><span class="string">&#0160;&#0160;&#0160;&#0160;This&#0160;can&#0160;be&#0160;used&#0160;as&#0160;an&#0160;alternative&#0160;to&#0160;accessing&#0160;templates&#0160;using&#0160;the</span><br />
-<a class="lnum" href="#81" name="81">0081</a><span class="string">&#0160;&#0160;&#0160;&#0160;native&#0160;python&#0160;import&#0160;mechanisms.</span><br />
-<a class="lnum" href="#82" name="82">0082</a><span class="string">&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#83" name="83">0083</a><span class="string">&#0160;&#0160;&#0160;&#0160;file</span><br />
-<a class="lnum" href="#84" name="84">0084</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;Can&#0160;be&#0160;a&#0160;filename,&#0160;a&#0160;kid&#0160;template&#0160;string,&#0160;or&#0160;an&#0160;open&#0160;file&#0160;object.</span><br />
-<a class="lnum" href="#85" name="85">0085</a><span class="string">&#0160;&#0160;&#0160;&#0160;name</span><br />
-<a class="lnum" href="#86" name="86">0086</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;Optionally&#0160;specifies&#0160;the&#0160;module&#0160;name&#0160;to&#0160;use&#0160;for&#0160;this&#0160;template.&#0160;This</span><br />
-<a class="lnum" href="#87" name="87">0087</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;is&#0160;a&#0160;hack&#0160;to&#0160;enable&#0160;relative&#0160;imports&#0160;in&#0160;templates.</span><br />
-<a class="lnum" href="#88" name="88">0088</a><span class="string">&#0160;&#0160;&#0160;&#0160;cache</span><br />
-<a class="lnum" href="#89" name="89">0089</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;Whether&#0160;to&#0160;look&#0160;for&#0160;a&#0160;byte-compiled&#0160;version&#0160;of&#0160;the&#0160;template.&#0160;If</span><br />
-<a class="lnum" href="#90" name="90">0090</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;no&#0160;byte-compiled&#0160;version&#0160;is&#0160;found,&#0160;an&#0160;attempt&#0160;is&#0160;made&#0160;to&#0160;dump&#0160;a</span><br />
-<a class="lnum" href="#91" name="91">0091</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;byte-compiled&#0160;version&#0160;after&#0160;compiling.&#0160;This&#0160;argument&#0160;is&#0160;ignored&#0160;if</span><br />
-<a class="lnum" href="#92" name="92">0092</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;file&#0160;is&#0160;not&#0160;a&#0160;filename.</span><br />
-<a class="lnum" href="#93" name="93">0093</a><span class="string">&#0160;&#0160;&#0160;&#0160;"""</span><br />
-<a class="lnum" href="#94" name="94">0094</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">isinstance</span><span class="op">(</span><span class="name">file</span><span class="op">,</span>&#0160;<span class="op">(</span><span class="name">str</span><span class="op">,</span>&#0160;<span class="name">unicode</span><span class="op">)</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#95" name="95">0095</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">xml_sniff</span><span class="op">(</span><span class="name">file</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#96" name="96">0096</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">fo</span>&#0160;<span class="op">=</span>&#0160;<span class="name">QuickTextReader</span><span class="op">(</span><span class="name">file</span><span class="op">)</span><br />
-<a class="lnum" href="#97" name="97">0097</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">filename</span>&#0160;<span class="op">=</span>&#0160;<span class="string">'&lt;string&gt;'</span><br />
-<a class="lnum" href="#98" name="98">0098</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#99" name="99">0099</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">fo</span>&#0160;<span class="op">=</span>&#0160;<span class="name">None</span><br />
-<a class="lnum" href="#100" name="100">0100</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">filename</span>&#0160;<span class="op">=</span>&#0160;<span class="name">file</span><br />
-<a class="lnum" href="#101" name="101">0101</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#102" name="102">0102</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">fo</span>&#0160;<span class="op">=</span>&#0160;<span class="name">file</span><br />
-<a class="lnum" href="#103" name="103">0103</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">filename</span>&#0160;<span class="op">=</span>&#0160;<span class="string">'&lt;string&gt;'</span><br />
-<a class="lnum" href="#104" name="104">0104</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">import</span>&#0160;<span class="name">kid</span><span class="op">.</span><span class="name">importer</span>&#0160;<span class="name">as</span>&#0160;<span class="name">importer</span><br />
-<a class="lnum" href="#105" name="105">0105</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">filename</span>&#0160;<span class="op">!=</span>&#0160;<span class="string">'&lt;string&gt;'</span><span class="op">:</span><br />
-<a class="lnum" href="#106" name="106">0106</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">abs_filename</span>&#0160;<span class="op">=</span>&#0160;<span class="name">path</span><span class="op">.</span><span class="name">find</span><span class="op">(</span><span class="name">filename</span><span class="op">)</span><br />
-<a class="lnum" href="#107" name="107">0107</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="keyword">not</span>&#0160;<span class="name">abs_filename</span><span class="op">:</span><br />
-<a class="lnum" href="#108" name="108">0108</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">raise</span>&#0160;<span class="name">Exception</span><span class="op">,</span>&#0160;<span class="string">"Template&#0160;not&#0160;found:&#0160;%s&#0160;(in&#0160;%s)"</span>&#0160;<span class="op">%</span>&#0160;<span class="op">(</span><br />
-<a class="lnum" href="#109" name="109">0109</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">filename</span><span class="op">,</span>&#0160;<span class="string">',&#0160;'</span><span class="op">.</span><span class="name">join</span><span class="op">(</span><span class="name">path</span><span class="op">.</span><span class="name">paths</span><span class="op">)</span><span class="op">)</span><br />
-<a class="lnum" href="#110" name="110">0110</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">filename</span>&#0160;<span class="op">=</span>&#0160;<span class="name">abs_filename</span><br />
-<a class="lnum" href="#111" name="111">0111</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">name</span>&#0160;<span class="op">=</span>&#0160;<span class="name">importer</span><span class="op">.</span><span class="name">get_template_name</span><span class="op">(</span><span class="name">name</span><span class="op">,</span>&#0160;<span class="name">filename</span><span class="op">)</span><br />
-<a class="lnum" href="#112" name="112">0112</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">sys</span><span class="op">.</span><span class="name">modules</span><span class="op">.</span><span class="name">has_key</span><span class="op">(</span><span class="name">name</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#113" name="113">0113</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">sys</span><span class="op">.</span><span class="name">modules</span><span class="op">.</span><span class="name">get</span><span class="op">(</span><span class="name">name</span><span class="op">)</span><br />
-<a class="lnum" href="#114" name="114">0114</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">import</span>&#0160;<span class="name">kid</span><span class="op">.</span><span class="name">compiler</span>&#0160;<span class="name">as</span>&#0160;<span class="name">compiler</span><br />
-<a class="lnum" href="#115" name="115">0115</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">filename</span>&#0160;<span class="op">==</span>&#0160;<span class="string">'&lt;string&gt;'</span><span class="op">:</span><br />
-<a class="lnum" href="#116" name="116">0116</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">code</span>&#0160;<span class="op">=</span>&#0160;<span class="name">compiler</span><span class="op">.</span><span class="name">compile</span><span class="op">(</span><span class="name">fo</span><span class="op">,</span>&#0160;<span class="name">filename</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#117" name="117">0117</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#118" name="118">0118</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">template</span>&#0160;<span class="op">=</span>&#0160;<span class="name">compiler</span><span class="op">.</span><span class="name">KidFile</span><span class="op">(</span><span class="name">filename</span><span class="op">,</span>&#0160;<span class="number">0</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#119" name="119">0119</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">code</span>&#0160;<span class="op">=</span>&#0160;<span class="name">template</span><span class="op">.</span><span class="name">compile</span><span class="op">(</span><span class="name">dump_code</span><span class="op">=</span><span class="name">cache</span><span class="op">,</span>&#0160;<span class="name">dump_source</span><span class="op">=</span><span class="name">os</span><span class="op">.</span><span class="name">environ</span><span class="op">.</span><span class="name">get</span><span class="op">(</span><span class="string">'KID_OUTPUT_PY'</span><span class="op">)</span><span class="op">)</span><br />
-<a class="lnum" href="#120" name="120">0120</a><br />
-<a class="lnum" href="#121" name="121">0121</a>&#0160;&#0160;&#0160;&#0160;<span class="name">mod</span>&#0160;<span class="op">=</span>&#0160;<span class="name">importer</span><span class="op">.</span><span class="name">_create_module</span><span class="op">(</span><span class="name">code</span><span class="op">,</span>&#0160;<span class="name">name</span><span class="op">,</span>&#0160;<span class="name">filename</span><span class="op">,</span>&#0160;<span class="name">store</span><span class="op">=</span><span class="name">cache</span><span class="op">)</span><br />
-<a class="lnum" href="#122" name="122">0122</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">mod</span><br />
-<a class="lnum" href="#123" name="123">0123</a><br />
-<a class="lnum" href="#124" name="124">0124</a><span class="comment">#&#0160;create&#0160;some&#0160;default&#0160;serializers..</span><br />
-<a class="lnum" href="#125" name="125">0125</a><span class="comment"></span><span class="name">output_methods</span>&#0160;<span class="op">=</span>&#0160;<span class="op">{</span><br />
-<a class="lnum" href="#126" name="126">0126</a>&#0160;&#0160;&#0160;&#0160;<span class="string">'xml'</span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="op">:</span>&#0160;<span class="name">XMLSerializer</span><span class="op">(</span><span class="name">decl</span><span class="op">=</span><span class="number">1</span><span class="op">)</span><span class="op">,</span><br />
-<a class="lnum" href="#127" name="127">0127</a>&#0160;&#0160;&#0160;&#0160;<span class="string">'xhtml'</span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="op">:</span>&#0160;<span class="name">XHTMLSerializer</span><span class="op">(</span><span class="name">decl</span><span class="op">=</span><span class="number">0</span><span class="op">,</span>&#0160;<span class="name">doctype</span><span class="op">=</span><span class="string">'xhtml'</span><span class="op">)</span><span class="op">,</span><br />
-<a class="lnum" href="#128" name="128">0128</a>&#0160;&#0160;&#0160;&#0160;<span class="string">'xhtml-strict'</span>&#0160;<span class="op">:</span>&#0160;<span class="name">XHTMLSerializer</span><span class="op">(</span><span class="name">decl</span><span class="op">=</span><span class="number">0</span><span class="op">,</span>&#0160;<span class="name">doctype</span><span class="op">=</span><span class="string">'xhtml-strict'</span><span class="op">)</span><span class="op">,</span><br />
-<a class="lnum" href="#129" name="129">0129</a>&#0160;&#0160;&#0160;&#0160;<span class="string">'html'</span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="op">:</span>&#0160;<span class="name">HTMLSerializer</span><span class="op">(</span><span class="name">doctype</span><span class="op">=</span><span class="string">'html'</span><span class="op">)</span><span class="op">,</span><br />
-<a class="lnum" href="#130" name="130">0130</a>&#0160;&#0160;&#0160;&#0160;<span class="string">'html-strict'</span>&#0160;&#0160;<span class="op">:</span>&#0160;<span class="name">HTMLSerializer</span><span class="op">(</span><span class="name">doctype</span><span class="op">=</span><span class="string">'html-strict'</span><span class="op">)</span><span class="op">,</span><br />
-<a class="lnum" href="#131" name="131">0131</a>&#0160;&#0160;&#0160;&#0160;<span class="string">'plain'</span><span class="op">:</span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">PlainSerializer</span><span class="op">(</span><span class="op">)</span><span class="op">}</span><br />
-<a class="lnum" href="#132" name="132">0132</a><br />
-<a class="lnum" href="#133" name="133">0133</a><span class="keyword">def</span>&#0160;<span class="name">Template</span><span class="op">(</span><span class="name">file</span><span class="op">=</span><span class="name">None</span><span class="op">,</span>&#0160;<span class="name">source</span><span class="op">=</span><span class="name">None</span><span class="op">,</span>&#0160;<span class="name">name</span><span class="op">=</span><span class="name">None</span><span class="op">,</span>&#0160;<span class="op">**</span><span class="name">kw</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#134" name="134">0134</a>&#0160;&#0160;&#0160;&#0160;<span class="string">"""Get&#0160;a&#0160;Template&#0160;class&#0160;quickly&#0160;given&#0160;a&#0160;module&#0160;name,&#0160;file,&#0160;or&#0160;string.</span><br />
-<a class="lnum" href="#135" name="135">0135</a><span class="string">&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#136" name="136">0136</a><span class="string">&#0160;&#0160;&#0160;&#0160;This&#0160;is&#0160;a&#0160;convenience&#0160;function&#0160;for&#0160;getting&#0160;a&#0160;template&#0160;in&#0160;a&#0160;variety&#0160;of</span><br />
-<a class="lnum" href="#137" name="137">0137</a><span class="string">&#0160;&#0160;&#0160;&#0160;ways.&#0160;One&#0160;and&#0160;only&#0160;one&#0160;of&#0160;the&#0160;arguments&#0160;name&#0160;or&#0160;file&#0160;must&#0160;be&#0160;specified.</span><br />
-<a class="lnum" href="#138" name="138">0138</a><span class="string">&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#139" name="139">0139</a><span class="string">&#0160;&#0160;&#0160;&#0160;file:string</span><br />
-<a class="lnum" href="#140" name="140">0140</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;The&#0160;template&#0160;module&#0160;is&#0160;loaded&#0160;by&#0160;calling</span><br />
-<a class="lnum" href="#141" name="141">0141</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;``load_template(file,&#0160;name='',&#0160;cache=1)``</span><br />
-<a class="lnum" href="#142" name="142">0142</a><span class="string">&#0160;&#0160;&#0160;&#0160;name:string</span><br />
-<a class="lnum" href="#143" name="143">0143</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;The&#0160;kid&#0160;import&#0160;hook&#0160;is&#0160;enabled&#0160;and&#0160;the&#0160;template&#0160;module&#0160;is&#0160;located</span><br />
-<a class="lnum" href="#144" name="144">0144</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;using&#0160;the&#0160;normal&#0160;Python&#0160;import&#0160;mechanisms.</span><br />
-<a class="lnum" href="#145" name="145">0145</a><span class="string">&#0160;&#0160;&#0160;&#0160;source:string</span><br />
-<a class="lnum" href="#146" name="146">0146</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;string&#0160;containing&#0160;the&#0160;templates&#0160;source.</span><br />
-<a class="lnum" href="#147" name="147">0147</a><span class="string"></span><br />
-<a class="lnum" href="#148" name="148">0148</a><span class="string">&#0160;&#0160;&#0160;&#0160;Once&#0160;the&#0160;template&#0160;module&#0160;is&#0160;obtained,&#0160;a&#0160;new&#0160;instance&#0160;of&#0160;the&#0160;module's</span><br />
-<a class="lnum" href="#149" name="149">0149</a><span class="string">&#0160;&#0160;&#0160;&#0160;Template&#0160;class&#0160;is&#0160;created&#0160;with&#0160;the&#0160;keyword&#0160;arguments&#0160;passed&#0160;to&#0160;this</span><br />
-<a class="lnum" href="#150" name="150">0150</a><span class="string">&#0160;&#0160;&#0160;&#0160;function.</span><br />
-<a class="lnum" href="#151" name="151">0151</a><span class="string">&#0160;&#0160;&#0160;&#0160;"""</span><br />
-<a class="lnum" href="#152" name="152">0152</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">name</span><span class="op">:</span><br />
-<a class="lnum" href="#153" name="153">0153</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">mod</span>&#0160;<span class="op">=</span>&#0160;<span class="name">import_template</span><span class="op">(</span><span class="name">name</span><span class="op">)</span><br />
-<a class="lnum" href="#154" name="154">0154</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">elif</span>&#0160;<span class="name">file</span>&#0160;<span class="keyword">is</span>&#0160;<span class="keyword">not</span>&#0160;<span class="name">None</span><span class="op">:</span><br />
-<a class="lnum" href="#155" name="155">0155</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">mod</span>&#0160;<span class="op">=</span>&#0160;<span class="name">load_template</span><span class="op">(</span><span class="name">file</span><span class="op">)</span><br />
-<a class="lnum" href="#156" name="156">0156</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">elif</span>&#0160;<span class="name">source</span>&#0160;<span class="keyword">is</span>&#0160;<span class="keyword">not</span>&#0160;<span class="name">None</span><span class="op">:</span><br />
-<a class="lnum" href="#157" name="157">0157</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">mod</span>&#0160;<span class="op">=</span>&#0160;<span class="name">load_template</span><span class="op">(</span><span class="name">QuickTextReader</span><span class="op">(</span><span class="name">source</span><span class="op">)</span><span class="op">)</span><br />
-<a class="lnum" href="#158" name="158">0158</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#159" name="159">0159</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">raise</span>&#0160;<span class="name">Exception</span><span class="op">(</span><span class="string">"Must&#0160;specify&#0160;one&#0160;of&#0160;name,&#0160;file,&#0160;or&#0160;source."</span><span class="op">)</span><br />
-<a class="lnum" href="#160" name="160">0160</a>&#0160;&#0160;&#0160;&#0160;<span class="name">mod</span><span class="op">.</span><span class="name">Template</span><span class="op">.</span><span class="name">module</span>&#0160;<span class="op">=</span>&#0160;<span class="name">mod</span><br />
-<a class="lnum" href="#161" name="161">0161</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">mod</span><span class="op">.</span><span class="name">Template</span><span class="op">(</span><span class="op">**</span><span class="name">kw</span><span class="op">)</span><br />
-<a class="lnum" href="#162" name="162">0162</a><br />
-<a class="lnum" href="#163" name="163">0163</a><span class="keyword">from</span>&#0160;<span class="name">kid</span><span class="op">.</span><span class="name">filter</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">transform_filter</span><br />
-<a class="lnum" href="#164" name="164">0164</a><br />
-<a class="lnum" href="#165" name="165">0165</a><span class="keyword">class</span>&#0160;<span class="name">BaseTemplate</span><span class="op">(</span><span class="name">object</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#166" name="166">0166</a><br />
-<a class="lnum" href="#167" name="167">0167</a>&#0160;&#0160;&#0160;&#0160;<span class="string">"""Base&#0160;class&#0160;for&#0160;compiled&#0160;Templates.</span><br />
-<a class="lnum" href="#168" name="168">0168</a><span class="string"></span><br />
-<a class="lnum" href="#169" name="169">0169</a><span class="string">&#0160;&#0160;&#0160;&#0160;All&#0160;kid&#0160;template&#0160;modules&#0160;expose&#0160;a&#0160;class&#0160;named&#0160;``Template``&#0160;that</span><br />
-<a class="lnum" href="#170" name="170">0170</a><span class="string">&#0160;&#0160;&#0160;&#0160;extends&#0160;from&#0160;this&#0160;class&#0160;making&#0160;the&#0160;methods&#0160;defined&#0160;here&#0160;available&#0160;on</span><br />
-<a class="lnum" href="#171" name="171">0171</a><span class="string">&#0160;&#0160;&#0160;&#0160;all&#0160;Template&#0160;subclasses.</span><br />
-<a class="lnum" href="#172" name="172">0172</a><span class="string">&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#173" name="173">0173</a><span class="string">&#0160;&#0160;&#0160;&#0160;This&#0160;class&#0160;should&#0160;not&#0160;be&#0160;instantiated&#0160;directly.</span><br />
-<a class="lnum" href="#174" name="174">0174</a><span class="string">&#0160;&#0160;&#0160;&#0160;"""</span><br />
-<a class="lnum" href="#175" name="175">0175</a><br />
-<a class="lnum" href="#176" name="176">0176</a>&#0160;&#0160;&#0160;&#0160;<span class="comment">#&#0160;the&#0160;serializer&#0160;to&#0160;use&#0160;when&#0160;writing&#0160;output</span><br />
-<a class="lnum" href="#177" name="177">0177</a><span class="comment"></span>&#0160;&#0160;&#0160;&#0160;<span class="name">serializer</span>&#0160;<span class="op">=</span>&#0160;<span class="name">output_methods</span><span class="op">[</span><span class="string">'xml'</span><span class="op">]</span><br />
-<a class="lnum" href="#178" name="178">0178</a>&#0160;&#0160;&#0160;&#0160;<span class="name">_filters</span>&#0160;<span class="op">=</span>&#0160;<span class="op">[</span><span class="name">transform_filter</span><span class="op">]</span><br />
-<a class="lnum" href="#179" name="179">0179</a><br />
-<a class="lnum" href="#180" name="180">0180</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">__init__</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="op">*</span><span class="name">args</span><span class="op">,</span>&#0160;<span class="op">**</span><span class="name">kw</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#181" name="181">0181</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">"""</span><br />
-<a class="lnum" href="#182" name="182">0182</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;Initialize&#0160;a&#0160;template&#0160;with&#0160;instance&#0160;attributes&#0160;specified&#0160;by</span><br />
-<a class="lnum" href="#183" name="183">0183</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;keyword&#0160;arguments.</span><br />
-<a class="lnum" href="#184" name="184">0184</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#185" name="185">0185</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;Keyword&#0160;arguments&#0160;are&#0160;available&#0160;to&#0160;the&#0160;template&#0160;using&#0160;self.var</span><br />
-<a class="lnum" href="#186" name="186">0186</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;notation.</span><br />
-<a class="lnum" href="#187" name="187">0187</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;"""</span><br />
-<a class="lnum" href="#188" name="188">0188</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">__dict__</span><span class="op">.</span><span class="name">update</span><span class="op">(</span><span class="name">kw</span><span class="op">)</span><br />
-<a class="lnum" href="#189" name="189">0189</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">_layout_classes</span>&#0160;<span class="op">=</span>&#0160;<span class="op">[</span><span class="op">]</span><br />
-<a class="lnum" href="#190" name="190">0190</a><br />
-<a class="lnum" href="#191" name="191">0191</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">write</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">file</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">=</span><span class="name">None</span><span class="op">,</span>&#0160;<span class="name">fragment</span><span class="op">=</span><span class="number">0</span><span class="op">,</span>&#0160;<span class="name">output</span><span class="op">=</span><span class="name">None</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#192" name="192">0192</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">"""</span><br />
-<a class="lnum" href="#193" name="193">0193</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;Execute&#0160;template&#0160;and&#0160;write&#0160;output&#0160;to&#0160;file.</span><br />
-<a class="lnum" href="#194" name="194">0194</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#195" name="195">0195</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;file:file</span><br />
-<a class="lnum" href="#196" name="196">0196</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;A&#0160;filename&#0160;or&#0160;a&#0160;file&#0160;like&#0160;object&#0160;(must&#0160;support&#0160;write()).</span><br />
-<a class="lnum" href="#197" name="197">0197</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;encoding:string</span><br />
-<a class="lnum" href="#198" name="198">0198</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;The&#0160;output&#0160;encoding.&#0160;Default:&#0160;utf-8.</span><br />
-<a class="lnum" href="#199" name="199">0199</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;fragment:bool</span><br />
-<a class="lnum" href="#200" name="200">0200</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;Controls&#0160;whether&#0160;prologue&#0160;information&#0160;(such&#0160;as&#0160;&lt;?xml?&gt;</span><br />
-<a class="lnum" href="#201" name="201">0201</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;declaration&#0160;and&#0160;DOCTYPE&#0160;should&#0160;be&#0160;written).&#0160;Set&#0160;to&#0160;1</span><br />
-<a class="lnum" href="#202" name="202">0202</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;when&#0160;generating&#0160;fragments&#0160;meant&#0160;to&#0160;be&#0160;inserted&#0160;into</span><br />
-<a class="lnum" href="#203" name="203">0203</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;existing&#0160;XML&#0160;documents.</span><br />
-<a class="lnum" href="#204" name="204">0204</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;output:string,`Serializer`</span><br />
-<a class="lnum" href="#205" name="205">0205</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;A&#0160;string&#0160;specifying&#0160;an&#0160;output&#0160;method&#0160;('xml',&#0160;'html',</span><br />
-<a class="lnum" href="#206" name="206">0206</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;'xhtml')&#0160;or&#0160;a&#0160;Serializer&#0160;object.</span><br />
-<a class="lnum" href="#207" name="207">0207</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;"""</span><br />
-<a class="lnum" href="#208" name="208">0208</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">serializer</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">_get_serializer</span><span class="op">(</span><span class="name">output</span><span class="op">)</span><br />
-<a class="lnum" href="#209" name="209">0209</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">serializer</span><span class="op">.</span><span class="name">write</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">file</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">,</span>&#0160;<span class="name">fragment</span><span class="op">)</span><br />
-<a class="lnum" href="#210" name="210">0210</a><br />
-<a class="lnum" href="#211" name="211">0211</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">serialize</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">=</span><span class="name">None</span><span class="op">,</span>&#0160;<span class="name">fragment</span><span class="op">=</span><span class="number">0</span><span class="op">,</span>&#0160;<span class="name">output</span><span class="op">=</span><span class="name">None</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#212" name="212">0212</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">"""</span><br />
-<a class="lnum" href="#213" name="213">0213</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;Execute&#0160;a&#0160;template&#0160;and&#0160;return&#0160;a&#0160;single&#0160;string.</span><br />
-<a class="lnum" href="#214" name="214">0214</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#215" name="215">0215</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;encoding</span><br />
-<a class="lnum" href="#216" name="216">0216</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;The&#0160;output&#0160;encoding.&#0160;Default:&#0160;utf-8.</span><br />
-<a class="lnum" href="#217" name="217">0217</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;fragment</span><br />
-<a class="lnum" href="#218" name="218">0218</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;Controls&#0160;whether&#0160;prologue&#0160;information&#0160;(such&#0160;as&#0160;&lt;?xml?&gt;</span><br />
-<a class="lnum" href="#219" name="219">0219</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;declaration&#0160;and&#0160;DOCTYPE&#0160;should&#0160;be&#0160;written).&#0160;Set&#0160;to&#0160;1</span><br />
-<a class="lnum" href="#220" name="220">0220</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;when&#0160;generating&#0160;fragments&#0160;meant&#0160;to&#0160;be&#0160;inserted&#0160;into</span><br />
-<a class="lnum" href="#221" name="221">0221</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;existing&#0160;XML&#0160;documents.</span><br />
-<a class="lnum" href="#222" name="222">0222</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;output</span><br />
-<a class="lnum" href="#223" name="223">0223</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;A&#0160;string&#0160;specifying&#0160;an&#0160;output&#0160;method&#0160;('xml',&#0160;'html',</span><br />
-<a class="lnum" href="#224" name="224">0224</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;'xhtml')&#0160;or&#0160;a&#0160;Serializer&#0160;object.</span><br />
-<a class="lnum" href="#225" name="225">0225</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#226" name="226">0226</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;This&#0160;is&#0160;a&#0160;convienence&#0160;method,&#0160;roughly&#0160;equivalent&#0160;to::</span><br />
-<a class="lnum" href="#227" name="227">0227</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#228" name="228">0228</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;''.join([x&#0160;for&#0160;x&#0160;in&#0160;obj.generate(encoding,&#0160;fragment,&#0160;output)]</span><br />
-<a class="lnum" href="#229" name="229">0229</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#230" name="230">0230</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;"""</span><br />
-<a class="lnum" href="#231" name="231">0231</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">serializer</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">_get_serializer</span><span class="op">(</span><span class="name">output</span><span class="op">)</span><br />
-<a class="lnum" href="#232" name="232">0232</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">serializer</span><span class="op">.</span><span class="name">serialize</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">,</span>&#0160;<span class="name">fragment</span><span class="op">)</span><br />
-<a class="lnum" href="#233" name="233">0233</a><br />
-<a class="lnum" href="#234" name="234">0234</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">generate</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">=</span><span class="name">None</span><span class="op">,</span>&#0160;<span class="name">fragment</span><span class="op">=</span><span class="number">0</span><span class="op">,</span>&#0160;<span class="name">output</span><span class="op">=</span><span class="name">None</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#235" name="235">0235</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">"""</span><br />
-<a class="lnum" href="#236" name="236">0236</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;Execute&#0160;template&#0160;and&#0160;generate&#0160;serialized&#0160;output&#0160;incrementally.</span><br />
-<a class="lnum" href="#237" name="237">0237</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#238" name="238">0238</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;This&#0160;method&#0160;returns&#0160;an&#0160;iterator&#0160;that&#0160;yields&#0160;an&#0160;encoded&#0160;string</span><br />
-<a class="lnum" href="#239" name="239">0239</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;for&#0160;each&#0160;iteration.&#0160;The&#0160;iteration&#0160;ends&#0160;when&#0160;the&#0160;template&#0160;is&#0160;done</span><br />
-<a class="lnum" href="#240" name="240">0240</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;executing.</span><br />
-<a class="lnum" href="#241" name="241">0241</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#242" name="242">0242</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;encoding</span><br />
-<a class="lnum" href="#243" name="243">0243</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;The&#0160;output&#0160;encoding.&#0160;Default:&#0160;utf-8.</span><br />
-<a class="lnum" href="#244" name="244">0244</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;fragment</span><br />
-<a class="lnum" href="#245" name="245">0245</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;Controls&#0160;whether&#0160;prologue&#0160;information&#0160;(such&#0160;as&#0160;&lt;?xml?&gt;</span><br />
-<a class="lnum" href="#246" name="246">0246</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;declaration&#0160;and&#0160;DOCTYPE&#0160;should&#0160;be&#0160;written).&#0160;Set&#0160;to&#0160;1</span><br />
-<a class="lnum" href="#247" name="247">0247</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;when&#0160;generating&#0160;fragments&#0160;meant&#0160;to&#0160;be&#0160;inserted&#0160;into</span><br />
-<a class="lnum" href="#248" name="248">0248</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;existing&#0160;XML&#0160;documents.</span><br />
-<a class="lnum" href="#249" name="249">0249</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;output</span><br />
-<a class="lnum" href="#250" name="250">0250</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;A&#0160;string&#0160;specifying&#0160;an&#0160;output&#0160;method&#0160;('xml',&#0160;'html',</span><br />
-<a class="lnum" href="#251" name="251">0251</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;'xhtml')&#0160;or&#0160;a&#0160;Serializer&#0160;object.</span><br />
-<a class="lnum" href="#252" name="252">0252</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;"""</span><br />
-<a class="lnum" href="#253" name="253">0253</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">serializer</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">_get_serializer</span><span class="op">(</span><span class="name">output</span><span class="op">)</span><br />
-<a class="lnum" href="#254" name="254">0254</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">serializer</span><span class="op">.</span><span class="name">generate</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">,</span>&#0160;<span class="name">fragment</span><span class="op">)</span><br />
-<a class="lnum" href="#255" name="255">0255</a><br />
-<a class="lnum" href="#256" name="256">0256</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">__iter__</span><span class="op">(</span><span class="name">self</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#257" name="257">0257</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">iter</span><span class="op">(</span><span class="name">self</span><span class="op">.</span><span class="name">transform</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><br />
-<a class="lnum" href="#258" name="258">0258</a><br />
-<a class="lnum" href="#259" name="259">0259</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">__str__</span><span class="op">(</span><span class="name">self</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#260" name="260">0260</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">serialize</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#261" name="261">0261</a><br />
-<a class="lnum" href="#262" name="262">0262</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">__unicode__</span><span class="op">(</span><span class="name">self</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#263" name="263">0263</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">unicode</span><span class="op">(</span><span class="name">self</span><span class="op">.</span><span class="name">serialize</span><span class="op">(</span><span class="name">encoding</span><span class="op">=</span><span class="string">'utf-16'</span><span class="op">)</span><span class="op">,</span>&#0160;<span class="string">'utf-16'</span><span class="op">)</span><br />
-<a class="lnum" href="#264" name="264">0264</a><br />
-<a class="lnum" href="#265" name="265">0265</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">initialize</span><span class="op">(</span><span class="name">self</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#266" name="266">0266</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">pass</span><br />
-<a class="lnum" href="#267" name="267">0267</a><br />
-<a class="lnum" href="#268" name="268">0268</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">pull</span><span class="op">(</span><span class="name">self</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#269" name="269">0269</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">"""Returns&#0160;an&#0160;iterator&#0160;over&#0160;the&#0160;items&#0160;in&#0160;this&#0160;template."""</span><br />
-<a class="lnum" href="#270" name="270">0270</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="comment">#&#0160;create&#0160;stream&#0160;and&#0160;apply&#0160;filters</span><br />
-<a class="lnum" href="#271" name="271">0271</a><span class="comment"></span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">initialize</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#272" name="272">0272</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">stream</span>&#0160;<span class="op">=</span>&#0160;<span class="name">ElementStream</span><span class="op">(</span><span class="name">_coalesce</span><span class="op">(</span><span class="name">self</span><span class="op">.</span><span class="name">content</span><span class="op">(</span><span class="op">)</span><span class="op">,</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">_get_assume_encoding</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><br />
-<a class="lnum" href="#273" name="273">0273</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">stream</span><br />
-<a class="lnum" href="#274" name="274">0274</a><br />
-<a class="lnum" href="#275" name="275">0275</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">_pull</span><span class="op">(</span><span class="name">self</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#276" name="276">0276</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">"""Generate&#0160;events&#0160;for&#0160;this&#0160;template.</span><br />
-<a class="lnum" href="#277" name="277">0277</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#278" name="278">0278</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;Compiled&#0160;templates&#0160;implement&#0160;this&#0160;method.</span><br />
-<a class="lnum" href="#279" name="279">0279</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;"""</span><br />
-<a class="lnum" href="#280" name="280">0280</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="op">[</span><span class="op">]</span><br />
-<a class="lnum" href="#281" name="281">0281</a><br />
-<a class="lnum" href="#282" name="282">0282</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">content</span><span class="op">(</span><span class="name">self</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#283" name="283">0283</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">from</span>&#0160;<span class="name">inspect</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">getmro</span><br />
-<a class="lnum" href="#284" name="284">0284</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">visited</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">_layout_classes</span><br />
-<a class="lnum" href="#285" name="285">0285</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">mro</span>&#0160;<span class="op">=</span>&#0160;<span class="name">list</span><span class="op">(</span><span class="name">getmro</span><span class="op">(</span><span class="name">self</span><span class="op">.</span><span class="name">__class__</span><span class="op">)</span><span class="op">)</span><br />
-<a class="lnum" href="#286" name="286">0286</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">mro</span><span class="op">.</span><span class="name">reverse</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#287" name="287">0287</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">c</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">mro</span><span class="op">:</span><br />
-<a class="lnum" href="#288" name="288">0288</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">c</span><span class="op">.</span><span class="name">__dict__</span><span class="op">.</span><span class="name">has_key</span><span class="op">(</span><span class="string">'layout'</span><span class="op">)</span>&#0160;<span class="keyword">and</span>&#0160;<span class="name">c</span>&#0160;<span class="keyword">not</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">visited</span><span class="op">:</span><br />
-<a class="lnum" href="#289" name="289">0289</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">visited</span><span class="op">.</span><span class="name">insert</span><span class="op">(</span><span class="number">0</span><span class="op">,</span>&#0160;<span class="name">c</span><span class="op">)</span><br />
-<a class="lnum" href="#290" name="290">0290</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">c</span><span class="op">.</span><span class="name">__dict__</span><span class="op">[</span><span class="string">'layout'</span><span class="op">]</span><span class="op">(</span><span class="name">self</span><span class="op">)</span><br />
-<a class="lnum" href="#291" name="291">0291</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">_pull</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#292" name="292">0292</a><br />
-<a class="lnum" href="#293" name="293">0293</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">transform</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">stream</span><span class="op">=</span><span class="name">None</span><span class="op">,</span>&#0160;<span class="name">filters</span><span class="op">=</span><span class="op">[</span><span class="op">]</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#294" name="294">0294</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">"""</span><br />
-<a class="lnum" href="#295" name="295">0295</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;Execute&#0160;the&#0160;template&#0160;and&#0160;apply&#0160;any&#0160;match&#0160;transformations.</span><br />
-<a class="lnum" href="#296" name="296">0296</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#297" name="297">0297</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;If&#0160;stream&#0160;is&#0160;specified,&#0160;it&#0160;must&#0160;be&#0160;one&#0160;of&#0160;the&#0160;following:</span><br />
-<a class="lnum" href="#298" name="298">0298</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#299" name="299">0299</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;Element</span><br />
-<a class="lnum" href="#300" name="300">0300</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;An&#0160;ElementTree&#0160;Element.</span><br />
-<a class="lnum" href="#301" name="301">0301</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;ElementStream</span><br />
-<a class="lnum" href="#302" name="302">0302</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;An&#0160;`pull.ElementStream`&#0160;instance&#0160;or&#0160;other&#0160;iterator&#0160;that&#0160;yields</span><br />
-<a class="lnum" href="#303" name="303">0303</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;stream&#0160;events.</span><br />
-<a class="lnum" href="#304" name="304">0304</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;string</span><br />
-<a class="lnum" href="#305" name="305">0305</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;A&#0160;file&#0160;or&#0160;URL&#0160;unless&#0160;the&#0160;string&#0160;starts&#0160;with</span><br />
-<a class="lnum" href="#306" name="306">0306</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;'&lt;'&#0160;in&#0160;which&#0160;case&#0160;it&#0160;is&#0160;considered&#0160;an&#0160;XML&#0160;document</span><br />
-<a class="lnum" href="#307" name="307">0307</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;and&#0160;processed&#0160;as&#0160;if&#0160;it&#0160;had&#0160;been&#0160;an&#0160;Element.</span><br />
-<a class="lnum" href="#308" name="308">0308</a><span class="string"></span><br />
-<a class="lnum" href="#309" name="309">0309</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;By&#0160;default,&#0160;the&#0160;`pull`&#0160;method&#0160;is&#0160;called&#0160;to&#0160;obtain&#0160;the&#0160;stream.</span><br />
-<a class="lnum" href="#310" name="310">0310</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;"""</span><br />
-<a class="lnum" href="#311" name="311">0311</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">stream</span>&#0160;<span class="keyword">is</span>&#0160;<span class="name">None</span><span class="op">:</span><br />
-<a class="lnum" href="#312" name="312">0312</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">stream</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">pull</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#313" name="313">0313</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">elif</span>&#0160;<span class="name">isinstance</span><span class="op">(</span><span class="name">stream</span><span class="op">,</span>&#0160;<span class="op">(</span><span class="name">str</span><span class="op">,</span>&#0160;<span class="name">unicode</span><span class="op">)</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#314" name="314">0314</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">xml_sniff</span><span class="op">(</span><span class="name">stream</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#315" name="315">0315</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">stream</span>&#0160;<span class="op">=</span>&#0160;<span class="name">XML</span><span class="op">(</span><span class="name">stream</span><span class="op">,</span>&#0160;<span class="name">fragment</span><span class="op">=</span><span class="number">0</span><span class="op">)</span><br />
-<a class="lnum" href="#316" name="316">0316</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#317" name="317">0317</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">stream</span>&#0160;<span class="op">=</span>&#0160;<span class="name">document</span><span class="op">(</span><span class="name">stream</span><span class="op">)</span><br />
-<a class="lnum" href="#318" name="318">0318</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">elif</span>&#0160;<span class="name">hasattr</span><span class="op">(</span><span class="name">stream</span><span class="op">,</span>&#0160;<span class="string">'tag'</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#319" name="319">0319</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">stream</span>&#0160;<span class="op">=</span>&#0160;<span class="name">ElementStream</span><span class="op">(</span><span class="name">stream</span><span class="op">)</span><br />
-<a class="lnum" href="#320" name="320">0320</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#321" name="321">0321</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">stream</span>&#0160;<span class="op">=</span>&#0160;<span class="name">ElementStream</span><span class="op">.</span><span class="name">ensure</span><span class="op">(</span><span class="name">stream</span><span class="op">)</span><br />
-<a class="lnum" href="#322" name="322">0322</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">f</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">filters</span>&#0160;<span class="op">+</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">_filters</span><span class="op">:</span><br />
-<a class="lnum" href="#323" name="323">0323</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">stream</span>&#0160;<span class="op">=</span>&#0160;<span class="name">f</span><span class="op">(</span><span class="name">stream</span><span class="op">,</span>&#0160;<span class="name">self</span><span class="op">)</span><br />
-<a class="lnum" href="#324" name="324">0324</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">stream</span><br />
-<a class="lnum" href="#325" name="325">0325</a><br />
-<a class="lnum" href="#326" name="326">0326</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">_get_match_templates</span><span class="op">(</span><span class="name">self</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#327" name="327">0327</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="comment">#&#0160;XXX:&#0160;use&#0160;inspect&#0160;instead&#0160;of&#0160;accessing&#0160;__mro__&#0160;directly</span><br />
-<a class="lnum" href="#328" name="328">0328</a><span class="comment"></span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">try</span><span class="op">:</span><br />
-<a class="lnum" href="#329" name="329">0329</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">rslt</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">_match_templates_cached</span><br />
-<a class="lnum" href="#330" name="330">0330</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">except</span>&#0160;<span class="name">AttributeError</span><span class="op">:</span><br />
-<a class="lnum" href="#331" name="331">0331</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">rslt</span>&#0160;<span class="op">=</span>&#0160;<span class="op">[</span><span class="op">]</span><br />
-<a class="lnum" href="#332" name="332">0332</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">mro</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">__class__</span><span class="op">.</span><span class="name">__mro__</span><br />
-<a class="lnum" href="#333" name="333">0333</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">C</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">mro</span><span class="op">:</span><br />
-<a class="lnum" href="#334" name="334">0334</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">try</span><span class="op">:</span><br />
-<a class="lnum" href="#335" name="335">0335</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">templates</span>&#0160;<span class="op">=</span>&#0160;<span class="name">C</span><span class="op">.</span><span class="name">_match_templates</span><br />
-<a class="lnum" href="#336" name="336">0336</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">except</span>&#0160;<span class="name">AttributeError</span><span class="op">:</span><br />
-<a class="lnum" href="#337" name="337">0337</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">continue</span><br />
-<a class="lnum" href="#338" name="338">0338</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">rslt</span>&#0160;<span class="op">+=</span>&#0160;<span class="name">templates</span><br />
-<a class="lnum" href="#339" name="339">0339</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">_match_templates_cached</span>&#0160;<span class="op">=</span>&#0160;<span class="name">rslt</span><br />
-<a class="lnum" href="#340" name="340">0340</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">rslt</span><br />
-<a class="lnum" href="#341" name="341">0341</a><br />
-<a class="lnum" href="#342" name="342">0342</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">_get_serializer</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">serializer</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#343" name="343">0343</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">serializer</span>&#0160;<span class="keyword">is</span>&#0160;<span class="name">None</span><span class="op">:</span><br />
-<a class="lnum" href="#344" name="344">0344</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">serializer</span><br />
-<a class="lnum" href="#345" name="345">0345</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">elif</span>&#0160;<span class="name">isinstance</span><span class="op">(</span><span class="name">serializer</span><span class="op">,</span>&#0160;<span class="op">(</span><span class="name">str</span><span class="op">,</span>&#0160;<span class="name">unicode</span><span class="op">)</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#346" name="346">0346</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">output_methods</span><span class="op">[</span><span class="name">serializer</span><span class="op">]</span><br />
-<a class="lnum" href="#347" name="347">0347</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#348" name="348">0348</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">serializer</span><br />
-<a class="lnum" href="#349" name="349">0349</a><br />
-<a class="lnum" href="#350" name="350">0350</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">_get_assume_encoding</span><span class="op">(</span><span class="name">self</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#351" name="351">0351</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">global</span>&#0160;<span class="name">assume_encoding</span><br />
-<a class="lnum" href="#352" name="352">0352</a><br />
-<a class="lnum" href="#353" name="353">0353</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">hasattr</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="string">"assume_encoding"</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#354" name="354">0354</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">assume_encoding</span><br />
-<a class="lnum" href="#355" name="355">0355</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#356" name="356">0356</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">assume_encoding</span><br />
-<a class="lnum" href="#357" name="357">0357</a><br />
-<a class="lnum" href="#358" name="358">0358</a><span class="keyword">class</span>&#0160;<span class="name">TemplatePath</span><span class="op">(</span><span class="name">object</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#359" name="359">0359</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">__init__</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">paths</span><span class="op">=</span><span class="name">None</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#360" name="360">0360</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">from</span>&#0160;<span class="name">os</span><span class="op">.</span><span class="name">path</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">normpath</span><span class="op">,</span>&#0160;<span class="name">expanduser</span><span class="op">,</span>&#0160;<span class="name">abspath</span><br />
-<a class="lnum" href="#361" name="361">0361</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">isinstance</span><span class="op">(</span><span class="name">paths</span><span class="op">,</span>&#0160;<span class="op">(</span><span class="name">str</span><span class="op">,</span>&#0160;<span class="name">unicode</span><span class="op">)</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#362" name="362">0362</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">paths</span>&#0160;<span class="op">=</span>&#0160;<span class="op">[</span><span class="name">paths</span><span class="op">]</span><br />
-<a class="lnum" href="#363" name="363">0363</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">elif</span>&#0160;<span class="name">paths</span>&#0160;<span class="keyword">is</span>&#0160;<span class="name">None</span><span class="op">:</span><br />
-<a class="lnum" href="#364" name="364">0364</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">paths</span>&#0160;<span class="op">=</span>&#0160;<span class="op">[</span><span class="op">]</span><br />
-<a class="lnum" href="#365" name="365">0365</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">paths</span>&#0160;<span class="op">+=</span>&#0160;<span class="op">[</span><span class="name">os</span><span class="op">.</span><span class="name">getcwd</span><span class="op">(</span><span class="op">)</span><span class="op">,</span>&#0160;<span class="string">'/'</span><span class="op">]</span><br />
-<a class="lnum" href="#366" name="366">0366</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">paths</span>&#0160;<span class="op">=</span>&#0160;<span class="op">[</span><span class="name">abspath</span><span class="op">(</span><span class="name">normpath</span><span class="op">(</span><span class="name">expanduser</span><span class="op">(</span><span class="name">p</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>&#0160;<span class="keyword">for</span>&#0160;<span class="name">p</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">paths</span><span class="op">]</span><br />
-<a class="lnum" href="#367" name="367">0367</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">cache</span>&#0160;<span class="op">=</span>&#0160;<span class="op">{</span><span class="op">}</span><br />
-<a class="lnum" href="#368" name="368">0368</a><br />
-<a class="lnum" href="#369" name="369">0369</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">relativize</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">file</span><span class="op">,</span>&#0160;<span class="name">path</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#370" name="370">0370</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">from</span>&#0160;<span class="name">os</span><span class="op">.</span><span class="name">path</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">normpath</span><span class="op">,</span>&#0160;<span class="name">join</span><span class="op">,</span>&#0160;<span class="name">dirname</span><span class="op">,</span>&#0160;<span class="name">abspath</span><span class="op">,</span>&#0160;<span class="name">split</span><span class="op">,</span>&#0160;<span class="name">sep</span><br />
-<a class="lnum" href="#371" name="371">0371</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">head</span><span class="op">,</span>&#0160;<span class="name">tail</span>&#0160;<span class="op">=</span>&#0160;<span class="op">(</span><span class="name">dirname</span><span class="op">(</span><span class="name">abspath</span><span class="op">(</span><span class="name">file</span><span class="op">)</span><span class="op">)</span><span class="op">,</span>&#0160;<span class="string">''</span><span class="op">)</span><br />
-<a class="lnum" href="#372" name="372">0372</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">parts</span>&#0160;<span class="op">=</span>&#0160;<span class="name">path</span><span class="op">.</span><span class="name">split</span><span class="op">(</span><span class="name">sep</span><span class="op">)</span><br />
-<a class="lnum" href="#373" name="373">0373</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">paths</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">paths</span><br />
-<a class="lnum" href="#374" name="374">0374</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">while</span>&#0160;<span class="number">1</span><span class="op">:</span><br />
-<a class="lnum" href="#375" name="375">0375</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">head</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">paths</span>&#0160;<span class="keyword">or</span>&#0160;<span class="name">head</span>&#0160;<span class="op">==</span>&#0160;<span class="string">'/'</span><span class="op">:</span><br />
-<a class="lnum" href="#376" name="376">0376</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">join</span><span class="op">(</span><span class="op">*</span><span class="name">parts</span><span class="op">)</span><br />
-<a class="lnum" href="#377" name="377">0377</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">head</span><span class="op">,</span>&#0160;<span class="name">tail</span>&#0160;<span class="op">=</span>&#0160;<span class="name">split</span><span class="op">(</span><span class="name">head</span><span class="op">)</span><br />
-<a class="lnum" href="#378" name="378">0378</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">parts</span><span class="op">.</span><span class="name">insert</span><span class="op">(</span><span class="number">0</span><span class="op">,</span>&#0160;<span class="name">tail</span><span class="op">)</span><br />
-<a class="lnum" href="#379" name="379">0379</a><br />
-<a class="lnum" href="#380" name="380">0380</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">insert</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">path</span><span class="op">,</span>&#0160;<span class="name">pos</span><span class="op">=</span><span class="number">0</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#381" name="381">0381</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">from</span>&#0160;<span class="name">os</span><span class="op">.</span><span class="name">path</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">normpath</span><span class="op">,</span>&#0160;<span class="name">expanduser</span><span class="op">,</span>&#0160;<span class="name">abspath</span><br />
-<a class="lnum" href="#382" name="382">0382</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">paths</span><span class="op">.</span><span class="name">insert</span><span class="op">(</span><span class="name">pos</span><span class="op">,</span>&#0160;<span class="name">abspath</span><span class="op">(</span><span class="name">normpath</span><span class="op">(</span><span class="name">expanduser</span><span class="op">(</span><span class="name">path</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><br />
-<a class="lnum" href="#383" name="383">0383</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">cache</span>&#0160;<span class="op">=</span>&#0160;<span class="op">{</span><span class="op">}</span><br />
-<a class="lnum" href="#384" name="384">0384</a><br />
-<a class="lnum" href="#385" name="385">0385</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">append</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">path</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#386" name="386">0386</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">insert</span><span class="op">(</span><span class="name">path</span><span class="op">,</span>&#0160;<span class="name">len</span><span class="op">(</span><span class="name">self</span><span class="op">.</span><span class="name">paths</span><span class="op">)</span><span class="op">)</span><br />
-<a class="lnum" href="#387" name="387">0387</a><br />
-<a class="lnum" href="#388" name="388">0388</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">find</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">path</span><span class="op">,</span>&#0160;<span class="name">rel</span><span class="op">=</span><span class="name">None</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#389" name="389">0389</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">cache</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">cache</span><br />
-<a class="lnum" href="#390" name="390">0390</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">from</span>&#0160;<span class="name">os</span><span class="op">.</span><span class="name">path</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">normpath</span><span class="op">,</span>&#0160;<span class="name">join</span><span class="op">,</span>&#0160;<span class="name">exists</span><br />
-<a class="lnum" href="#391" name="391">0391</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">path</span>&#0160;<span class="op">=</span>&#0160;<span class="name">normpath</span><span class="op">(</span><span class="name">path</span><span class="op">)</span><br />
-<a class="lnum" href="#392" name="392">0392</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">rel</span><span class="op">:</span><br />
-<a class="lnum" href="#393" name="393">0393</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">path</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">relativize</span><span class="op">(</span><span class="name">rel</span><span class="op">,</span>&#0160;<span class="name">path</span><span class="op">)</span><br />
-<a class="lnum" href="#394" name="394">0394</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">path</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">cache</span><span class="op">:</span><br />
-<a class="lnum" href="#395" name="395">0395</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">cache</span><span class="op">[</span><span class="name">path</span><span class="op">]</span><br />
-<a class="lnum" href="#396" name="396">0396</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">p</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">paths</span><span class="op">:</span><br />
-<a class="lnum" href="#397" name="397">0397</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">p</span>&#0160;<span class="op">=</span>&#0160;<span class="name">join</span><span class="op">(</span><span class="name">p</span><span class="op">,</span>&#0160;<span class="name">path</span><span class="op">)</span><br />
-<a class="lnum" href="#398" name="398">0398</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">exists</span><span class="op">(</span><span class="name">p</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#399" name="399">0399</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">p</span><br />
-<a class="lnum" href="#400" name="400">0400</a><br />
-<a class="lnum" href="#401" name="401">0401</a><span class="name">path</span>&#0160;<span class="op">=</span>&#0160;<span class="name">TemplatePath</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#402" name="402">0402</a><br />
-<a class="lnum" href="#403" name="403">0403</a><span class="name">__all__</span>&#0160;<span class="op">=</span>&#0160;<span class="op">[</span><span class="string">'KID_XMLNS'</span><span class="op">,</span>&#0160;<span class="string">'BaseTemplate'</span><span class="op">,</span>&#0160;<span class="string">'Template'</span><span class="op">,</span><br />
-<a class="lnum" href="#404" name="404">0404</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">'enable_import'</span><span class="op">,</span>&#0160;<span class="string">'import_template'</span><span class="op">,</span>&#0160;<span class="string">'load_template'</span><span class="op">,</span><br />
-<a class="lnum" href="#405" name="405">0405</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">'Element'</span><span class="op">,</span>&#0160;<span class="string">'SubElement'</span><span class="op">,</span>&#0160;<span class="string">'XML'</span><span class="op">,</span>&#0160;<span class="string">'document'</span><span class="op">,</span>&#0160;<span class="string">'Namespace'</span><span class="op">,</span><br />
-<a class="lnum" href="#406" name="406">0406</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">'Serializer'</span><span class="op">,</span>&#0160;<span class="string">'XMLSerializer'</span><span class="op">,</span>&#0160;<span class="string">'HTMLSerializer'</span><span class="op">,</span>&#0160;<span class="string">'XHTMLSerializer'</span><span class="op">,</span>&#0160;<span class="string">'output_methods'</span><span class="op">,</span><br />
-<a class="lnum" href="#407" name="407">0407</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">'filter'</span><span class="op">,</span>&#0160;<span class="string">'namespace'</span><span class="op">,</span>&#0160;<span class="string">'serialization'</span><span class="op">,</span>&#0160;<span class="string">'util'</span><span class="op">]</span></code></div></body></html>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/kid/namespace.py.html kid-0.8svn249/doc/html/kid/namespace.py.html
--- kid-0.8/doc/html/kid/namespace.py.html	2005-11-14 05:29:27.000000000 -0500
+++ kid-0.8svn249/doc/html/kid/namespace.py.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,104 +0,0 @@
-<html><head><title>/Users/rtomayko/devel/python/kid.trunk/kid/namespace.py</title>
-        <script type="text/javascript">
-        
-function show_line_range() {
-    var href = document.location.href;
-    if (href.indexOf('?') == -1) {
-        return;
-    }
-    var qs = href.substring(href.indexOf('?')+1);
-    if (qs.indexOf('#') >= 0) {
-        qs = qs.substring(0, qs.indexOf('#'));
-    }
-    var first = qs.match(/f=(\d+)/)[1];
-    var last = qs.match(/l=(\d+)/)[1];
-    if (! first || ! last) {
-        return;
-    }
-    var anchors = document.getElementsByTagName('A');
-    var highlight = false;
-    for (var i = 0; i < anchors.length; i++) {
-        var el = anchors[i];
-        if (el.getAttribute('name') == first) {
-            highlight = true;
-        }
-        if (el.getAttribute('name') == last) {
-            break;
-        }
-        if (highlight) {
-            el = el.nextSibling;
-            while (el && el.tagName != 'A') {
-                if (typeof(el.style) != 'undefined') {
-                    el.style.backgroundColor = '#ff9';
-                }
-                el = el.nextSibling;
-            }
-        }
-    }
-}
-
-        </script>
-        <style>
-        div.python {
-          color: #333
-        }
-        div.python a.lnum {
-          color: #555;
-          background-color: #eee;
-          border-right: 1px solid #999;
-          padding-right: 2px;
-          margin-right: 4px;
-        }
-        div.python span.comment { color: #933 }
-        div.python span.keyword { color: #a3e; font-weight: bold  }
-        div.python span.op { color: #c96 }
-        div.python span.string { color: #6a6 }
-        div.python span.name { }
-        div.python span.text { color: #333 }
-
-        </style></head><body onload="show_line_range()"><div class="python"><code><a class="lnum" href="#1" name="1">0001</a><span class="name">namespaces</span>&#0160;<span class="op">=</span>&#0160;<span class="op">{</span><span class="op">}</span><br />
-<a class="lnum" href="#2" name="2">0002</a><br />
-<a class="lnum" href="#3" name="3">0003</a><span class="keyword">class</span>&#0160;<span class="name">Namespace</span><span class="op">(</span><span class="name">object</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#4" name="4">0004</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">__init__</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">uri</span><span class="op">,</span>&#0160;<span class="name">prefix</span><span class="op">=</span><span class="name">None</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#5" name="5">0005</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">uri</span>&#0160;<span class="op">=</span>&#0160;<span class="name">uri</span><br />
-<a class="lnum" href="#6" name="6">0006</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">prefix</span>&#0160;<span class="op">=</span>&#0160;<span class="name">prefix</span><br />
-<a class="lnum" href="#7" name="7">0007</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">prefix</span><span class="op">:</span><br />
-<a class="lnum" href="#8" name="8">0008</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">namespaces</span><span class="op">[</span><span class="name">uri</span><span class="op">]</span>&#0160;<span class="op">=</span>&#0160;<span class="name">prefix</span><br />
-<a class="lnum" href="#9" name="9">0009</a><br />
-<a class="lnum" href="#10" name="10">0010</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">qname</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">name</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#11" name="11">0011</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">prefix</span><span class="op">:</span><br />
-<a class="lnum" href="#12" name="12">0012</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">prefix</span>&#0160;<span class="op">+</span>&#0160;<span class="string">':'</span>&#0160;<span class="op">+</span>&#0160;<span class="name">name</span><br />
-<a class="lnum" href="#13" name="13">0013</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#14" name="14">0014</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">name</span><br />
-<a class="lnum" href="#15" name="15">0015</a><br />
-<a class="lnum" href="#16" name="16">0016</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">clarkname</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">name</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#17" name="17">0017</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">uri</span><span class="op">:</span><br />
-<a class="lnum" href="#18" name="18">0018</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="string">'{%s}%s'</span>&#0160;<span class="op">%</span>&#0160;<span class="op">(</span><span class="name">self</span><span class="op">.</span><span class="name">uri</span><span class="op">,</span>&#0160;<span class="name">name</span><span class="op">)</span><br />
-<a class="lnum" href="#19" name="19">0019</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#20" name="20">0020</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">name</span><br />
-<a class="lnum" href="#21" name="21">0021</a><br />
-<a class="lnum" href="#22" name="22">0022</a>&#0160;&#0160;&#0160;&#0160;<span class="name">__getattr__</span>&#0160;<span class="op">=</span>&#0160;<span class="name">clarkname</span><br />
-<a class="lnum" href="#23" name="23">0023</a>&#0160;&#0160;&#0160;&#0160;<span class="name">__getitem__</span>&#0160;<span class="op">=</span>&#0160;<span class="name">clarkname</span><br />
-<a class="lnum" href="#24" name="24">0024</a><br />
-<a class="lnum" href="#25" name="25">0025</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">__str__</span><span class="op">(</span><span class="name">self</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#26" name="26">0026</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">uri</span><br />
-<a class="lnum" href="#27" name="27">0027</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">__unicode__</span><span class="op">(</span><span class="name">self</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#28" name="28">0028</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">unicode</span><span class="op">(</span><span class="name">self</span><span class="op">.</span><span class="name">uri</span><span class="op">)</span><br />
-<a class="lnum" href="#29" name="29">0029</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">__repr__</span><span class="op">(</span><span class="name">self</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#30" name="30">0030</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="string">'Namespace(%r,&#0160;%r)'</span>&#0160;<span class="op">%</span>&#0160;<span class="op">(</span><span class="name">self</span><span class="op">.</span><span class="name">uri</span><span class="op">,</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">prefix</span><span class="op">)</span><br />
-<a class="lnum" href="#31" name="31">0031</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">__equals__</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">other</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#32" name="32">0032</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">isinstance</span><span class="op">(</span><span class="name">other</span><span class="op">,</span>&#0160;<span class="op">(</span><span class="name">str</span><span class="op">,</span>&#0160;<span class="name">unicode</span><span class="op">)</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#33" name="33">0033</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">uri</span>&#0160;<span class="op">==</span>&#0160;<span class="name">other</span><br />
-<a class="lnum" href="#34" name="34">0034</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">elif</span>&#0160;<span class="name">isinstance</span><span class="op">(</span><span class="name">other</span><span class="op">,</span>&#0160;<span class="name">Namespace</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#35" name="35">0035</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">uri</span>&#0160;<span class="op">==</span>&#0160;<span class="name">other</span><span class="op">.</span><span class="name">uri</span><br />
-<a class="lnum" href="#36" name="36">0036</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#37" name="37">0037</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="number">0</span><br />
-<a class="lnum" href="#38" name="38">0038</a><br />
-<a class="lnum" href="#39" name="39">0039</a><span class="name">xml</span>&#0160;<span class="op">=</span>&#0160;<span class="name">Namespace</span><span class="op">(</span><span class="string">'http://www.w3.org/XML/1998/namespace'</span><span class="op">,</span>&#0160;<span class="string">'xml'</span><span class="op">)</span><br />
-<a class="lnum" href="#40" name="40">0040</a><span class="name">xhtml</span>&#0160;<span class="op">=</span>&#0160;<span class="name">Namespace</span><span class="op">(</span><span class="string">'http://www.w3.org/1999/xhtml'</span><span class="op">,</span>&#0160;<span class="string">'html'</span><span class="op">)</span><br />
-<a class="lnum" href="#41" name="41">0041</a><span class="name">atom</span>&#0160;<span class="op">=</span>&#0160;<span class="name">Namespace</span><span class="op">(</span><span class="string">'http://purl.org/atom/ns#'</span><span class="op">,</span>&#0160;<span class="string">'atom'</span><span class="op">)</span><br />
-<a class="lnum" href="#42" name="42">0042</a><span class="name">rdf</span>&#0160;<span class="op">=</span>&#0160;<span class="name">Namespace</span><span class="op">(</span><span class="string">'http://www.w3.org/1999/02/22-rdf-syntax-ns#'</span><span class="op">,</span>&#0160;<span class="string">'rdf'</span><span class="op">)</span><br />
-<a class="lnum" href="#43" name="43">0043</a><span class="name">rss</span>&#0160;<span class="op">=</span>&#0160;<span class="name">Namespace</span><span class="op">(</span><span class="string">'http://purl.org/rss/1.0/'</span><span class="op">,</span>&#0160;<span class="string">'rss'</span><span class="op">)</span><br />
-<a class="lnum" href="#44" name="44">0044</a><span class="name">nons</span>&#0160;<span class="op">=</span>&#0160;<span class="name">Namespace</span><span class="op">(</span><span class="name">None</span><span class="op">,</span>&#0160;<span class="name">None</span><span class="op">)</span><br />
-<a class="lnum" href="#45" name="45">0045</a><br />
-<a class="lnum" href="#46" name="46">0046</a><span class="name">__all__</span>&#0160;<span class="op">=</span>&#0160;<span class="op">[</span><span class="string">'xml'</span><span class="op">,</span>&#0160;<span class="string">'xhtml'</span><span class="op">,</span>&#0160;<span class="string">'atom'</span><span class="op">,</span>&#0160;<span class="string">'rdf'</span><span class="op">,</span>&#0160;<span class="string">'rss'</span><span class="op">,</span>&#0160;<span class="string">'nons'</span><span class="op">,</span>&#0160;<span class="string">'Namespace'</span><span class="op">]</span></code></div></body></html>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/kid/serialization.py.html kid-0.8svn249/doc/html/kid/serialization.py.html
--- kid-0.8/doc/html/kid/serialization.py.html	2005-12-02 03:01:01.000000000 -0500
+++ kid-0.8svn249/doc/html/kid/serialization.py.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,585 +0,0 @@
-<html><head><title>/Users/rtomayko/devel/python/kid.trunk/kid/serialization.py</title>
-        <script type="text/javascript">
-        
-function show_line_range() {
-    var href = document.location.href;
-    if (href.indexOf('?') == -1) {
-        return;
-    }
-    var qs = href.substring(href.indexOf('?')+1);
-    if (qs.indexOf('#') >= 0) {
-        qs = qs.substring(0, qs.indexOf('#'));
-    }
-    var first = qs.match(/f=(\d+)/)[1];
-    var last = qs.match(/l=(\d+)/)[1];
-    if (! first || ! last) {
-        return;
-    }
-    var anchors = document.getElementsByTagName('A');
-    var highlight = false;
-    for (var i = 0; i < anchors.length; i++) {
-        var el = anchors[i];
-        if (el.getAttribute('name') == first) {
-            highlight = true;
-        }
-        if (el.getAttribute('name') == last) {
-            break;
-        }
-        if (highlight) {
-            el = el.nextSibling;
-            while (el && el.tagName != 'A') {
-                if (typeof(el.style) != 'undefined') {
-                    el.style.backgroundColor = '#ff9';
-                }
-                el = el.nextSibling;
-            }
-        }
-    }
-}
-
-        </script>
-        <style>
-        div.python {
-          color: #333
-        }
-        div.python a.lnum {
-          color: #555;
-          background-color: #eee;
-          border-right: 1px solid #999;
-          padding-right: 2px;
-          margin-right: 4px;
-        }
-        div.python span.comment { color: #933 }
-        div.python span.keyword { color: #a3e; font-weight: bold  }
-        div.python span.op { color: #c96 }
-        div.python span.string { color: #6a6 }
-        div.python span.name { }
-        div.python span.text { color: #333 }
-
-        </style></head><body onload="show_line_range()"><div class="python"><code><a class="lnum" href="#1" name="1">0001</a><span class="string">"""Infoset&#0160;serialization&#0160;formats&#0160;(XML,&#0160;XHTML,&#0160;HTML,&#0160;etc)"""</span><br />
-<a class="lnum" href="#2" name="2">0002</a><br />
-<a class="lnum" href="#3" name="3">0003</a><span class="keyword">from</span>&#0160;<span class="name">__future__</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">generators</span><br />
-<a class="lnum" href="#4" name="4">0004</a><br />
-<a class="lnum" href="#5" name="5">0005</a><span class="name">__revision__</span>&#0160;<span class="op">=</span>&#0160;<span class="string">"$Rev$"</span><br />
-<a class="lnum" href="#6" name="6">0006</a><span class="name">__date__</span>&#0160;<span class="op">=</span>&#0160;<span class="string">"$Date:&#0160;2005-02-16&#0160;15:43:38&#0160;-0500&#0160;(Wed,&#0160;16&#0160;Feb&#0160;2005)&#0160;$"</span><br />
-<a class="lnum" href="#7" name="7">0007</a><span class="name">__author__</span>&#0160;<span class="op">=</span>&#0160;<span class="string">"Ryan&#0160;Tomayko&#0160;(rtomayko@gmail.com)"</span><br />
-<a class="lnum" href="#8" name="8">0008</a><span class="name">__copyright__</span>&#0160;<span class="op">=</span>&#0160;<span class="string">"Copyright&#0160;2004-2005,&#0160;Ryan&#0160;Tomayko"</span><br />
-<a class="lnum" href="#9" name="9">0009</a><span class="name">__license__</span>&#0160;<span class="op">=</span>&#0160;<span class="string">"MIT&#0160;&lt;http://www.opensource.org/licenses/mit-license.php&gt;"</span><br />
-<a class="lnum" href="#10" name="10">0010</a><br />
-<a class="lnum" href="#11" name="11">0011</a><span class="keyword">import</span>&#0160;<span class="name">re</span><br />
-<a class="lnum" href="#12" name="12">0012</a><br />
-<a class="lnum" href="#13" name="13">0013</a><span class="keyword">from</span>&#0160;<span class="name">kid</span><span class="op">.</span><span class="name">et</span>&#0160;<span class="keyword">import</span>&#0160;<span class="op">*</span><br />
-<a class="lnum" href="#14" name="14">0014</a><span class="keyword">from</span>&#0160;<span class="name">kid</span><span class="op">.</span><span class="name">pull</span>&#0160;<span class="keyword">import</span>&#0160;<span class="op">*</span><br />
-<a class="lnum" href="#15" name="15">0015</a><span class="keyword">from</span>&#0160;<span class="name">kid</span><span class="op">.</span><span class="name">pull</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">_coalesce</span><br />
-<a class="lnum" href="#16" name="16">0016</a><br />
-<a class="lnum" href="#17" name="17">0017</a><span class="comment">#&#0160;bring&#0160;in&#0160;well&#0160;known&#0160;namespaces</span><br />
-<a class="lnum" href="#18" name="18">0018</a><span class="comment"></span><span class="keyword">import</span>&#0160;<span class="name">kid</span><span class="op">.</span><span class="name">namespace</span>&#0160;<span class="name">as</span>&#0160;<span class="name">namespace</span><br />
-<a class="lnum" href="#19" name="19">0019</a><br />
-<a class="lnum" href="#20" name="20">0020</a><span class="name">__all__</span>&#0160;<span class="op">=</span>&#0160;<span class="op">[</span><span class="string">'doctypes'</span><span class="op">,</span>&#0160;<span class="string">'Serializer'</span><span class="op">,</span>&#0160;<span class="string">'XMLSerializer'</span><span class="op">,</span>&#0160;<span class="string">'HTMLSerializer'</span><span class="op">]</span><br />
-<a class="lnum" href="#21" name="21">0021</a><br />
-<a class="lnum" href="#22" name="22">0022</a><span class="comment">#&#0160;some&#0160;doctypes.&#0160;you&#0160;can&#0160;pass&#0160;strings&#0160;from&#0160;here&#0160;or&#0160;doctype&#0160;tuples&#0160;to</span><br />
-<a class="lnum" href="#23" name="23">0023</a><span class="comment"></span><span class="comment">#&#0160;Serializers</span><br />
-<a class="lnum" href="#24" name="24">0024</a><span class="comment"></span><span class="name">doctypes</span>&#0160;<span class="op">=</span>&#0160;<span class="op">{</span><br />
-<a class="lnum" href="#25" name="25">0025</a>&#0160;&#0160;&#0160;&#0160;<span class="string">'html-strict'</span>&#0160;&#0160;<span class="op">:</span>&#0160;<span class="op">(</span><span class="string">'HTML'</span><span class="op">,</span>&#0160;<span class="string">'-//W3C//DTD&#0160;HTML&#0160;4.01//EN'</span><span class="op">,</span><br />
-<a class="lnum" href="#26" name="26">0026</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">'http://www.w3.org/TR/html4/strict.dtd'</span><span class="op">)</span><span class="op">,</span><br />
-<a class="lnum" href="#27" name="27">0027</a>&#0160;&#0160;&#0160;&#0160;<span class="string">'html'</span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="op">:</span>&#0160;<span class="op">(</span><span class="string">'HTML'</span><span class="op">,</span>&#0160;<span class="string">'-//W3C//DTD&#0160;HTML&#0160;4.01&#0160;Transitional//EN'</span><span class="op">,</span><br />
-<a class="lnum" href="#28" name="28">0028</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">'http://www.w3.org/TR/html4/loose.dtd'</span><span class="op">)</span><span class="op">,</span><br />
-<a class="lnum" href="#29" name="29">0029</a>&#0160;&#0160;&#0160;&#0160;<span class="string">'xhtml-strict'</span>&#0160;<span class="op">:</span>&#0160;<span class="op">(</span><span class="string">'html'</span><span class="op">,</span>&#0160;<span class="string">'-//W3C//DTD&#0160;XHTML&#0160;1.0&#0160;Strict//EN'</span><span class="op">,</span><br />
-<a class="lnum" href="#30" name="30">0030</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'</span><span class="op">)</span><span class="op">,</span><br />
-<a class="lnum" href="#31" name="31">0031</a>&#0160;&#0160;&#0160;&#0160;<span class="string">'xhtml'</span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="op">:</span>&#0160;<span class="op">(</span><span class="string">'html'</span><span class="op">,</span>&#0160;<span class="string">'-//W3C//DTD&#0160;XHTML&#0160;1.0&#0160;Transitional//EN'</span><span class="op">,</span><br />
-<a class="lnum" href="#32" name="32">0032</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'</span><span class="op">)</span>&#0160;<span class="op">}</span><br />
-<a class="lnum" href="#33" name="33">0033</a><br />
-<a class="lnum" href="#34" name="34">0034</a><br />
-<a class="lnum" href="#35" name="35">0035</a><span class="keyword">class</span>&#0160;<span class="name">Serializer</span><span class="op">(</span><span class="name">object</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#36" name="36">0036</a><br />
-<a class="lnum" href="#37" name="37">0037</a>&#0160;&#0160;&#0160;&#0160;<span class="name">namespaces</span>&#0160;<span class="op">=</span>&#0160;<span class="name">namespace</span><span class="op">.</span><span class="name">namespaces</span><br />
-<a class="lnum" href="#38" name="38">0038</a>&#0160;&#0160;&#0160;&#0160;<span class="name">encoding</span>&#0160;<span class="op">=</span>&#0160;<span class="string">'utf-8'</span><br />
-<a class="lnum" href="#39" name="39">0039</a>&#0160;&#0160;&#0160;&#0160;<span class="name">balanced_blocks</span>&#0160;<span class="op">=</span>&#0160;<span class="number">1</span><br />
-<a class="lnum" href="#40" name="40">0040</a>&#0160;&#0160;&#0160;&#0160;<span class="name">strip_whitespace</span>&#0160;<span class="op">=</span>&#0160;<span class="number">0</span><br />
-<a class="lnum" href="#41" name="41">0041</a><br />
-<a class="lnum" href="#42" name="42">0042</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">__init__</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">=</span><span class="name">None</span><span class="op">,</span>&#0160;<span class="name">src_encoding</span><span class="op">=</span><span class="string">"utf-8"</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#43" name="43">0043</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">encoding</span>&#0160;<span class="keyword">is</span>&#0160;<span class="keyword">not</span>&#0160;<span class="name">None</span><span class="op">:</span><br />
-<a class="lnum" href="#44" name="44">0044</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">encoding</span>&#0160;<span class="op">=</span>&#0160;<span class="name">encoding</span><br />
-<a class="lnum" href="#45" name="45">0045</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">src_encoding</span>&#0160;<span class="op">=</span>&#0160;<span class="name">src_encoding</span><br />
-<a class="lnum" href="#46" name="46">0046</a><br />
-<a class="lnum" href="#47" name="47">0047</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">has_only_pcdata</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">tagname</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#48" name="48">0048</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">False</span><br />
-<a class="lnum" href="#49" name="49">0049</a><br />
-<a class="lnum" href="#50" name="50">0050</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">serialize</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">stream</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">=</span><span class="name">None</span><span class="op">,</span>&#0160;<span class="name">fragment</span><span class="op">=</span><span class="number">0</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#51" name="51">0051</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">list</span><span class="op">(</span><span class="name">self</span><span class="op">.</span><span class="name">generate</span><span class="op">(</span><span class="name">stream</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">,</span>&#0160;<span class="name">fragment</span><span class="op">)</span><span class="op">)</span><br />
-<a class="lnum" href="#52" name="52">0052</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="string">''</span><span class="op">.</span><span class="name">join</span><span class="op">(</span><span class="name">text</span><span class="op">)</span><br />
-<a class="lnum" href="#53" name="53">0053</a><br />
-<a class="lnum" href="#54" name="54">0054</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">write</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">stream</span><span class="op">,</span>&#0160;<span class="name">file</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">=</span><span class="name">None</span><span class="op">,</span>&#0160;<span class="name">fragment</span><span class="op">=</span><span class="number">0</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#55" name="55">0055</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="keyword">not</span>&#0160;<span class="name">hasattr</span><span class="op">(</span><span class="name">file</span><span class="op">,</span>&#0160;<span class="string">'write'</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#56" name="56">0056</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">file</span>&#0160;<span class="op">=</span>&#0160;<span class="name">open</span><span class="op">(</span><span class="name">file</span><span class="op">,</span>&#0160;<span class="string">'wb'</span><span class="op">)</span><br />
-<a class="lnum" href="#57" name="57">0057</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">write</span>&#0160;<span class="op">=</span>&#0160;<span class="name">file</span><span class="op">.</span><span class="name">write</span><br />
-<a class="lnum" href="#58" name="58">0058</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">text</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">generate</span><span class="op">(</span><span class="name">stream</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">,</span>&#0160;<span class="name">fragment</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#59" name="59">0059</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">write</span><span class="op">(</span><span class="name">text</span><span class="op">)</span><br />
-<a class="lnum" href="#60" name="60">0060</a><br />
-<a class="lnum" href="#61" name="61">0061</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">generate</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">stream</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">=</span><span class="name">None</span><span class="op">,</span>&#0160;<span class="name">fragment</span><span class="op">=</span><span class="number">0</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#62" name="62">0062</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">pass</span><br />
-<a class="lnum" href="#63" name="63">0063</a><br />
-<a class="lnum" href="#64" name="64">0064</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">apply_filters</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">stream</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#65" name="65">0065</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">stream</span>&#0160;<span class="op">=</span>&#0160;<span class="name">_coalesce</span><span class="op">(</span><span class="name">stream</span><span class="op">,</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">src_encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#66" name="66">0066</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">strip_whitespace</span><span class="op">:</span><br />
-<a class="lnum" href="#67" name="67">0067</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">stream</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">whitespace_filter</span><span class="op">(</span><span class="name">stream</span><span class="op">)</span><br />
-<a class="lnum" href="#68" name="68">0068</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#69" name="69">0069</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">balanced_blocks</span><span class="op">:</span><br />
-<a class="lnum" href="#70" name="70">0070</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">stream</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">balancing_filter</span><span class="op">(</span><span class="name">stream</span><span class="op">)</span><br />
-<a class="lnum" href="#71" name="71">0071</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">stream</span><br />
-<a class="lnum" href="#72" name="72">0072</a><br />
-<a class="lnum" href="#73" name="73">0073</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">balancing_filter</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">stream</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#74" name="74">0074</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">line_collapse</span>&#0160;<span class="op">=</span>&#0160;<span class="name">re</span><span class="op">.</span><span class="name">compile</span><span class="op">(</span><span class="string">'\n{2,}'</span><span class="op">)</span><br />
-<a class="lnum" href="#75" name="75">0075</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="string">''</span><br />
-<a class="lnum" href="#76" name="76">0076</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">hops</span>&#0160;<span class="op">=</span>&#0160;<span class="number">0</span><br />
-<a class="lnum" href="#77" name="77">0077</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">stream</span><span class="op">:</span><br />
-<a class="lnum" href="#78" name="78">0078</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">ev</span>&#0160;<span class="op">==</span>&#0160;<span class="name">TEXT</span><span class="op">:</span><br />
-<a class="lnum" href="#79" name="79">0079</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">item</span><br />
-<a class="lnum" href="#80" name="80">0080</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">hops</span>&#0160;<span class="op">=</span>&#0160;<span class="number">0</span><br />
-<a class="lnum" href="#81" name="81">0081</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">elif</span>&#0160;<span class="name">ev</span>&#0160;<span class="keyword">in</span>&#0160;<span class="op">(</span><span class="name">START</span><span class="op">,</span>&#0160;<span class="name">END</span><span class="op">)</span>&#0160;<span class="keyword">and</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">tag</span>&#0160;<span class="op">!=</span>&#0160;<span class="name">Fragment</span><span class="op">:</span><br />
-<a class="lnum" href="#82" name="82">0082</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">hops</span>&#0160;<span class="op">&gt;</span>&#0160;<span class="number">0</span><span class="op">:</span><br />
-<a class="lnum" href="#83" name="83">0083</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">text</span>&#0160;<span class="keyword">and</span>&#0160;<span class="name">text</span><span class="op">.</span><span class="name">strip</span><span class="op">(</span><span class="op">)</span>&#0160;<span class="op">==</span>&#0160;<span class="string">''</span><span class="op">:</span><br />
-<a class="lnum" href="#84" name="84">0084</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="op">(</span><span class="name">TEXT</span><span class="op">,</span>&#0160;<span class="name">line_collapse</span><span class="op">.</span><span class="name">sub</span><span class="op">(</span><span class="string">'\n'</span><span class="op">,</span>&#0160;<span class="name">text</span><span class="op">)</span><span class="op">)</span><br />
-<a class="lnum" href="#85" name="85">0085</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">elif</span>&#0160;<span class="name">text</span><span class="op">:</span><br />
-<a class="lnum" href="#86" name="86">0086</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">text</span><span class="op">.</span><span class="name">strip</span><span class="op">(</span><span class="op">)</span>&#0160;<span class="op">==</span>&#0160;<span class="string">''</span><span class="op">:</span><br />
-<a class="lnum" href="#87" name="87">0087</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="op">(</span><span class="name">TEXT</span><span class="op">,</span>&#0160;<span class="name">line_collapse</span><span class="op">.</span><span class="name">sub</span><span class="op">(</span><span class="string">'\n'</span><span class="op">,</span>&#0160;<span class="name">text</span><span class="op">)</span><span class="op">)</span><br />
-<a class="lnum" href="#88" name="88">0088</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#89" name="89">0089</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="op">(</span><span class="name">TEXT</span><span class="op">,</span>&#0160;<span class="name">text</span><span class="op">)</span><br />
-<a class="lnum" href="#90" name="90">0090</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="op">(</span><span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span><span class="op">)</span><br />
-<a class="lnum" href="#91" name="91">0091</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">hops</span><span class="op">+=</span><span class="number">1</span><br />
-<a class="lnum" href="#92" name="92">0092</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="comment">#&#0160;pre-tag&#0160;indentation&#0160;was&#0160;used.</span><br />
-<a class="lnum" href="#93" name="93">0093</a><span class="comment"></span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="comment">#&#0160;Make&#0160;sure&#0160;it's&#0160;not&#0160;used&#0160;again&#0160;for&#0160;#PCDATA-sensitive&#0160;elements</span><br />
-<a class="lnum" href="#94" name="94">0094</a><span class="comment"></span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">ev</span>&#0160;<span class="op">==</span>&#0160;<span class="name">START</span>&#0160;<span class="keyword">and</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">has_only_pcdata</span><span class="op">(</span><span class="name">item</span><span class="op">.</span><span class="name">tag</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#95" name="95">0095</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="string">''</span><br />
-<a class="lnum" href="#96" name="96">0096</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#97" name="97">0097</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="op">(</span><span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span><span class="op">)</span><br />
-<a class="lnum" href="#98" name="98">0098</a><br />
-<a class="lnum" href="#99" name="99">0099</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">whitespace_filter</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">stream</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#100" name="100">0100</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">stream</span><span class="op">:</span><br />
-<a class="lnum" href="#101" name="101">0101</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">ev</span>&#0160;<span class="op">==</span>&#0160;<span class="name">TEXT</span><span class="op">:</span><br />
-<a class="lnum" href="#102" name="102">0102</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="op">(</span><span class="name">TEXT</span><span class="op">,</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">strip</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><br />
-<a class="lnum" href="#103" name="103">0103</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#104" name="104">0104</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="op">(</span><span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span><span class="op">)</span><br />
-<a class="lnum" href="#105" name="105">0105</a><br />
-<a class="lnum" href="#106" name="106">0106</a><span class="keyword">class</span>&#0160;<span class="name">XMLSerializer</span><span class="op">(</span><span class="name">Serializer</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#107" name="107">0107</a><br />
-<a class="lnum" href="#108" name="108">0108</a>&#0160;&#0160;&#0160;&#0160;<span class="name">decl</span>&#0160;<span class="op">=</span>&#0160;<span class="number">1</span><br />
-<a class="lnum" href="#109" name="109">0109</a>&#0160;&#0160;&#0160;&#0160;<span class="name">doctype</span>&#0160;<span class="op">=</span>&#0160;<span class="name">None</span><br />
-<a class="lnum" href="#110" name="110">0110</a>&#0160;&#0160;&#0160;&#0160;<span class="name">cdata_elements</span>&#0160;<span class="op">=</span>&#0160;<span class="op">[</span><span class="op">]</span><br />
-<a class="lnum" href="#111" name="111">0111</a><br />
-<a class="lnum" href="#112" name="112">0112</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">__init__</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">=</span><span class="name">None</span><span class="op">,</span>&#0160;<span class="name">decl</span><span class="op">=</span><span class="name">None</span><span class="op">,</span>&#0160;<span class="name">doctype</span><span class="op">=</span><span class="name">None</span><span class="op">,</span><br />
-<a class="lnum" href="#113" name="113">0113</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">namespaces</span><span class="op">=</span><span class="name">None</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#114" name="114">0114</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">Serializer</span><span class="op">.</span><span class="name">__init__</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#115" name="115">0115</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">decl</span>&#0160;<span class="keyword">is</span>&#0160;<span class="keyword">not</span>&#0160;<span class="name">None</span><span class="op">:</span><br />
-<a class="lnum" href="#116" name="116">0116</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">decl</span>&#0160;<span class="op">=</span>&#0160;<span class="name">decl</span><br />
-<a class="lnum" href="#117" name="117">0117</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">doctype</span>&#0160;<span class="keyword">is</span>&#0160;<span class="keyword">not</span>&#0160;<span class="name">None</span><span class="op">:</span><br />
-<a class="lnum" href="#118" name="118">0118</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">doctype</span>&#0160;<span class="op">=</span>&#0160;<span class="name">doctype</span><br />
-<a class="lnum" href="#119" name="119">0119</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">isinstance</span><span class="op">(</span><span class="name">self</span><span class="op">.</span><span class="name">doctype</span><span class="op">,</span>&#0160;<span class="op">(</span><span class="name">str</span><span class="op">,</span>&#0160;<span class="name">unicode</span><span class="op">)</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#120" name="120">0120</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="comment">#&#0160;allow&#0160;doctype&#0160;strings</span><br />
-<a class="lnum" href="#121" name="121">0121</a><span class="comment"></span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">doctype</span>&#0160;<span class="op">=</span>&#0160;<span class="name">doctypes</span><span class="op">[</span><span class="name">self</span><span class="op">.</span><span class="name">doctype</span><span class="op">]</span><br />
-<a class="lnum" href="#122" name="122">0122</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">namespaces</span><span class="op">:</span><br />
-<a class="lnum" href="#123" name="123">0123</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">namespaces</span>&#0160;<span class="op">=</span>&#0160;<span class="name">namespaces</span><br />
-<a class="lnum" href="#124" name="124">0124</a><br />
-<a class="lnum" href="#125" name="125">0125</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">can_be_empty_element</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">ns_stack</span><span class="op">,</span>&#0160;<span class="name">item_name</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#126" name="126">0126</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">True</span><br />
-<a class="lnum" href="#127" name="127">0127</a><br />
-<a class="lnum" href="#128" name="128">0128</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">generate</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">stream</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">=</span><span class="name">None</span><span class="op">,</span>&#0160;<span class="name">fragment</span><span class="op">=</span><span class="number">0</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#129" name="129">0129</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">"""Serializes&#0160;an&#0160;event&#0160;stream&#0160;to&#0160;bytes&#0160;of&#0160;the&#0160;specified&#0160;encoding.</span><br />
-<a class="lnum" href="#130" name="130">0130</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#131" name="131">0131</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;This&#0160;function&#0160;yields&#0160;an&#0160;encoded&#0160;string&#0160;over&#0160;and&#0160;over&#0160;until&#0160;the</span><br />
-<a class="lnum" href="#132" name="132">0132</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;stream&#0160;is&#0160;exhausted.</span><br />
-<a class="lnum" href="#133" name="133">0133</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#134" name="134">0134</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;"""</span><br />
-<a class="lnum" href="#135" name="135">0135</a><br />
-<a class="lnum" href="#136" name="136">0136</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">encoding</span>&#0160;<span class="op">=</span>&#0160;<span class="name">encoding</span>&#0160;<span class="keyword">or</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">encoding</span>&#0160;<span class="keyword">or</span>&#0160;<span class="string">'utf-8'</span><br />
-<a class="lnum" href="#137" name="137">0137</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">escape_cdata</span>&#0160;<span class="op">=</span>&#0160;<span class="name">XMLSerializer</span><span class="op">.</span><span class="name">escape_cdata</span><br />
-<a class="lnum" href="#138" name="138">0138</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">escape_attrib</span>&#0160;<span class="op">=</span>&#0160;<span class="name">XMLSerializer</span><span class="op">.</span><span class="name">escape_attrib</span><br />
-<a class="lnum" href="#139" name="139">0139</a><br />
-<a class="lnum" href="#140" name="140">0140</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">lastev</span>&#0160;<span class="op">=</span>&#0160;<span class="name">None</span><br />
-<a class="lnum" href="#141" name="141">0141</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">stream</span>&#0160;<span class="op">=</span>&#0160;<span class="name">iter</span><span class="op">(</span><span class="name">stream</span><span class="op">)</span><br />
-<a class="lnum" href="#142" name="142">0142</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">names</span>&#0160;<span class="op">=</span>&#0160;<span class="name">NamespaceStack</span><span class="op">(</span><span class="name">self</span><span class="op">.</span><span class="name">namespaces</span><span class="op">)</span><br />
-<a class="lnum" href="#143" name="143">0143</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="keyword">not</span>&#0160;<span class="name">fragment</span><span class="op">:</span><br />
-<a class="lnum" href="#144" name="144">0144</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">decl</span><span class="op">:</span><br />
-<a class="lnum" href="#145" name="145">0145</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="string">'&lt;?xml&#0160;version="1.0"&#0160;encoding="%s"?&gt;\n'</span>&#0160;<span class="op">%</span>&#0160;<span class="name">encoding</span><br />
-<a class="lnum" href="#146" name="146">0146</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">doctype</span>&#0160;<span class="keyword">is</span>&#0160;<span class="keyword">not</span>&#0160;<span class="name">None</span><span class="op">:</span><br />
-<a class="lnum" href="#147" name="147">0147</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="name">serialize_doctype</span><span class="op">(</span><span class="name">self</span><span class="op">.</span><span class="name">doctype</span><span class="op">)</span>&#0160;<span class="op">+</span>&#0160;<span class="string">'\n'</span><br />
-<a class="lnum" href="#148" name="148">0148</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">None</span><br />
-<a class="lnum" href="#149" name="149">0149</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">apply_filters</span><span class="op">(</span><span class="name">stream</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#150" name="150">0150</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">ev</span>&#0160;<span class="keyword">in</span>&#0160;<span class="op">(</span><span class="name">START</span><span class="op">,</span>&#0160;<span class="name">END</span><span class="op">)</span>&#0160;<span class="keyword">and</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">tag</span>&#0160;<span class="op">==</span>&#0160;<span class="name">Fragment</span><span class="op">:</span><br />
-<a class="lnum" href="#151" name="151">0151</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">continue</span><br />
-<a class="lnum" href="#152" name="152">0152</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">elif</span>&#0160;<span class="name">ev</span>&#0160;<span class="op">==</span>&#0160;<span class="name">TEXT</span><span class="op">:</span><br />
-<a class="lnum" href="#153" name="153">0153</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">text</span>&#0160;<span class="keyword">is</span>&#0160;<span class="keyword">not</span>&#0160;<span class="name">None</span><span class="op">:</span><br />
-<a class="lnum" href="#154" name="154">0154</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="string">u''</span><span class="op">.</span><span class="name">join</span><span class="op">(</span><span class="op">[</span><span class="name">text</span><span class="op">,</span>&#0160;<span class="name">item</span><span class="op">]</span><span class="op">)</span><br />
-<a class="lnum" href="#155" name="155">0155</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#156" name="156">0156</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">item</span><br />
-<a class="lnum" href="#157" name="157">0157</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">continue</span><br />
-<a class="lnum" href="#158" name="158">0158</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">lastev</span>&#0160;<span class="op">==</span>&#0160;<span class="name">START</span><span class="op">:</span><br />
-<a class="lnum" href="#159" name="159">0159</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">ev</span>&#0160;<span class="op">==</span>&#0160;<span class="name">END</span>&#0160;<span class="keyword">and</span>&#0160;<span class="op">(</span><span class="keyword">not</span>&#0160;<span class="name">text</span>&#0160;<span class="keyword">or</span>&#0160;<span class="keyword">not</span>&#0160;<span class="name">text</span><span class="op">.</span><span class="name">strip</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&#0160;<span class="keyword">and</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">can_be_empty_element</span><span class="op">(</span><span class="name">names</span><span class="op">,</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">tag</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#160" name="160">0160</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="string">'&#0160;/&gt;'</span><br />
-<a class="lnum" href="#161" name="161">0161</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">lastev</span>&#0160;<span class="op">=</span>&#0160;<span class="name">END</span><br />
-<a class="lnum" href="#162" name="162">0162</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">None</span><br />
-<a class="lnum" href="#163" name="163">0163</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">names</span><span class="op">.</span><span class="name">pop</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#164" name="164">0164</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">continue</span><br />
-<a class="lnum" href="#165" name="165">0165</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="string">"&gt;"</span><br />
-<a class="lnum" href="#166" name="166">0166</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">text</span><span class="op">:</span><br />
-<a class="lnum" href="#167" name="167">0167</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="name">escape_cdata</span><span class="op">(</span><span class="name">text</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#168" name="168">0168</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">None</span><br />
-<a class="lnum" href="#169" name="169">0169</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">ev</span>&#0160;<span class="op">==</span>&#0160;<span class="name">START</span><span class="op">:</span><br />
-<a class="lnum" href="#170" name="170">0170</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">tag</span>&#0160;<span class="op">==</span>&#0160;<span class="name">Comment</span><span class="op">:</span><br />
-<a class="lnum" href="#171" name="171">0171</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="string">"&lt;!--%s--&gt;"</span>&#0160;<span class="op">%</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">text</span><span class="op">.</span><span class="name">encode</span><span class="op">(</span><span class="name">encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#172" name="172">0172</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">lastev</span>&#0160;<span class="op">=</span>&#0160;<span class="name">COMMENT</span><br />
-<a class="lnum" href="#173" name="173">0173</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">continue</span><br />
-<a class="lnum" href="#174" name="174">0174</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">elif</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">tag</span>&#0160;<span class="op">==</span>&#0160;<span class="name">ProcessingInstruction</span><span class="op">:</span><br />
-<a class="lnum" href="#175" name="175">0175</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="string">"&lt;?%s?&gt;"</span>&#0160;<span class="op">%</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">text</span><span class="op">.</span><span class="name">encode</span><span class="op">(</span><span class="name">encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#176" name="176">0176</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">lastev</span>&#0160;<span class="op">=</span>&#0160;<span class="name">PI</span><br />
-<a class="lnum" href="#177" name="177">0177</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">continue</span><br />
-<a class="lnum" href="#178" name="178">0178</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#179" name="179">0179</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">tag</span>&#0160;<span class="op">=</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">tag</span><br />
-<a class="lnum" href="#180" name="180">0180</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">names</span><span class="op">.</span><span class="name">push</span><span class="op">(</span><span class="name">namespaces</span><span class="op">(</span><span class="name">item</span><span class="op">,</span>&#0160;<span class="name">remove</span><span class="op">=</span><span class="number">1</span><span class="op">)</span><span class="op">)</span><br />
-<a class="lnum" href="#181" name="181">0181</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">qname</span>&#0160;<span class="op">=</span>&#0160;<span class="name">names</span><span class="op">.</span><span class="name">qname</span><span class="op">(</span><span class="name">tag</span><span class="op">,</span>&#0160;<span class="name">default</span><span class="op">=</span><span class="number">1</span><span class="op">)</span><br />
-<a class="lnum" href="#182" name="182">0182</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="string">"&lt;"</span>&#0160;<span class="op">+</span>&#0160;<span class="name">qname</span><span class="op">.</span><span class="name">encode</span><span class="op">(</span><span class="name">encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#183" name="183">0183</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">attrs</span>&#0160;<span class="op">=</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">attrib</span><span class="op">.</span><span class="name">items</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#184" name="184">0184</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">attrs</span><span class="op">:</span><br />
-<a class="lnum" href="#185" name="185">0185</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">k</span><span class="op">,</span>&#0160;<span class="name">v</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">attrs</span><span class="op">:</span><br />
-<a class="lnum" href="#186" name="186">0186</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">qname</span>&#0160;<span class="op">=</span>&#0160;<span class="name">names</span><span class="op">.</span><span class="name">qname</span><span class="op">(</span><span class="name">k</span><span class="op">,</span>&#0160;<span class="name">default</span><span class="op">=</span><span class="number">0</span><span class="op">)</span><br />
-<a class="lnum" href="#187" name="187">0187</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="string">'&#0160;%s="%s"'</span>&#0160;<span class="op">%</span>&#0160;<span class="op">(</span><span class="name">qname</span><span class="op">.</span><span class="name">encode</span><span class="op">(</span><span class="name">encoding</span><span class="op">)</span><span class="op">,</span><br />
-<a class="lnum" href="#188" name="188">0188</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">escape_attrib</span><span class="op">(</span><span class="name">v</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">)</span><span class="op">)</span><br />
-<a class="lnum" href="#189" name="189">0189</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">prefix</span><span class="op">,</span>&#0160;<span class="name">uri</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">names</span><span class="op">.</span><span class="name">current</span><span class="op">.</span><span class="name">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#190" name="190">0190</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">prefix</span>&#0160;<span class="op">==</span>&#0160;<span class="string">''</span><span class="op">:</span><br />
-<a class="lnum" href="#191" name="191">0191</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="string">'&#0160;xmlns="%s"'</span>&#0160;<span class="op">%</span>&#0160;<span class="name">escape_attrib</span><span class="op">(</span><span class="name">uri</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#192" name="192">0192</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#193" name="193">0193</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="string">'&#0160;xmlns:%s="%s"'</span>&#0160;<span class="op">%</span>&#0160;<span class="op">(</span><span class="name">prefix</span><span class="op">.</span><span class="name">encode</span><span class="op">(</span><span class="name">encoding</span><span class="op">)</span><span class="op">,</span><br />
-<a class="lnum" href="#194" name="194">0194</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">escape_attrib</span><span class="op">(</span><span class="name">uri</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">)</span><span class="op">)</span><br />
-<a class="lnum" href="#195" name="195">0195</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">elif</span>&#0160;<span class="name">ev</span>&#0160;<span class="op">==</span>&#0160;<span class="name">END</span>&#0160;<span class="keyword">and</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">tag</span>&#0160;<span class="keyword">not</span>&#0160;<span class="keyword">in</span>&#0160;<span class="op">(</span><span class="name">Comment</span><span class="op">,</span>&#0160;<span class="name">ProcessingInstruction</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#196" name="196">0196</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">qname</span>&#0160;<span class="op">=</span>&#0160;<span class="name">names</span><span class="op">.</span><span class="name">qname</span><span class="op">(</span><span class="name">item</span><span class="op">.</span><span class="name">tag</span><span class="op">,</span>&#0160;<span class="name">default</span><span class="op">=</span><span class="number">1</span><span class="op">)</span><br />
-<a class="lnum" href="#197" name="197">0197</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="string">"&lt;/%s&gt;"</span>&#0160;<span class="op">%</span>&#0160;<span class="name">qname</span><span class="op">.</span><span class="name">encode</span><span class="op">(</span><span class="name">encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#198" name="198">0198</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">names</span><span class="op">.</span><span class="name">pop</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#199" name="199">0199</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">lastev</span>&#0160;<span class="op">=</span>&#0160;<span class="name">ev</span><br />
-<a class="lnum" href="#200" name="200">0200</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span><br />
-<a class="lnum" href="#201" name="201">0201</a><br />
-<a class="lnum" href="#202" name="202">0202</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">escape_cdata</span><span class="op">(</span><span class="name">text</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">=</span><span class="name">None</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#203" name="203">0203</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">"""Escape&#0160;character&#0160;data."""</span><br />
-<a class="lnum" href="#204" name="204">0204</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">try</span><span class="op">:</span><br />
-<a class="lnum" href="#205" name="205">0205</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">encoding</span><span class="op">:</span><br />
-<a class="lnum" href="#206" name="206">0206</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">try</span><span class="op">:</span><br />
-<a class="lnum" href="#207" name="207">0207</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">text</span><span class="op">.</span><span class="name">encode</span><span class="op">(</span><span class="name">encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#208" name="208">0208</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">except</span>&#0160;<span class="name">UnicodeError</span><span class="op">:</span><br />
-<a class="lnum" href="#209" name="209">0209</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">_encode_entity</span><span class="op">(</span><span class="name">text</span><span class="op">)</span><br />
-<a class="lnum" href="#210" name="210">0210</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">text</span><span class="op">.</span><span class="name">replace</span><span class="op">(</span><span class="string">"&amp;"</span><span class="op">,</span>&#0160;<span class="string">"&amp;amp;"</span><span class="op">)</span><br />
-<a class="lnum" href="#211" name="211">0211</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">text</span><span class="op">.</span><span class="name">replace</span><span class="op">(</span><span class="string">"&lt;"</span><span class="op">,</span>&#0160;<span class="string">"&amp;lt;"</span><span class="op">)</span><br />
-<a class="lnum" href="#212" name="212">0212</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">text</span><br />
-<a class="lnum" href="#213" name="213">0213</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">except</span>&#0160;<span class="op">(</span><span class="name">TypeError</span><span class="op">,</span>&#0160;<span class="name">AttributeError</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#214" name="214">0214</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">_raise_serialization_error</span><span class="op">(</span><span class="name">text</span><span class="op">)</span><br />
-<a class="lnum" href="#215" name="215">0215</a>&#0160;&#0160;&#0160;&#0160;<span class="name">escape_cdata</span>&#0160;<span class="op">=</span>&#0160;<span class="name">staticmethod</span><span class="op">(</span><span class="name">escape_cdata</span><span class="op">)</span><br />
-<a class="lnum" href="#216" name="216">0216</a><br />
-<a class="lnum" href="#217" name="217">0217</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">escape_attrib</span><span class="op">(</span><span class="name">text</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">=</span><span class="name">None</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#218" name="218">0218</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">"""Escape&#0160;attribute&#0160;value."""</span><br />
-<a class="lnum" href="#219" name="219">0219</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">try</span><span class="op">:</span><br />
-<a class="lnum" href="#220" name="220">0220</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">encoding</span><span class="op">:</span><br />
-<a class="lnum" href="#221" name="221">0221</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">try</span><span class="op">:</span><br />
-<a class="lnum" href="#222" name="222">0222</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">text</span><span class="op">.</span><span class="name">encode</span><span class="op">(</span><span class="name">encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#223" name="223">0223</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">except</span>&#0160;<span class="name">UnicodeError</span><span class="op">:</span><br />
-<a class="lnum" href="#224" name="224">0224</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">_encode_entity</span><span class="op">(</span><span class="name">text</span><span class="op">)</span><br />
-<a class="lnum" href="#225" name="225">0225</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">text</span><span class="op">.</span><span class="name">replace</span><span class="op">(</span><span class="string">"&amp;"</span><span class="op">,</span>&#0160;<span class="string">"&amp;amp;"</span><span class="op">)</span><br />
-<a class="lnum" href="#226" name="226">0226</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">text</span><span class="op">.</span><span class="name">replace</span><span class="op">(</span><span class="string">"&lt;"</span><span class="op">,</span>&#0160;<span class="string">"&amp;lt;"</span><span class="op">)</span><br />
-<a class="lnum" href="#227" name="227">0227</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">text</span><span class="op">.</span><span class="name">replace</span><span class="op">(</span><span class="string">"\""</span><span class="op">,</span>&#0160;<span class="string">"&amp;quot;"</span><span class="op">)</span><br />
-<a class="lnum" href="#228" name="228">0228</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">text</span><br />
-<a class="lnum" href="#229" name="229">0229</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">except</span>&#0160;<span class="op">(</span><span class="name">TypeError</span><span class="op">,</span>&#0160;<span class="name">AttributeError</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#230" name="230">0230</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">_raise_serialization_error</span><span class="op">(</span><span class="name">text</span><span class="op">)</span><br />
-<a class="lnum" href="#231" name="231">0231</a>&#0160;&#0160;&#0160;&#0160;<span class="name">escape_attrib</span>&#0160;<span class="op">=</span>&#0160;<span class="name">staticmethod</span><span class="op">(</span><span class="name">escape_attrib</span><span class="op">)</span><br />
-<a class="lnum" href="#232" name="232">0232</a><br />
-<a class="lnum" href="#233" name="233">0233</a><br />
-<a class="lnum" href="#234" name="234">0234</a><span class="comment">#&#0160;sets</span><br />
-<a class="lnum" href="#235" name="235">0235</a><span class="comment"></span><span class="keyword">try</span><span class="op">:</span><br />
-<a class="lnum" href="#236" name="236">0236</a>&#0160;&#0160;&#0160;&#0160;<span class="name">set</span><br />
-<a class="lnum" href="#237" name="237">0237</a><span class="keyword">except</span>&#0160;<span class="name">NameError</span><span class="op">:</span><br />
-<a class="lnum" href="#238" name="238">0238</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">try</span><span class="op">:</span><br />
-<a class="lnum" href="#239" name="239">0239</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">from</span>&#0160;<span class="name">sets</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">Set</span>&#0160;<span class="name">as</span>&#0160;<span class="name">set</span><br />
-<a class="lnum" href="#240" name="240">0240</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">except</span>&#0160;<span class="name">ImportError</span><span class="op">:</span><br />
-<a class="lnum" href="#241" name="241">0241</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">set</span><span class="op">(</span><span class="name">seq</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#242" name="242">0242</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">seq</span><br />
-<a class="lnum" href="#243" name="243">0243</a><br />
-<a class="lnum" href="#244" name="244">0244</a><span class="keyword">import</span>&#0160;<span class="name">kid</span><span class="op">.</span><span class="name">namespace</span>&#0160;<span class="name">as</span>&#0160;<span class="name">namespace</span><br />
-<a class="lnum" href="#245" name="245">0245</a><span class="name">xhtml</span>&#0160;<span class="op">=</span>&#0160;<span class="name">namespace</span><span class="op">.</span><span class="name">xhtml</span><span class="op">.</span><span class="name">uri</span><br />
-<a class="lnum" href="#246" name="246">0246</a><span class="keyword">import</span>&#0160;<span class="name">string</span><br />
-<a class="lnum" href="#247" name="247">0247</a><br />
-<a class="lnum" href="#248" name="248">0248</a><span class="keyword">class</span>&#0160;<span class="name">HTMLSerializer</span><span class="op">(</span><span class="name">Serializer</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#249" name="249">0249</a><br />
-<a class="lnum" href="#250" name="250">0250</a>&#0160;&#0160;&#0160;&#0160;<span class="name">doctype</span>&#0160;<span class="op">=</span>&#0160;<span class="name">doctypes</span><span class="op">[</span><span class="string">'html'</span><span class="op">]</span><br />
-<a class="lnum" href="#251" name="251">0251</a>&#0160;&#0160;&#0160;&#0160;<span class="name">transpose</span>&#0160;<span class="op">=</span>&#0160;<span class="name">string</span><span class="op">.</span><span class="name">upper</span><br />
-<a class="lnum" href="#252" name="252">0252</a>&#0160;&#0160;&#0160;&#0160;<span class="name">transpose</span>&#0160;<span class="op">=</span>&#0160;<span class="name">staticmethod</span><span class="op">(</span><span class="name">transpose</span><span class="op">)</span><br />
-<a class="lnum" href="#253" name="253">0253</a>&#0160;&#0160;&#0160;&#0160;<span class="name">inject_type</span>&#0160;<span class="op">=</span>&#0160;<span class="number">1</span><br />
-<a class="lnum" href="#254" name="254">0254</a>&#0160;&#0160;&#0160;&#0160;<span class="name">empty_elements</span>&#0160;<span class="op">=</span>&#0160;<span class="name">set</span><span class="op">(</span><span class="op">[</span><span class="string">'area'</span><span class="op">,</span>&#0160;<span class="string">'base'</span><span class="op">,</span>&#0160;<span class="string">'basefont'</span><span class="op">,</span>&#0160;<span class="string">'br'</span><span class="op">,</span>&#0160;<span class="string">'col'</span><span class="op">,</span>&#0160;<span class="string">'frame'</span><span class="op">,</span><br />
-<a class="lnum" href="#255" name="255">0255</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">'hr'</span><span class="op">,</span>&#0160;<span class="string">'img'</span><span class="op">,</span>&#0160;<span class="string">'input'</span><span class="op">,</span>&#0160;<span class="string">'isindex'</span><span class="op">,</span>&#0160;<span class="string">'link'</span><span class="op">,</span>&#0160;<span class="string">'meta'</span><span class="op">,</span><br />
-<a class="lnum" href="#256" name="256">0256</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">'param'</span><span class="op">]</span><span class="op">)</span><br />
-<a class="lnum" href="#257" name="257">0257</a>&#0160;&#0160;&#0160;&#0160;<span class="comment">#&#0160;These&#0160;element&#0160;tags&#0160;should&#0160;not&#0160;be&#0160;indented</span><br />
-<a class="lnum" href="#258" name="258">0258</a><span class="comment"></span>&#0160;&#0160;&#0160;&#0160;<span class="name">elements_with_pcdata</span>&#0160;<span class="op">=</span>&#0160;<span class="name">set</span><span class="op">(</span><span class="op">[</span><span class="string">'option'</span><span class="op">,</span>&#0160;<span class="string">'textarea'</span><span class="op">,</span>&#0160;<span class="string">'fieldset'</span><span class="op">,</span>&#0160;<span class="string">'title'</span><span class="op">]</span><span class="op">)</span><br />
-<a class="lnum" href="#259" name="259">0259</a>&#0160;&#0160;&#0160;&#0160;<span class="name">noescape_elements</span>&#0160;<span class="op">=</span>&#0160;<span class="name">set</span><span class="op">(</span><span class="op">[</span><span class="string">'script'</span><span class="op">,</span>&#0160;<span class="string">'style'</span><span class="op">]</span><span class="op">)</span><br />
-<a class="lnum" href="#260" name="260">0260</a>&#0160;&#0160;&#0160;&#0160;<span class="name">boolean_attributes</span>&#0160;<span class="op">=</span>&#0160;<span class="name">set</span><span class="op">(</span><span class="op">[</span><span class="string">'selected'</span><span class="op">,</span>&#0160;<span class="string">'checked'</span><span class="op">,</span>&#0160;<span class="string">'compact'</span><span class="op">,</span>&#0160;<span class="string">'declare'</span><span class="op">,</span><br />
-<a class="lnum" href="#261" name="261">0261</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">'defer'</span><span class="op">,</span>&#0160;<span class="string">'disabled'</span><span class="op">,</span>&#0160;<span class="string">'ismap'</span><span class="op">,</span>&#0160;<span class="string">'multiple'</span><span class="op">,</span>&#0160;<span class="string">'nohref'</span><span class="op">,</span><br />
-<a class="lnum" href="#262" name="262">0262</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">'noresize'</span><span class="op">,</span>&#0160;<span class="string">'noshade'</span><span class="op">,</span>&#0160;<span class="string">'nowrap'</span><span class="op">]</span><span class="op">)</span><br />
-<a class="lnum" href="#263" name="263">0263</a><br />
-<a class="lnum" href="#264" name="264">0264</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">__init__</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">=</span><span class="string">'utf-8'</span><span class="op">,</span>&#0160;<span class="name">doctype</span><span class="op">=</span><span class="name">None</span><span class="op">,</span>&#0160;<span class="name">transpose</span><span class="op">=</span><span class="name">None</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#265" name="265">0265</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">Serializer</span><span class="op">.</span><span class="name">__init__</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#266" name="266">0266</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">doctype</span><span class="op">:</span><br />
-<a class="lnum" href="#267" name="267">0267</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">doctype</span>&#0160;<span class="op">=</span>&#0160;<span class="name">doctype</span><br />
-<a class="lnum" href="#268" name="268">0268</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">isinstance</span><span class="op">(</span><span class="name">self</span><span class="op">.</span><span class="name">doctype</span><span class="op">,</span>&#0160;<span class="op">(</span><span class="name">str</span><span class="op">,</span>&#0160;<span class="name">unicode</span><span class="op">)</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#269" name="269">0269</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="comment">#&#0160;allow&#0160;doctype&#0160;strings</span><br />
-<a class="lnum" href="#270" name="270">0270</a><span class="comment"></span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">doctype</span>&#0160;<span class="op">=</span>&#0160;<span class="name">doctypes</span><span class="op">[</span><span class="name">self</span><span class="op">.</span><span class="name">doctype</span><span class="op">]</span><br />
-<a class="lnum" href="#271" name="271">0271</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">transpose</span><span class="op">:</span><br />
-<a class="lnum" href="#272" name="272">0272</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">transpose</span>&#0160;<span class="op">=</span>&#0160;<span class="name">transpose</span><br />
-<a class="lnum" href="#273" name="273">0273</a><br />
-<a class="lnum" href="#274" name="274">0274</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">has_only_pcdata</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">tagname</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#275" name="275">0275</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">isinstance</span><span class="op">(</span><span class="name">tagname</span><span class="op">,</span>&#0160;<span class="op">(</span><span class="name">str</span><span class="op">,</span><span class="name">unicode</span><span class="op">)</span><span class="op">)</span>&#0160;<span class="keyword">and</span>&#0160;<span class="name">tagname</span><span class="op">[</span><span class="number">0</span><span class="op">]</span>&#0160;<span class="op">==</span>&#0160;<span class="string">'{'</span><span class="op">:</span><br />
-<a class="lnum" href="#276" name="276">0276</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">tagname</span>&#0160;<span class="op">=</span>&#0160;<span class="name">tagname</span><span class="op">.</span><span class="name">split</span><span class="op">(</span><span class="string">'}'</span><span class="op">)</span><span class="op">[</span><span class="number">1</span><span class="op">]</span><br />
-<a class="lnum" href="#277" name="277">0277</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">tagname</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">elements_with_pcdata</span><br />
-<a class="lnum" href="#278" name="278">0278</a><br />
-<a class="lnum" href="#279" name="279">0279</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">generate</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">stream</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">=</span><span class="name">None</span><span class="op">,</span>&#0160;<span class="name">fragment</span><span class="op">=</span><span class="number">0</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#280" name="280">0280</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">"""Serializes&#0160;an&#0160;event&#0160;stream&#0160;to&#0160;bytes&#0160;of&#0160;the&#0160;specified&#0160;encoding.</span><br />
-<a class="lnum" href="#281" name="281">0281</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#282" name="282">0282</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;This&#0160;function&#0160;yields&#0160;an&#0160;encoded&#0160;string&#0160;over&#0160;and&#0160;over&#0160;until&#0160;the</span><br />
-<a class="lnum" href="#283" name="283">0283</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;stream&#0160;is&#0160;exhausted.</span><br />
-<a class="lnum" href="#284" name="284">0284</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><br />
-<a class="lnum" href="#285" name="285">0285</a><span class="string">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;"""</span><br />
-<a class="lnum" href="#286" name="286">0286</a><br />
-<a class="lnum" href="#287" name="287">0287</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">encoding</span>&#0160;<span class="op">=</span>&#0160;<span class="name">encoding</span>&#0160;<span class="keyword">or</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">encoding</span>&#0160;<span class="keyword">or</span>&#0160;<span class="string">'utf-8'</span><br />
-<a class="lnum" href="#288" name="288">0288</a><br />
-<a class="lnum" href="#289" name="289">0289</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">escape_cdata</span>&#0160;<span class="op">=</span>&#0160;<span class="name">HTMLSerializer</span><span class="op">.</span><span class="name">escape_cdata</span><br />
-<a class="lnum" href="#290" name="290">0290</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">escape_attrib</span>&#0160;<span class="op">=</span>&#0160;<span class="name">HTMLSerializer</span><span class="op">.</span><span class="name">escape_attrib</span><br />
-<a class="lnum" href="#291" name="291">0291</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">noescape_elements</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">noescape_elements</span><br />
-<a class="lnum" href="#292" name="292">0292</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">boolean_attributes</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">boolean_attributes</span><br />
-<a class="lnum" href="#293" name="293">0293</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">empty_elements</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">empty_elements</span><br />
-<a class="lnum" href="#294" name="294">0294</a><br />
-<a class="lnum" href="#295" name="295">0295</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">names</span>&#0160;<span class="op">=</span>&#0160;<span class="name">NamespaceStack</span><span class="op">(</span><span class="name">self</span><span class="op">.</span><span class="name">namespaces</span><span class="op">)</span><br />
-<a class="lnum" href="#296" name="296">0296</a><br />
-<a class="lnum" href="#297" name="297">0297</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">grok_name</span><span class="op">(</span><span class="name">tag</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#298" name="298">0298</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">tag</span><span class="op">[</span><span class="number">0</span><span class="op">]</span>&#0160;<span class="op">==</span>&#0160;<span class="string">'{'</span><span class="op">:</span><br />
-<a class="lnum" href="#299" name="299">0299</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">uri</span><span class="op">,</span>&#0160;<span class="name">localname</span>&#0160;<span class="op">=</span>&#0160;<span class="name">tag</span><span class="op">[</span><span class="number">1</span><span class="op">:</span><span class="op">]</span><span class="op">.</span><span class="name">split</span><span class="op">(</span><span class="string">'}'</span><span class="op">,</span>&#0160;<span class="number">1</span><span class="op">)</span><br />
-<a class="lnum" href="#300" name="300">0300</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#301" name="301">0301</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">uri</span><span class="op">,</span>&#0160;<span class="name">localname</span>&#0160;<span class="op">=</span>&#0160;<span class="name">None</span><span class="op">,</span>&#0160;<span class="name">tag</span><br />
-<a class="lnum" href="#302" name="302">0302</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">uri</span>&#0160;<span class="keyword">and</span>&#0160;<span class="name">uri</span>&#0160;<span class="op">!=</span>&#0160;<span class="name">xhtml</span><span class="op">:</span><br />
-<a class="lnum" href="#303" name="303">0303</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">qname</span>&#0160;<span class="op">=</span>&#0160;<span class="name">names</span><span class="op">.</span><span class="name">qname</span><span class="op">(</span><span class="name">tag</span><span class="op">,</span>&#0160;<span class="name">default</span><span class="op">=</span><span class="number">0</span><span class="op">)</span><br />
-<a class="lnum" href="#304" name="304">0304</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#305" name="305">0305</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">qname</span>&#0160;<span class="op">=</span>&#0160;<span class="name">localname</span><br />
-<a class="lnum" href="#306" name="306">0306</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">transpose</span>&#0160;<span class="keyword">is</span>&#0160;<span class="keyword">not</span>&#0160;<span class="name">None</span><span class="op">:</span><br />
-<a class="lnum" href="#307" name="307">0307</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">qname</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">transpose</span><span class="op">(</span><span class="name">qname</span><span class="op">)</span><br />
-<a class="lnum" href="#308" name="308">0308</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="op">(</span><span class="name">uri</span><span class="op">,</span>&#0160;<span class="name">localname</span><span class="op">,</span>&#0160;<span class="name">qname</span><span class="op">)</span><br />
-<a class="lnum" href="#309" name="309">0309</a><br />
-<a class="lnum" href="#310" name="310">0310</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">transpose</span><span class="op">:</span><br />
-<a class="lnum" href="#311" name="311">0311</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">attr_http_equiv</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">transpose</span><span class="op">(</span><span class="string">'http-equiv'</span><span class="op">)</span><br />
-<a class="lnum" href="#312" name="312">0312</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">attr_content</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">transpose</span><span class="op">(</span><span class="string">'content'</span><span class="op">)</span><br />
-<a class="lnum" href="#313" name="313">0313</a><br />
-<a class="lnum" href="#314" name="314">0314</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">current</span>&#0160;<span class="op">=</span>&#0160;<span class="name">None</span><br />
-<a class="lnum" href="#315" name="315">0315</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">stack</span>&#0160;<span class="op">=</span>&#0160;<span class="op">[</span><span class="name">current</span><span class="op">]</span><br />
-<a class="lnum" href="#316" name="316">0316</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">stream</span>&#0160;<span class="op">=</span>&#0160;<span class="name">iter</span><span class="op">(</span><span class="name">stream</span><span class="op">)</span><br />
-<a class="lnum" href="#317" name="317">0317</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="keyword">not</span>&#0160;<span class="name">fragment</span>&#0160;<span class="keyword">and</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">doctype</span>&#0160;<span class="keyword">is</span>&#0160;<span class="keyword">not</span>&#0160;<span class="name">None</span><span class="op">:</span><br />
-<a class="lnum" href="#318" name="318">0318</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="name">serialize_doctype</span><span class="op">(</span><span class="name">self</span><span class="op">.</span><span class="name">doctype</span><span class="op">)</span>&#0160;<span class="op">+</span>&#0160;<span class="string">'\n'</span><br />
-<a class="lnum" href="#319" name="319">0319</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">apply_filters</span><span class="op">(</span><span class="name">stream</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#320" name="320">0320</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">ev</span>&#0160;<span class="op">==</span>&#0160;<span class="name">TEXT</span>&#0160;<span class="keyword">and</span>&#0160;<span class="name">item</span><span class="op">:</span><br />
-<a class="lnum" href="#321" name="321">0321</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">escape</span>&#0160;<span class="op">=</span>&#0160;<span class="name">current</span>&#0160;<span class="keyword">not</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">noescape_elements</span><br />
-<a class="lnum" href="#322" name="322">0322</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="name">escape_cdata</span><span class="op">(</span><span class="name">item</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">,</span>&#0160;<span class="name">escape</span><span class="op">)</span><br />
-<a class="lnum" href="#323" name="323">0323</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">elif</span>&#0160;<span class="name">ev</span>&#0160;<span class="op">==</span>&#0160;<span class="name">START</span><span class="op">:</span><br />
-<a class="lnum" href="#324" name="324">0324</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">tag</span>&#0160;<span class="op">==</span>&#0160;<span class="name">Comment</span><span class="op">:</span><br />
-<a class="lnum" href="#325" name="325">0325</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="string">"&lt;!--%s--&gt;"</span>&#0160;<span class="op">%</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">text</span><span class="op">.</span><span class="name">encode</span><span class="op">(</span><span class="name">encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#326" name="326">0326</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">lastev</span>&#0160;<span class="op">=</span>&#0160;<span class="name">COMMENT</span><br />
-<a class="lnum" href="#327" name="327">0327</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">continue</span><br />
-<a class="lnum" href="#328" name="328">0328</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">elif</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">tag</span>&#0160;<span class="op">==</span>&#0160;<span class="name">ProcessingInstruction</span><span class="op">:</span><br />
-<a class="lnum" href="#329" name="329">0329</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="string">"&lt;?%s&gt;"</span>&#0160;<span class="op">%</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">text</span><span class="op">.</span><span class="name">encode</span><span class="op">(</span><span class="name">encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#330" name="330">0330</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">lastev</span>&#0160;<span class="op">=</span>&#0160;<span class="name">PI</span><br />
-<a class="lnum" href="#331" name="331">0331</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">continue</span><br />
-<a class="lnum" href="#332" name="332">0332</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">elif</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">tag</span>&#0160;<span class="op">==</span>&#0160;<span class="name">Fragment</span><span class="op">:</span><br />
-<a class="lnum" href="#333" name="333">0333</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">continue</span><br />
-<a class="lnum" href="#334" name="334">0334</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#335" name="335">0335</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">names</span><span class="op">.</span><span class="name">push</span><span class="op">(</span><span class="name">namespaces</span><span class="op">(</span><span class="name">item</span><span class="op">,</span>&#0160;<span class="name">remove</span><span class="op">=</span><span class="number">1</span><span class="op">)</span><span class="op">)</span><br />
-<a class="lnum" href="#336" name="336">0336</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">tag</span>&#0160;<span class="op">=</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">tag</span><br />
-<a class="lnum" href="#337" name="337">0337</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="op">(</span><span class="name">uri</span><span class="op">,</span>&#0160;<span class="name">localname</span><span class="op">,</span>&#0160;<span class="name">qname</span><span class="op">)</span>&#0160;<span class="op">=</span>&#0160;<span class="name">grok_name</span><span class="op">(</span><span class="name">tag</span><span class="op">)</span><br />
-<a class="lnum" href="#338" name="338">0338</a><br />
-<a class="lnum" href="#339" name="339">0339</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="comment">#&#0160;push&#0160;this&#0160;name&#0160;on&#0160;the&#0160;stack&#0160;so&#0160;we&#0160;know&#0160;where&#0160;we&#0160;are</span><br />
-<a class="lnum" href="#340" name="340">0340</a><span class="comment"></span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">current</span>&#0160;<span class="op">=</span>&#0160;<span class="name">qname</span><span class="op">.</span><span class="name">lower</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#341" name="341">0341</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">stack</span><span class="op">.</span><span class="name">append</span><span class="op">(</span><span class="name">current</span><span class="op">)</span><br />
-<a class="lnum" href="#342" name="342">0342</a><br />
-<a class="lnum" href="#343" name="343">0343</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="string">"&lt;"</span>&#0160;<span class="op">+</span>&#0160;<span class="name">qname</span><span class="op">.</span><span class="name">encode</span><span class="op">(</span><span class="name">encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#344" name="344">0344</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">attrs</span>&#0160;<span class="op">=</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">attrib</span><span class="op">.</span><span class="name">items</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#345" name="345">0345</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">attrs</span><span class="op">:</span><br />
-<a class="lnum" href="#346" name="346">0346</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">k</span><span class="op">,</span>&#0160;<span class="name">v</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">attrs</span><span class="op">:</span><br />
-<a class="lnum" href="#347" name="347">0347</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="op">(</span><span class="name">u</span><span class="op">,</span>&#0160;<span class="name">l</span><span class="op">,</span>&#0160;<span class="name">q</span><span class="op">)</span>&#0160;<span class="op">=</span>&#0160;<span class="name">grok_name</span><span class="op">(</span><span class="name">k</span><span class="op">)</span><br />
-<a class="lnum" href="#348" name="348">0348</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">lq</span>&#0160;<span class="op">=</span>&#0160;<span class="name">q</span><span class="op">.</span><span class="name">lower</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#349" name="349">0349</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">lq</span>&#0160;<span class="op">==</span>&#0160;<span class="string">'xml:lang'</span><span class="op">:</span>&#0160;<span class="keyword">continue</span><br />
-<a class="lnum" href="#350" name="350">0350</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">lq</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">boolean_attributes</span><span class="op">:</span><br />
-<a class="lnum" href="#351" name="351">0351</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="comment">#&#0160;XXX:&#0160;what&#0160;if&#0160;v&#0160;is&#0160;0,&#0160;false,&#0160;or&#0160;no.</span><br />
-<a class="lnum" href="#352" name="352">0352</a><span class="comment"></span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="comment">#&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;should&#0160;we&#0160;omit&#0160;the&#0160;attribute?</span><br />
-<a class="lnum" href="#353" name="353">0353</a><span class="comment"></span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="string">'&#0160;%s'</span>&#0160;<span class="op">%</span>&#0160;<span class="name">q</span><span class="op">.</span><span class="name">encode</span><span class="op">(</span><span class="name">encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#354" name="354">0354</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#355" name="355">0355</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="string">'&#0160;%s="%s"'</span>&#0160;<span class="op">%</span>&#0160;<span class="op">(</span><span class="name">q</span><span class="op">.</span><span class="name">encode</span><span class="op">(</span><span class="name">encoding</span><span class="op">)</span><span class="op">,</span><br />
-<a class="lnum" href="#356" name="356">0356</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">escape_attrib</span><span class="op">(</span><span class="name">v</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">)</span><span class="op">)</span><br />
-<a class="lnum" href="#357" name="357">0357</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="string">"&gt;"</span><br />
-<a class="lnum" href="#358" name="358">0358</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">inject_type</span><span class="op">:</span><br />
-<a class="lnum" href="#359" name="359">0359</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">current</span>&#0160;<span class="op">==</span>&#0160;<span class="string">'head'</span><span class="op">:</span><br />
-<a class="lnum" href="#360" name="360">0360</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="op">(</span><span class="name">uri</span><span class="op">,</span>&#0160;<span class="name">localname</span><span class="op">,</span>&#0160;<span class="name">qname</span><span class="op">)</span>&#0160;<span class="op">=</span>&#0160;<span class="name">grok_name</span><span class="op">(</span><span class="string">"meta"</span><span class="op">)</span><br />
-<a class="lnum" href="#361" name="361">0361</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="string">'&lt;%s&#0160;%s="text/html;&#0160;charset=%s"'</span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">'&#0160;%s="Content-Type"&gt;'</span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="op">%</span>&#0160;<span class="op">(</span><span class="name">qname</span><span class="op">.</span><span class="name">encode</span><span class="op">(</span><span class="name">encoding</span><span class="op">)</span><span class="op">,</span><br />
-<a class="lnum" href="#364" name="364">0364</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">attr_content</span><span class="op">,</span><br />
-<a class="lnum" href="#365" name="365">0365</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">encoding</span><span class="op">,</span><br />
-<a class="lnum" href="#366" name="366">0366</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">attr_http_equiv</span><span class="op">)</span><br />
-<a class="lnum" href="#367" name="367">0367</a><br />
-<a class="lnum" href="#368" name="368">0368</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">elif</span>&#0160;<span class="name">ev</span>&#0160;<span class="op">==</span>&#0160;<span class="name">END</span>&#0160;<span class="keyword">and</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">tag</span>&#0160;<span class="keyword">not</span>&#0160;<span class="keyword">in</span>&#0160;<span class="op">(</span><span class="name">Comment</span><span class="op">,</span><br />
-<a class="lnum" href="#369" name="369">0369</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">ProcessingInstruction</span><span class="op">,</span><br />
-<a class="lnum" href="#370" name="370">0370</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">Fragment</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#371" name="371">0371</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">current</span>&#0160;<span class="op">=</span>&#0160;<span class="name">stack</span><span class="op">.</span><span class="name">pop</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#372" name="372">0372</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">current</span>&#0160;<span class="keyword">not</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">empty_elements</span><span class="op">:</span><br />
-<a class="lnum" href="#373" name="373">0373</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">tag</span>&#0160;<span class="op">=</span>&#0160;<span class="name">item</span><span class="op">.</span><span class="name">tag</span><br />
-<a class="lnum" href="#374" name="374">0374</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="op">(</span><span class="name">uri</span><span class="op">,</span>&#0160;<span class="name">localname</span><span class="op">,</span>&#0160;<span class="name">qname</span><span class="op">)</span>&#0160;<span class="op">=</span>&#0160;<span class="name">grok_name</span><span class="op">(</span><span class="name">tag</span><span class="op">)</span><br />
-<a class="lnum" href="#375" name="375">0375</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="string">"&lt;/%s&gt;"</span>&#0160;<span class="op">%</span>&#0160;<span class="name">qname</span><span class="op">.</span><span class="name">encode</span><span class="op">(</span><span class="name">encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#376" name="376">0376</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">current</span>&#0160;<span class="op">=</span>&#0160;<span class="name">stack</span><span class="op">[</span><span class="op">-</span><span class="number">1</span><span class="op">]</span><br />
-<a class="lnum" href="#377" name="377">0377</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">names</span><span class="op">.</span><span class="name">pop</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#378" name="378">0378</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span><br />
-<a class="lnum" href="#379" name="379">0379</a><br />
-<a class="lnum" href="#380" name="380">0380</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">escape_cdata</span><span class="op">(</span><span class="name">text</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">=</span><span class="name">None</span><span class="op">,</span>&#0160;<span class="name">escape</span><span class="op">=</span><span class="number">1</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#381" name="381">0381</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">"""Escape&#0160;character&#0160;data."""</span><br />
-<a class="lnum" href="#382" name="382">0382</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">try</span><span class="op">:</span><br />
-<a class="lnum" href="#383" name="383">0383</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">encoding</span><span class="op">:</span><br />
-<a class="lnum" href="#384" name="384">0384</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">try</span><span class="op">:</span><br />
-<a class="lnum" href="#385" name="385">0385</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">text</span><span class="op">.</span><span class="name">encode</span><span class="op">(</span><span class="name">encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#386" name="386">0386</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">except</span>&#0160;<span class="name">UnicodeError</span><span class="op">:</span><br />
-<a class="lnum" href="#387" name="387">0387</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">_encode_entity</span><span class="op">(</span><span class="name">text</span><span class="op">)</span><br />
-<a class="lnum" href="#388" name="388">0388</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">escape</span><span class="op">:</span><br />
-<a class="lnum" href="#389" name="389">0389</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">text</span><span class="op">.</span><span class="name">replace</span><span class="op">(</span><span class="string">"&amp;"</span><span class="op">,</span>&#0160;<span class="string">"&amp;amp;"</span><span class="op">)</span><br />
-<a class="lnum" href="#390" name="390">0390</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">text</span><span class="op">.</span><span class="name">replace</span><span class="op">(</span><span class="string">"&lt;"</span><span class="op">,</span>&#0160;<span class="string">"&amp;lt;"</span><span class="op">)</span><br />
-<a class="lnum" href="#391" name="391">0391</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">text</span><br />
-<a class="lnum" href="#392" name="392">0392</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">except</span>&#0160;<span class="op">(</span><span class="name">TypeError</span><span class="op">,</span>&#0160;<span class="name">AttributeError</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#393" name="393">0393</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">_raise_serialization_error</span><span class="op">(</span><span class="name">text</span><span class="op">)</span><br />
-<a class="lnum" href="#394" name="394">0394</a>&#0160;&#0160;&#0160;&#0160;<span class="name">escape_cdata</span>&#0160;<span class="op">=</span>&#0160;<span class="name">staticmethod</span><span class="op">(</span><span class="name">escape_cdata</span><span class="op">)</span><br />
-<a class="lnum" href="#395" name="395">0395</a><br />
-<a class="lnum" href="#396" name="396">0396</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">escape_attrib</span><span class="op">(</span><span class="name">text</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">=</span><span class="name">None</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#397" name="397">0397</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">"""Escape&#0160;attribute&#0160;value."""</span><br />
-<a class="lnum" href="#398" name="398">0398</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">try</span><span class="op">:</span><br />
-<a class="lnum" href="#399" name="399">0399</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">encoding</span><span class="op">:</span><br />
-<a class="lnum" href="#400" name="400">0400</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">try</span><span class="op">:</span><br />
-<a class="lnum" href="#401" name="401">0401</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">text</span><span class="op">.</span><span class="name">encode</span><span class="op">(</span><span class="name">encoding</span><span class="op">)</span><br />
-<a class="lnum" href="#402" name="402">0402</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">except</span>&#0160;<span class="name">UnicodeError</span><span class="op">:</span><br />
-<a class="lnum" href="#403" name="403">0403</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">_encode_entity</span><span class="op">(</span><span class="name">text</span><span class="op">)</span><br />
-<a class="lnum" href="#404" name="404">0404</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">text</span><span class="op">.</span><span class="name">replace</span><span class="op">(</span><span class="string">"&amp;"</span><span class="op">,</span>&#0160;<span class="string">"&amp;amp;"</span><span class="op">)</span><br />
-<a class="lnum" href="#405" name="405">0405</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">text</span><span class="op">.</span><span class="name">replace</span><span class="op">(</span><span class="string">"\""</span><span class="op">,</span>&#0160;<span class="string">"&amp;quot;"</span><span class="op">)</span><br />
-<a class="lnum" href="#406" name="406">0406</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">text</span><br />
-<a class="lnum" href="#407" name="407">0407</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">except</span>&#0160;<span class="op">(</span><span class="name">TypeError</span><span class="op">,</span>&#0160;<span class="name">AttributeError</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#408" name="408">0408</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">_raise_serialization_error</span><span class="op">(</span><span class="name">text</span><span class="op">)</span><br />
-<a class="lnum" href="#409" name="409">0409</a>&#0160;&#0160;&#0160;&#0160;<span class="name">escape_attrib</span>&#0160;<span class="op">=</span>&#0160;<span class="name">staticmethod</span><span class="op">(</span><span class="name">escape_attrib</span><span class="op">)</span><br />
-<a class="lnum" href="#410" name="410">0410</a><br />
-<a class="lnum" href="#411" name="411">0411</a><span class="keyword">class</span>&#0160;<span class="name">XHTMLSerializer</span><span class="op">(</span><span class="name">XMLSerializer</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#412" name="412">0412</a>&#0160;&#0160;&#0160;&#0160;<span class="name">empty_elements</span>&#0160;<span class="op">=</span>&#0160;<span class="op">[</span><span class="name">namespace</span><span class="op">.</span><span class="name">xhtml</span><span class="op">.</span><span class="name">clarkname</span><span class="op">(</span><span class="name">name</span><span class="op">)</span>&#0160;<span class="keyword">for</span>&#0160;<span class="name">name</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">HTMLSerializer</span><span class="op">.</span><span class="name">empty_elements</span><span class="op">]</span><br />
-<a class="lnum" href="#413" name="413">0413</a>&#0160;&#0160;&#0160;&#0160;<span class="name">elements_with_pcdata</span>&#0160;<span class="op">=</span>&#0160;<span class="op">[</span><span class="name">namespace</span><span class="op">.</span><span class="name">xhtml</span><span class="op">.</span><span class="name">clarkname</span><span class="op">(</span><span class="name">name</span><span class="op">)</span>&#0160;<span class="keyword">for</span>&#0160;<span class="name">name</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">HTMLSerializer</span><span class="op">.</span><span class="name">elements_with_pcdata</span><span class="op">]</span><br />
-<a class="lnum" href="#414" name="414">0414</a><br />
-<a class="lnum" href="#415" name="415">0415</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">can_be_empty_element</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">ns_stack</span><span class="op">,</span>&#0160;<span class="name">tagname</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#416" name="416">0416</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">tagname</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">empty_elements</span><br />
-<a class="lnum" href="#417" name="417">0417</a><br />
-<a class="lnum" href="#418" name="418">0418</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">has_only_pcdata</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">tagname</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#419" name="419">0419</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">tagname</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">elements_with_pcdata</span><br />
-<a class="lnum" href="#420" name="420">0420</a><br />
-<a class="lnum" href="#421" name="421">0421</a><span class="keyword">class</span>&#0160;<span class="name">PlainSerializer</span><span class="op">(</span><span class="name">Serializer</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#422" name="422">0422</a><br />
-<a class="lnum" href="#423" name="423">0423</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">generate</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">stream</span><span class="op">,</span>&#0160;<span class="name">encoding</span><span class="op">=</span><span class="name">None</span><span class="op">,</span>&#0160;<span class="name">fragment</span><span class="op">=</span><span class="number">0</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#424" name="424">0424</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="comment">#&#0160;XXX:&#0160;Should&#0160;this&#0160;be&#0160;ASCII?</span><br />
-<a class="lnum" href="#425" name="425">0425</a><span class="comment"></span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">encoding</span>&#0160;<span class="op">=</span>&#0160;<span class="name">encoding</span>&#0160;<span class="keyword">or</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">encoding</span>&#0160;<span class="keyword">or</span>&#0160;<span class="string">'utf-8'</span><br />
-<a class="lnum" href="#426" name="426">0426</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">ev</span><span class="op">,</span>&#0160;<span class="name">item</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">apply_filters</span><span class="op">(</span><span class="name">stream</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#427" name="427">0427</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">ev</span>&#0160;<span class="op">==</span>&#0160;<span class="name">TEXT</span><span class="op">:</span><br />
-<a class="lnum" href="#428" name="428">0428</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">yield</span>&#0160;<span class="name">item</span><br />
-<a class="lnum" href="#429" name="429">0429</a><br />
-<a class="lnum" href="#430" name="430">0430</a><br />
-<a class="lnum" href="#431" name="431">0431</a><span class="keyword">class</span>&#0160;<span class="name">NamespaceStack</span><span class="op">:</span><br />
-<a class="lnum" href="#432" name="432">0432</a><br />
-<a class="lnum" href="#433" name="433">0433</a>&#0160;&#0160;&#0160;&#0160;<span class="string">"""Maintains&#0160;a&#0160;stack&#0160;of&#0160;namespace&#0160;prefix&#0160;to&#0160;URI&#0160;mappings."""</span><br />
-<a class="lnum" href="#434" name="434">0434</a><br />
-<a class="lnum" href="#435" name="435">0435</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">__init__</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">default_map</span><span class="op">=</span><span class="name">namespace</span><span class="op">.</span><span class="name">namespaces</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#436" name="436">0436</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">stack</span>&#0160;<span class="op">=</span>&#0160;<span class="op">[</span><span class="op">]</span><br />
-<a class="lnum" href="#437" name="437">0437</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">default_map</span>&#0160;<span class="op">=</span>&#0160;<span class="name">default_map</span><br />
-<a class="lnum" href="#438" name="438">0438</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">push</span><span class="op">(</span><span class="op">)</span><br />
-<a class="lnum" href="#439" name="439">0439</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">ns_count</span>&#0160;<span class="op">=</span>&#0160;<span class="number">0</span><br />
-<a class="lnum" href="#440" name="440">0440</a><br />
-<a class="lnum" href="#441" name="441">0441</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">push</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">names</span><span class="op">=</span><span class="name">None</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#442" name="442">0442</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">names</span>&#0160;<span class="keyword">is</span>&#0160;<span class="name">None</span><span class="op">:</span><br />
-<a class="lnum" href="#443" name="443">0443</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">names</span>&#0160;<span class="op">=</span>&#0160;<span class="op">{</span><span class="op">}</span><br />
-<a class="lnum" href="#444" name="444">0444</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">current</span>&#0160;<span class="op">=</span>&#0160;<span class="name">names</span><br />
-<a class="lnum" href="#445" name="445">0445</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">stack</span><span class="op">.</span><span class="name">insert</span><span class="op">(</span><span class="number">0</span><span class="op">,</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">current</span><span class="op">)</span><br />
-<a class="lnum" href="#446" name="446">0446</a><br />
-<a class="lnum" href="#447" name="447">0447</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">pop</span><span class="op">(</span><span class="name">self</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#448" name="448">0448</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">del</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">stack</span><span class="op">[</span><span class="number">0</span><span class="op">]</span><br />
-<a class="lnum" href="#449" name="449">0449</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">len</span><span class="op">(</span><span class="name">self</span><span class="op">.</span><span class="name">stack</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#450" name="450">0450</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">current</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">stack</span><span class="op">[</span><span class="number">0</span><span class="op">]</span><br />
-<a class="lnum" href="#451" name="451">0451</a><br />
-<a class="lnum" href="#452" name="452">0452</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">resolve_prefix</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">uri</span><span class="op">,</span>&#0160;<span class="name">default</span><span class="op">=</span><span class="number">1</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#453" name="453">0453</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">"""Figure&#0160;out&#0160;prefix&#0160;given&#0160;a&#0160;URI."""</span><br />
-<a class="lnum" href="#454" name="454">0454</a><br />
-<a class="lnum" href="#455" name="455">0455</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">uri</span>&#0160;<span class="op">==</span>&#0160;<span class="string">'http://www.w3.org/XML/1998/namespace'</span><span class="op">:</span><br />
-<a class="lnum" href="#456" name="456">0456</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="string">'xml'</span><br />
-<a class="lnum" href="#457" name="457">0457</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="comment">#&#0160;first&#0160;check&#0160;if&#0160;the&#0160;default&#0160;is&#0160;correct</span><br />
-<a class="lnum" href="#458" name="458">0458</a><span class="comment"></span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">is_default</span>&#0160;<span class="op">=</span>&#0160;<span class="op">-</span><span class="number">1</span><br />
-<a class="lnum" href="#459" name="459">0459</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">prefix</span>&#0160;<span class="op">=</span>&#0160;<span class="name">None</span><br />
-<a class="lnum" href="#460" name="460">0460</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">names</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">stack</span><span class="op">:</span><br />
-<a class="lnum" href="#461" name="461">0461</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">k</span><span class="op">,</span>&#0160;<span class="name">v</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">names</span><span class="op">.</span><span class="name">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&#0160;<span class="comment">#&#0160;(k,v)&#0160;=&#0160;(prefix,&#0160;uri)</span><br />
-<a class="lnum" href="#462" name="462">0462</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">default</span>&#0160;<span class="keyword">and</span>&#0160;<span class="name">is_default</span>&#0160;<span class="op">==</span>&#0160;<span class="op">-</span><span class="number">1</span>&#0160;<span class="keyword">and</span>&#0160;<span class="name">k</span>&#0160;<span class="op">==</span>&#0160;<span class="string">''</span><span class="op">:</span><br />
-<a class="lnum" href="#463" name="463">0463</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="comment">#&#0160;this&#0160;is&#0160;the&#0160;current&#0160;default&#0160;namespace</span><br />
-<a class="lnum" href="#464" name="464">0464</a><span class="comment"></span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">is_default</span>&#0160;<span class="op">=</span>&#0160;<span class="op">(</span><span class="name">v</span>&#0160;<span class="op">==</span>&#0160;<span class="name">uri</span><span class="op">)</span><br />
-<a class="lnum" href="#465" name="465">0465</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="op">(</span><span class="name">default</span>&#0160;<span class="keyword">and</span>&#0160;<span class="name">is_default</span><span class="op">)</span>&#0160;<span class="keyword">or</span>&#0160;<span class="name">prefix</span><span class="op">:</span><br />
-<a class="lnum" href="#466" name="466">0466</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">break</span><br />
-<a class="lnum" href="#467" name="467">0467</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">v</span>&#0160;<span class="op">==</span>&#0160;<span class="name">uri</span>&#0160;<span class="keyword">and</span>&#0160;<span class="name">k</span>&#0160;<span class="op">!=</span>&#0160;<span class="string">''</span><span class="op">:</span><br />
-<a class="lnum" href="#468" name="468">0468</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">prefix</span>&#0160;<span class="op">=</span>&#0160;<span class="name">k</span><br />
-<a class="lnum" href="#469" name="469">0469</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">is_default</span>&#0160;<span class="op">&gt;</span>&#0160;<span class="op">-</span><span class="number">1</span><span class="op">:</span><br />
-<a class="lnum" href="#470" name="470">0470</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">break</span><br />
-<a class="lnum" href="#471" name="471">0471</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">default</span>&#0160;<span class="keyword">and</span>&#0160;<span class="name">is_default</span>&#0160;<span class="op">==</span>&#0160;<span class="number">1</span><span class="op">:</span><br />
-<a class="lnum" href="#472" name="472">0472</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="string">''</span><br />
-<a class="lnum" href="#473" name="473">0473</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">elif</span>&#0160;<span class="name">prefix</span><span class="op">:</span><br />
-<a class="lnum" href="#474" name="474">0474</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">prefix</span><br />
-<a class="lnum" href="#475" name="475">0475</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#476" name="476">0476</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">None</span><br />
-<a class="lnum" href="#477" name="477">0477</a><br />
-<a class="lnum" href="#478" name="478">0478</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">resolve_uri</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">prefix</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#479" name="479">0479</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="string">"""Figure&#0160;out&#0160;URI&#0160;given&#0160;a&#0160;prefix."""</span><br />
-<a class="lnum" href="#480" name="480">0480</a><br />
-<a class="lnum" href="#481" name="481">0481</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">prefix</span>&#0160;<span class="op">==</span>&#0160;<span class="string">'xml'</span><span class="op">:</span><br />
-<a class="lnum" href="#482" name="482">0482</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="string">'http://www.w3.org/XML/1998/namespace'</span><br />
-<a class="lnum" href="#483" name="483">0483</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">names</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">stack</span><span class="op">:</span><br />
-<a class="lnum" href="#484" name="484">0484</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">uri</span>&#0160;<span class="op">=</span>&#0160;<span class="name">names</span><span class="op">.</span><span class="name">get</span><span class="op">(</span><span class="name">prefix</span><span class="op">)</span><br />
-<a class="lnum" href="#485" name="485">0485</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">uri</span><span class="op">:</span><br />
-<a class="lnum" href="#486" name="486">0486</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">uri</span><br />
-<a class="lnum" href="#487" name="487">0487</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">None</span><br />
-<a class="lnum" href="#488" name="488">0488</a><br />
-<a class="lnum" href="#489" name="489">0489</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">qname</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">cname</span><span class="op">,</span>&#0160;<span class="name">default</span><span class="op">=</span><span class="number">0</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#490" name="490">0490</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">isinstance</span><span class="op">(</span><span class="name">cname</span><span class="op">,</span>&#0160;<span class="name">QName</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#491" name="491">0491</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">cname</span>&#0160;<span class="op">=</span>&#0160;<span class="name">cname</span><span class="op">.</span><span class="name">text</span><br />
-<a class="lnum" href="#492" name="492">0492</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">cname</span><span class="op">[</span><span class="number">0</span><span class="op">]</span>&#0160;<span class="op">!=</span>&#0160;<span class="string">'{'</span><span class="op">:</span><br />
-<a class="lnum" href="#493" name="493">0493</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="comment">#&#0160;XXX:&#0160;need&#0160;to&#0160;make&#0160;sure&#0160;default&#0160;namespace&#0160;is&#0160;"no-namespace"</span><br />
-<a class="lnum" href="#494" name="494">0494</a><span class="comment"></span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">cname</span><br />
-<a class="lnum" href="#495" name="495">0495</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">uri</span><span class="op">,</span>&#0160;<span class="name">localname</span>&#0160;<span class="op">=</span>&#0160;<span class="name">cname</span><span class="op">[</span><span class="number">1</span><span class="op">:</span><span class="op">]</span><span class="op">.</span><span class="name">split</span><span class="op">(</span><span class="string">'}'</span><span class="op">,</span>&#0160;<span class="number">1</span><span class="op">)</span><br />
-<a class="lnum" href="#496" name="496">0496</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">prefix</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">resolve_prefix</span><span class="op">(</span><span class="name">uri</span><span class="op">,</span>&#0160;<span class="name">default</span><span class="op">)</span><br />
-<a class="lnum" href="#497" name="497">0497</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">prefix</span>&#0160;<span class="keyword">is</span>&#0160;<span class="name">None</span><span class="op">:</span><br />
-<a class="lnum" href="#498" name="498">0498</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="comment">#&#0160;see&#0160;if&#0160;we&#0160;have&#0160;it&#0160;in&#0160;our&#0160;default&#0160;map</span><br />
-<a class="lnum" href="#499" name="499">0499</a><span class="comment"></span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">prefix</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">default_map</span><span class="op">.</span><span class="name">get</span><span class="op">(</span><span class="name">uri</span><span class="op">)</span><br />
-<a class="lnum" href="#500" name="500">0500</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">prefix</span>&#0160;<span class="keyword">is</span>&#0160;<span class="keyword">not</span>&#0160;<span class="name">None</span><span class="op">:</span><br />
-<a class="lnum" href="#501" name="501">0501</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">current</span><span class="op">[</span><span class="name">prefix</span><span class="op">]</span>&#0160;<span class="op">=</span>&#0160;<span class="name">uri</span><br />
-<a class="lnum" href="#502" name="502">0502</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#503" name="503">0503</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">default</span>&#0160;<span class="keyword">and</span>&#0160;<span class="keyword">not</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">current</span><span class="op">.</span><span class="name">has_key</span><span class="op">(</span><span class="string">''</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#504" name="504">0504</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">prefix</span>&#0160;<span class="op">=</span>&#0160;<span class="string">''</span><br />
-<a class="lnum" href="#505" name="505">0505</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">current</span><span class="op">[</span><span class="name">prefix</span><span class="op">]</span>&#0160;<span class="op">=</span>&#0160;<span class="name">uri</span><br />
-<a class="lnum" href="#506" name="506">0506</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#507" name="507">0507</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">ns_count</span>&#0160;<span class="op">+=</span>&#0160;<span class="number">1</span><br />
-<a class="lnum" href="#508" name="508">0508</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="comment">#&#0160;XXX&#0160;:&#0160;need&#0160;to&#0160;check&#0160;for&#0160;collisions&#0160;here.</span><br />
-<a class="lnum" href="#509" name="509">0509</a><span class="comment"></span>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">prefix</span>&#0160;<span class="op">=</span>&#0160;<span class="string">'ns%d'</span>&#0160;<span class="op">%</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">ns_count</span><br />
-<a class="lnum" href="#510" name="510">0510</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">current</span><span class="op">[</span><span class="name">prefix</span><span class="op">]</span>&#0160;<span class="op">=</span>&#0160;<span class="name">uri</span><br />
-<a class="lnum" href="#511" name="511">0511</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">prefix</span>&#0160;<span class="op">!=</span>&#0160;<span class="string">''</span><span class="op">:</span><br />
-<a class="lnum" href="#512" name="512">0512</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="string">'%s:%s'</span>&#0160;<span class="op">%</span>&#0160;<span class="op">(</span><span class="name">prefix</span><span class="op">,</span>&#0160;<span class="name">localname</span><span class="op">)</span><br />
-<a class="lnum" href="#513" name="513">0513</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#514" name="514">0514</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">localname</span><br />
-<a class="lnum" href="#515" name="515">0515</a><br />
-<a class="lnum" href="#516" name="516">0516</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">set</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">prefix</span><span class="op">,</span>&#0160;<span class="name">uri</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#517" name="517">0517</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">prefix</span>&#0160;<span class="keyword">is</span>&#0160;<span class="name">None</span><span class="op">:</span><br />
-<a class="lnum" href="#518" name="518">0518</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">prefix</span>&#0160;<span class="op">=</span>&#0160;<span class="string">''</span><br />
-<a class="lnum" href="#519" name="519">0519</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">current</span><span class="op">[</span><span class="name">prefix</span><span class="op">]</span>&#0160;<span class="op">=</span>&#0160;<span class="name">uri</span><br />
-<a class="lnum" href="#520" name="520">0520</a><br />
-<a class="lnum" href="#521" name="521">0521</a><br />
-<a class="lnum" href="#522" name="522">0522</a><br />
-<a class="lnum" href="#523" name="523">0523</a><span class="comment">#&#0160;utility&#0160;functions&#0160;for&#0160;escaping&#0160;XML&#0160;cdata&#0160;and&#0160;attributes</span><br />
-<a class="lnum" href="#524" name="524">0524</a><span class="comment"></span><span class="keyword">from</span>&#0160;<span class="name">kid</span><span class="op">.</span><span class="name">et</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">ET</span><br />
-<a class="lnum" href="#525" name="525">0525</a><span class="name">_encode_entity</span>&#0160;<span class="op">=</span>&#0160;<span class="name">ET</span><span class="op">.</span><span class="name">_encode_entity</span><br />
-<a class="lnum" href="#526" name="526">0526</a><span class="name">_raise_serialization_error</span>&#0160;<span class="op">=</span>&#0160;<span class="name">ET</span><span class="op">.</span><span class="name">_raise_serialization_error</span><br />
-<a class="lnum" href="#527" name="527">0527</a><br />
-<a class="lnum" href="#528" name="528">0528</a><span class="keyword">def</span>&#0160;<span class="name">serialize_doctype</span><span class="op">(</span><span class="name">doctype</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#529" name="529">0529</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="string">'&lt;!DOCTYPE&#0160;%s&#0160;PUBLIC&#0160;"%s"&#0160;"%s"&gt;'</span>&#0160;<span class="op">%</span>&#0160;<span class="name">doctype</span></code></div></body></html>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/kid/util.py.html kid-0.8svn249/doc/html/kid/util.py.html
--- kid-0.8/doc/html/kid/util.py.html	2005-03-07 02:43:50.000000000 -0500
+++ kid-0.8svn249/doc/html/kid/util.py.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,48 +0,0 @@
-<html><head><title>/Users/rtomayko/devel/kid.trunk/kid/util.py</title><style>
-        div.python {
-          color: #333
-        }
-        div.python a.lnum {
-          color: #555;
-          background-color: #eee;
-          border-right: 1px solid #999;
-          padding-right: 2px;
-          margin-right: 4px;
-        }
-        div.python span.comment { color: #933 }
-        div.python span.keyword { color: #a3e; font-weight: bold  }
-        div.python span.op { color: #c96 }
-        div.python span.string { color: #6a6 }
-        div.python span.name { }
-        div.python span.text { color: #333 }
-
-        </style></head><body><div class="python"><code><a class="lnum" href="#1" name="1">0001</a><span class="keyword">class</span>&#0160;<span class="name">QuickTextReader</span><span class="op">(</span><span class="name">object</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#2" name="2">0002</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">__init__</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">text</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#3" name="3">0003</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="name">text</span><br />
-<a class="lnum" href="#4" name="4">0004</a><br />
-<a class="lnum" href="#5" name="5">0005</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">def</span>&#0160;<span class="name">read</span><span class="op">(</span><span class="name">self</span><span class="op">,</span>&#0160;<span class="name">amount</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#6" name="6">0006</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">t</span>&#0160;<span class="op">=</span>&#0160;<span class="name">self</span><span class="op">.</span><span class="name">text</span><br />
-<a class="lnum" href="#7" name="7">0007</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="name">self</span><span class="op">.</span><span class="name">text</span>&#0160;<span class="op">=</span>&#0160;<span class="string">''</span><br />
-<a class="lnum" href="#8" name="8">0008</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">t</span><br />
-<a class="lnum" href="#9" name="9">0009</a><br />
-<a class="lnum" href="#10" name="10">0010</a><span class="keyword">def</span>&#0160;<span class="name">xml_sniff</span><span class="op">(</span><span class="name">text</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#11" name="11">0011</a>&#0160;&#0160;&#0160;&#0160;<span class="string">"""Sniff&#0160;text&#0160;to&#0160;see&#0160;if&#0160;it&#0160;looks&#0160;like&#0160;XML.</span><br />
-<a class="lnum" href="#12" name="12">0012</a><span class="string">&#0160;&#0160;&#0160;&#0160;Return&#0160;1&#0160;if&#0160;text&#0160;looks&#0160;like&#0160;XML,&#0160;otherwise&#0160;return&#0160;0.</span><br />
-<a class="lnum" href="#13" name="13">0013</a><span class="string">&#0160;&#0160;&#0160;&#0160;"""</span><br />
-<a class="lnum" href="#14" name="14">0014</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">for</span>&#0160;<span class="name">x</span>&#0160;<span class="keyword">in</span>&#0160;<span class="name">text</span><span class="op">:</span><br />
-<a class="lnum" href="#15" name="15">0015</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="name">x</span>&#0160;<span class="keyword">in</span>&#0160;<span class="string">'\t\r\n&#0160;'</span><span class="op">:</span><br />
-<a class="lnum" href="#16" name="16">0016</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">continue</span><br />
-<a class="lnum" href="#17" name="17">0017</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">elif</span>&#0160;<span class="name">x</span>&#0160;<span class="op">==</span>&#0160;<span class="string">'&lt;'</span><span class="op">:</span><br />
-<a class="lnum" href="#18" name="18">0018</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="number">1</span><br />
-<a class="lnum" href="#19" name="19">0019</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#20" name="20">0020</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="number">0</span><br />
-<a class="lnum" href="#21" name="21">0021</a><br />
-<a class="lnum" href="#22" name="22">0022</a><span class="keyword">from</span>&#0160;<span class="name">urllib</span>&#0160;<span class="keyword">import</span>&#0160;<span class="name">splittype</span><br />
-<a class="lnum" href="#23" name="23">0023</a><span class="keyword">def</span>&#0160;<span class="name">open_resource</span><span class="op">(</span><span class="name">uri</span><span class="op">,</span>&#0160;<span class="name">mode</span><span class="op">=</span><span class="string">'rb'</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#24" name="24">0024</a>&#0160;&#0160;&#0160;&#0160;<span class="string">"""Generic&#0160;resource&#0160;opener."""</span><br />
-<a class="lnum" href="#25" name="25">0025</a>&#0160;&#0160;&#0160;&#0160;<span class="op">(</span><span class="name">scheme</span><span class="op">,</span>&#0160;<span class="name">rest</span><span class="op">)</span>&#0160;<span class="op">=</span>&#0160;<span class="name">splittype</span><span class="op">(</span><span class="name">uri</span><span class="op">)</span><br />
-<a class="lnum" href="#26" name="26">0026</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">if</span>&#0160;<span class="keyword">not</span>&#0160;<span class="name">scheme</span>&#0160;<span class="keyword">or</span>&#0160;<span class="op">(</span><span class="name">len</span><span class="op">(</span><span class="name">scheme</span><span class="op">)</span>&#0160;<span class="op">==</span>&#0160;<span class="number">1</span>&#0160;<span class="keyword">and</span>&#0160;<span class="name">rest</span><span class="op">.</span><span class="name">startswith</span><span class="op">(</span><span class="string">'\\'</span><span class="op">)</span><span class="op">)</span><span class="op">:</span><br />
-<a class="lnum" href="#27" name="27">0027</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">open</span><span class="op">(</span><span class="name">uri</span><span class="op">,</span>&#0160;<span class="name">mode</span><span class="op">)</span><br />
-<a class="lnum" href="#28" name="28">0028</a>&#0160;&#0160;&#0160;&#0160;<span class="keyword">else</span><span class="op">:</span><br />
-<a class="lnum" href="#29" name="29">0029</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">import</span>&#0160;<span class="name">urllib2</span><br />
-<a class="lnum" href="#30" name="30">0030</a>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;<span class="keyword">return</span>&#0160;<span class="name">urllib2</span><span class="op">.</span><span class="name">urlopen</span><span class="op">(</span><span class="name">uri</span><span class="op">)</span></code></div></body></html>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/language.html kid-0.8svn249/doc/html/language.html
--- kid-0.8/doc/html/language.html	2005-12-02 03:01:08.000000000 -0500
+++ kid-0.8svn249/doc/html/language.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,1058 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>Kid Language Specification</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-      
-      <DIV CLASS="rst-doc">
-  
-  <H1 CLASS="pudge-member-page-heading">Kid Language Specification</H1>
-  
-  <TABLE RULES="none" FRAME="void" CLASS="docinfo">
-<COL CLASS="docinfo-name">
-
-<COL CLASS="docinfo-content">
-
-<TBODY VALIGN="top">
-<TR>
-<TH CLASS="docinfo-name">Author:</TH>
-<TD>
-<A HREF="http://naeblis.cx/rtomayko/" CLASS="first last reference">Ryan Tomayko</A></TD></TR>
-<TR>
-<TH CLASS="docinfo-name">Contact:</TH>
-<TD>
-<A HREF="mailto:rtomayko@gmail.com" CLASS="first last reference">rtomayko@gmail.com</A></TD></TR>
-<TR>
-<TH CLASS="docinfo-name">Revision:</TH>
-<TD>4</TD></TR>
-<TR>
-<TH CLASS="docinfo-name">Date:</TH>
-<TD>2005-11-10 07:52:40 -0500 (Thu, 10 Nov 2005)</TD></TR>
-<TR>
-<TH CLASS="docinfo-name">Copyright:</TH>
-<TD>2005, Ryan Tomayko</TD></TR>
-<TR CLASS="field">
-<TH CLASS="docinfo-name">Other Formats:</TH><TD CLASS="field-body"><A HREF="language.txt" CLASS="reference">Text</A></TD>
-</TR>
-</TBODY>
-</TABLE>
-  <!-- -*- mode: rst; encoding: utf-8 -*- -->
-  
-<P>Kid is a simple XML based template language that uses embedded <A HREF="http://www.python.org/" CLASS="reference">Python</A> to do
-cool stuff. The syntax was inspired by a number of existing template
-languages, namely <A HREF="http://www.w3.org/TR/xslt" CLASS="reference">XSLT</A>, <A HREF="http://www.zope.org/Wikis/DevSite/Projects/ZPT/TAL" CLASS="reference">TAL</A>, and <A HREF="http://www.php.net/" CLASS="reference">PHP</A>.</P>
-<P>This document describes the template language and will be most useful as
-reference to those developing Kid templates. For information about using
-templates from Python, the command line, or in web environments, see the
-<A HREF="guide.html" CLASS="reference">User's Guide</A>.</P>
-<DIV CLASS="contents topic" ID="contents">
-<P CLASS="topic-title first">
-<A NAME="contents">Contents</A></P>
-<UL CLASS="auto-toc simple">
-<LI>
-<A HREF="#synopsis" ID="id7" NAME="id7" CLASS="reference">1Synopsis</A></LI>
-<LI>
-<A HREF="#the-kid-namespace" ID="id8" NAME="id8" CLASS="reference">2The Kid Namespace</A></LI>
-<LI>
-<A HREF="#embedding-code-blocks-python" ID="id9" NAME="id9" CLASS="reference">3Embedding Code Blocks (<TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;?python?></SPAN></TT>)</A></LI>
-<LI>
-<A HREF="#content-producing-constructs" ID="id10" NAME="id10" CLASS="reference">4Content Producing Constructs</A></LI>
-<LI>
-<A HREF="#python-expression-substitution-expr" ID="id11" NAME="id11" CLASS="reference">5Python Expression Substitution (<TT CLASS="docutils literal"><SPAN CLASS="pre">${expr}</SPAN></TT>)</A><UL CLASS="auto-toc">
-<LI>
-<A HREF="#identifier-shortcut-name" ID="id12" NAME="id12" CLASS="reference">5.1Identifier Shortcut (<TT CLASS="docutils literal"><SPAN CLASS="pre">$name</SPAN></TT>)</A></LI>
-<LI>
-<A HREF="#escaping" ID="id13" NAME="id13" CLASS="reference">5.2Escaping (<TT CLASS="docutils literal"><SPAN CLASS="pre">$$</SPAN></TT>)</A></LI>
-</UL>
-</LI>
-<LI>
-<A HREF="#default-imports" ID="id14" NAME="id14" CLASS="reference">6Default Imports</A><UL CLASS="auto-toc">
-<LI>
-<A HREF="#xml-function" ID="id15" NAME="id15" CLASS="reference">6.1<TT CLASS="docutils literal"><SPAN CLASS="pre">XML()</SPAN></TT> function</A></LI>
-<LI>
-<A HREF="#document-function" ID="id16" NAME="id16" CLASS="reference">6.2<TT CLASS="docutils literal"><SPAN CLASS="pre">document()</SPAN></TT> function</A></LI>
-</UL>
-</LI>
-<LI>
-<A HREF="#attribute-language" ID="id17" NAME="id17" CLASS="reference">7Attribute Language</A><UL CLASS="auto-toc">
-<LI>
-<A HREF="#repetition-iteration-py-for" ID="id18" NAME="id18" CLASS="reference">7.1Repetition/Iteration (<TT CLASS="docutils literal"><SPAN CLASS="pre">py:for</SPAN></TT>)</A></LI>
-<LI>
-<A HREF="#conditionals-py-if" ID="id19" NAME="id19" CLASS="reference">7.2Conditionals (<TT CLASS="docutils literal"><SPAN CLASS="pre">py:if</SPAN></TT>)</A></LI>
-<LI>
-<A HREF="#dynamic-content-py-content" ID="id20" NAME="id20" CLASS="reference">7.3Dynamic Content (<TT CLASS="docutils literal"><SPAN CLASS="pre">py:content</SPAN></TT>)</A></LI>
-<LI>
-<A HREF="#replacing-content-py-replace" ID="id21" NAME="id21" CLASS="reference">7.4Replacing Content (<TT CLASS="docutils literal"><SPAN CLASS="pre">py:replace</SPAN></TT>)</A></LI>
-<LI>
-<A HREF="#stripping-tags-py-strip" ID="id22" NAME="id22" CLASS="reference">7.5Stripping Tags (<TT CLASS="docutils literal"><SPAN CLASS="pre">py:strip</SPAN></TT>)</A></LI>
-<LI>
-<A HREF="#dynamic-attributes-py-attrs" ID="id23" NAME="id23" CLASS="reference">7.6Dynamic Attributes (<TT CLASS="docutils literal"><SPAN CLASS="pre">py:attrs</SPAN></TT>)</A></LI>
-<LI>
-<A HREF="#named-template-functions-py-def" ID="id24" NAME="id24" CLASS="reference">7.7Named Template Functions (<TT CLASS="docutils literal"><SPAN CLASS="pre">py:def</SPAN></TT>)</A></LI>
-<LI>
-<A HREF="#match-templates-py-match" ID="id25" NAME="id25" CLASS="reference">7.8Match Templates (<TT CLASS="docutils literal"><SPAN CLASS="pre">py:match</SPAN></TT>)</A></LI>
-<LI>
-<A HREF="#template-reuse-py-extends" ID="id26" NAME="id26" CLASS="reference">7.9Template Reuse (<TT CLASS="docutils literal"><SPAN CLASS="pre">py:extends</SPAN></TT>)</A></LI>
-</UL>
-</LI>
-<LI>
-<A HREF="#processing-order" ID="id27" NAME="id27" CLASS="reference">8Processing Order</A></LI>
-<LI>
-<A HREF="#revision-history" ID="id28" NAME="id28" CLASS="reference">9Revision History</A><UL CLASS="auto-toc">
-<LI>
-<A HREF="#revision-4-kid-v0-6" ID="id29" NAME="id29" CLASS="reference">9.1Revision 4 (Kid v0.6)</A></LI>
-<LI>
-<A HREF="#revision-3-kid-v0-5" ID="id30" NAME="id30" CLASS="reference">9.2Revision 3 (Kid v0.5)</A></LI>
-<LI>
-<A HREF="#revision-2" ID="id31" NAME="id31" CLASS="reference">9.3Revision 2</A></LI>
-<LI>
-<A HREF="#revision-1" ID="id32" NAME="id32" CLASS="reference">9.4Revision 1</A></LI>
-</UL>
-</LI>
-</UL>
-</DIV>
-<DIV CLASS="section" ID="synopsis">
-<H1>
-<A HREF="#id7" CLASS="toc-backref" NAME="synopsis">1Synopsis</A></H1>
-<PRE CLASS="literal-block">
-&lt;?python
-title = "A Kid Test Document"
-fruits = ["apple", "orange", "kiwi", "M&amp;M"]
-from platform import system
-?>
-&lt;html xmlns:py="http://purl.org/kid/ns#">
-  &lt;head>
-    &lt;title py:content="title">This is replaced.&lt;/title>
-  &lt;/head>
-  &lt;body>
-    &lt;p>These are some of my favorite fruits:&lt;/p>
-    &lt;ul>
-      &lt;li py:for="fruit in fruits">
-        I like ${fruit}s
-      &lt;/li>
-    &lt;/ul>
-    &lt;p py:if="system() == 'Linux'">
-      Good for you!
-    &lt;/p>
-  &lt;/body>
-&lt;/html>
-</PRE>
-<P>Yields something like this:</P>
-<PRE CLASS="literal-block">
-&lt;?xml version="1.0" encoding="utf-8"?>
-&lt;html>
-  &lt;head>
-    &lt;title>A Kid Test Document&lt;/title>
-  &lt;/head>
-  &lt;body>
-    &lt;p>These are some of my favorite fruits:&lt;/p>
-    &lt;ul>
-      &lt;li>I like apples&lt;/li>
-      &lt;li>I like oranges&lt;/li>
-      &lt;li>I like kiwis&lt;/li>
-      &lt;li>I like M&amp;amp;Ms&lt;/li>
-    &lt;/ul>
-    &lt;p>
-      Good for you!
-    &lt;/p>
-  &lt;/body>
-&lt;/html>
-</PRE>
-</DIV>
-<DIV CLASS="section" ID="the-kid-namespace">
-<H1>
-<A HREF="#id8" CLASS="toc-backref" NAME="the-kid-namespace">2The Kid Namespace</A></H1>
-<P>All attributes described in this document must belong to the following
-namespace:</P>
-<PRE CLASS="literal-block">
-http://purl.org/kid/ns#
-</PRE>
-<P>The namespace prefix <TT CLASS="docutils literal"><SPAN CLASS="pre">py</SPAN></TT> is used throughout this document to indicate
-that an item belongs to the Kid/Python namespace.</P>
-</DIV>
-<DIV CLASS="section" ID="embedding-code-blocks-python">
-<H1>
-<A HREF="#id9" CLASS="toc-backref" NAME="embedding-code-blocks-python">3Embedding Code Blocks (<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">&lt;?python?></SPAN></TT>)</A></H1>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;?python?></SPAN></TT> processing instruction (PI) contains Python code and
-<EM>MAY</EM> occur anywhere that is legal for processing instructions to occur in an
-XML document.</P>
-<P>The rules for executing code found in a <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;?python?></SPAN></TT> PI is as follows:</P>
-<OL CLASS="arabic simple">
-<LI>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">&lt;?python?></SPAN></TT> PIs located outside of the document element (e.g. root
-element) contain <EM>Document Level</EM> code. This code <EM>SHOULD</EM> be executed
-in a global, shared scope for the document. The code <EM>SHOULD</EM> be
-executed once when the template is loaded and shared between multiple
-invocations of the template.</LI>
-<LI>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">&lt;?python?></SPAN></TT> PIs located within the document element contain <EM>Local
-Level</EM> code. This code is executed each time the document is processed
-with a local scope specific to the invocation and the shared document
-level global scope.</LI>
-</OL>
-<P>
-<EM>Document Level</EM> and <EM>Local Level</EM> code work exactly like <EM>Module Level</EM> and
-<EM>Function Level</EM> code in normal Python modules. For example, the following
-Kid template:</P>
-<PRE CLASS="literal-block">
-&lt;?python
-x = 0
-y = 0
-?>
-&lt;html xmlns:py="http://purl.org/kid/ns#">
-  &lt;?python
-  x = 1
-  if x == 1:
-    x = 10
-  ?>
-  &lt;p py:content="x"/>
-  &lt;?python
-  global y
-  y = 30
-  ?>
-  &lt;p py:content="y"/>
-&lt;/html>
-</PRE>
-<P>May be considered equivalent to the following Python module:</P>
-<PRE CLASS="literal-block">
-x = 0
-y = 0
-def expand(handler):
-  handler.startDocument()
-  handler.startElement('html')
-  x = 1
-  if x == 1:
-    x = 10
-  handler.element('p', content=x) # output p element with x as value
-  global y
-  y = 30
-  handler.element('p', content=y) # output p element with value of y
-  handler.endElement('html')
-  handler.endDocument()
-</PRE>
-<P>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">&lt;?python?></SPAN></TT> PIs may contain any legal Python language construct including
-functions, classes, lamda forms, etc.</P>
-<PRE CLASS="literal-block">
-&lt;?python
-class Adder:
-  def __init__(self, x, y):
-    self.x = x
-    self.y = y
-  def doit(self):
-    return self.x + self.y
-
-foo = Adder(x=400, y=20)
-x = foo.doit()
-?>
-</PRE>
-<P>Single line <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;?python?></SPAN></TT> PIs are okay too:</P>
-<PRE CLASS="literal-block">
-&lt;?python x = 10 ?>
-</PRE>
-</DIV>
-<DIV CLASS="section" ID="content-producing-constructs">
-<SPAN ID="content-producing-construct">
-</SPAN>
-<H1>
-<A HREF="#id10" CLASS="toc-backref" NAME="content-producing-constructs">4Content Producing Constructs</A></H1>
-<P>There are multiple methods of generating content output from a template:
-<TT CLASS="docutils literal"><SPAN CLASS="pre">py:content</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">py:replace</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">py:attrs</SPAN></TT>, and <TT CLASS="docutils literal"><SPAN CLASS="pre">${}</SPAN></TT> substitution. Each
-of these syntaxes have the same rules for what types of objects may result
-from the Python expression they contain.</P>
-<DL CLASS="docutils">
-<DT>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">str</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">unicode</SPAN></TT></DT>
-<DD>The string is inserted as XML CDATA. That is, it is non-parsable
-character data that does not contain markup. The following characters are
-encoded as XML entities when serialized: '&lt;', '&amp;'. Attribute values
-containing content also encode the quote character: '"'.</DD>
-<DT>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">ElementTree.Element</SPAN></TT></DT>
-<DD>
-<P CLASS="first">When an <TT CLASS="docutils literal"><SPAN CLASS="pre">ElementTree.Element</SPAN></TT> is referenced from a content producing
-construct, the item is inserted into the document literally, i.e. it is
-not encoded as text, but becomes part of the output structure.</P>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">XML()</SPAN></TT> and <TT CLASS="docutils literal"><SPAN CLASS="pre">document()</SPAN></TT> functions can be used to turn a string
-into structured content and to retrieve an XML document from a URL,
-respectively.</P>
-<P CLASS="last">Note that attribute values <EM>MUST NOT</EM> reference structured content. This
-applies to <TT CLASS="docutils literal"><SPAN CLASS="pre">py:attrs</SPAN></TT> and using <TT CLASS="docutils literal"><SPAN CLASS="pre">${}</SPAN></TT> substitution in attribute values.</P>
-</DD>
-<DT>
-<EM>sequence</EM></DT>
-<DD>If a sequence type (<TT CLASS="docutils literal"><SPAN CLASS="pre">list</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">tuple</SPAN></TT>, or other iterable) is referenced,
-the rules are applied to each of the items in the sequence. For example,
-you could reference a list containing an <TT CLASS="docutils literal"><SPAN CLASS="pre">Element</SPAN></TT> and a string.</DD>
-<DT>Other</DT>
-<DD>If the result of evaluating the expression is any other type, an
-attempt is made to coerce the value to unicode as if by calling
-<TT CLASS="docutils literal"><SPAN CLASS="pre">unicode(expr)</SPAN></TT> and processing continues as if the object were a string
-or unicode object initially.</DD>
-</DL>
-</DIV>
-<DIV CLASS="section" ID="python-expression-substitution-expr">
-<SPAN ID="expression-substitution">
-</SPAN>
-<H1>
-<A HREF="#id11" CLASS="toc-backref" NAME="python-expression-substitution-expr">5Python Expression Substitution (<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">${expr}</SPAN></TT>)</A></H1>
-<P>Attributes not belonging to the Kid namespace and text content <EM>MAY</EM> embed
-Python expressions by enclosing the expression within a dollar sign followed
-by curly braces: <TT CLASS="docutils literal"><SPAN CLASS="pre">${expr}</SPAN></TT>. The result of evaluating the expression(s) is
-substituted with the rest of the attribute value or text content following
-rules defined for <A HREF="#content-producing-constructs" CLASS="reference">Content Producing Constructs</A>.</P>
-<PRE CLASS="literal-block">
-&lt;?python
-verb = 'ran'
-noun = 'store'
-?>
-&lt;a title="I ${verb} to the ${noun}">...
-</PRE>
-<P>... would result in:</P>
-<PRE CLASS="literal-block">
-&lt;a title="I ran to the store">...
-</PRE>
-<P>If an attribute value consists purely of substitution expressions and all
-expressions evaluate to <TT CLASS="docutils literal"><SPAN CLASS="pre">None</SPAN></TT>, the attribute is removed. This can be
-avoided by using <TT CLASS="docutils literal"><SPAN CLASS="pre">expr</SPAN> <SPAN CLASS="pre">or</SPAN> <SPAN CLASS="pre">''</SPAN></TT> to force a zero length string to be
-returned instead of <TT CLASS="docutils literal"><SPAN CLASS="pre">None</SPAN></TT>. For example:</P>
-<PRE CLASS="literal-block">
-&lt;?python
-# set something to None
-x = None
-?>
-&lt;a title="${x}">...
-</PRE>
-<P>... would result in:</P>
-<PRE CLASS="literal-block">
-&lt;a>...
-</PRE>
-<P>However, this:</P>
-<PRE CLASS="literal-block">
-&lt;?python x = None?>
-&lt;a title="${x or ''}">...
-</PRE>
-<P>... results in:</P>
-<PRE CLASS="literal-block">
-&lt;a title="">...
-</PRE>
-<DIV CLASS="section" ID="identifier-shortcut-name">
-<H2>
-<A HREF="#id12" CLASS="toc-backref" NAME="identifier-shortcut-name">5.1Identifier Shortcut (<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">$name</SPAN></TT>)</A></H2>
-<P>For simple expressions consisting entirely variable names and object access
-operators (.), the curly braces may be omitted:</P>
-<PRE CLASS="literal-block">
-&lt;a href="http://example.com/$page" title="$title">
-   Dots are allowed too: $object.another.attribute
-&lt;/a>
-</PRE>
-<P>However, it is good practice to use the curly brace form as it sets the
-substitution off from the other text a bit more providing a stronger visual
-clue as to what's going on.</P>
-</DIV>
-<DIV CLASS="section" ID="escaping">
-<H2>
-<A HREF="#id13" CLASS="toc-backref" NAME="escaping">5.2Escaping (<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">$$</SPAN></TT>)</A></H2>
-<P>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">$$</SPAN></TT> is an escape. <TT CLASS="docutils literal"><SPAN CLASS="pre">$${bla}</SPAN></TT> will output <TT CLASS="docutils literal"><SPAN CLASS="pre">${bla}</SPAN></TT>.</P>
-</DIV>
-</DIV>
-<DIV CLASS="section" ID="default-imports">
-<H1>
-<A HREF="#id14" CLASS="toc-backref" NAME="default-imports">6Default Imports</A></H1>
-<P>All templates have a few default imports for convenience.</P>
-<DIV CLASS="section" ID="xml-function">
-<H2>
-<A HREF="#id15" CLASS="toc-backref" NAME="xml-function">6.1<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">XML()</SPAN></TT> function</A></H2>
-<P>
-<A HREF="#expression-substitution" CLASS="reference">Expression substitution</A>, <A HREF="#py-content" CLASS="reference">py:content</A>, and <A HREF="#py-replace" CLASS="reference">py:replace</A> encode strings
-as text. That is, text is encoded according to the rules of the XML
-specification, which includes, among other things, replacing the literal
-characters <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;</SPAN></TT> and <TT CLASS="docutils literal"><SPAN CLASS="pre">&amp;</SPAN></TT> with their encoded counterparts (<TT CLASS="docutils literal"><SPAN CLASS="pre">&amp;lt;</SPAN></TT>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">&amp;amp;</SPAN></TT>). If you have XML stored as a string and want it to be output as
-XML and not encoded text, you need to pass the string to the <TT CLASS="docutils literal"><SPAN CLASS="pre">XML</SPAN></TT>
-function.</P>
-<P>For example, let's say there is a function, <TT CLASS="docutils literal"><SPAN CLASS="pre">hello</SPAN></TT>, that returns XML data
-that should be embedded in template output (let's say it returns
-<TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;hello>world&lt;/hello></SPAN></TT>). Consider the following:</P>
-<PRE CLASS="literal-block">
-&lt;p>${hello()}&lt;/p>
-</PRE>
-<P>The result would be:</P>
-<PRE CLASS="literal-block">
-&lt;p>&amp;lt;hello>world&amp;lt;hello>&lt;/p>
-</PRE>
-<P>Calling the <TT CLASS="docutils literal"><SPAN CLASS="pre">XML</SPAN></TT> function would have given us the result we intended:</P>
-<PRE CLASS="literal-block">
-&lt;p>${XML(hello())}&lt;/p>
-</PRE>
-<PRE CLASS="literal-block">
-&lt;p>&lt;hello>world&lt;/hello>&lt;/p>
-</PRE>
-</DIV>
-<DIV CLASS="section" ID="document-function">
-<H2>
-<A HREF="#id16" CLASS="toc-backref" NAME="document-function">6.2<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">document()</SPAN></TT> function</A></H2>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">document</SPAN></TT> function loads an XML document from a file or URL allowing
-it to be embedded in template output:</P>
-<PRE CLASS="literal-block">
-&lt;div py:content="document('header.html')">&lt;/div>
-</PRE>
-<P>The document function resolves paths relative to the current template file
-(if the template location is available).</P>
-</DIV>
-</DIV>
-<DIV CLASS="section" ID="attribute-language">
-<H1>
-<A HREF="#id17" CLASS="toc-backref" NAME="attribute-language">7Attribute Language</A></H1>
-<DIV CLASS="section" ID="repetition-iteration-py-for">
-<SPAN ID="py-for">
-</SPAN>
-<H2>
-<A HREF="#id18" CLASS="toc-backref" NAME="repetition-iteration-py-for">7.1Repetition/Iteration (<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">py:for</SPAN></TT>)</A></H2>
-<PRE CLASS="literal-block">
-&lt;element py:for="target_list in expression_list" />
-</PRE>
-<P>Works exactly like the <A HREF="http://www.python.org/dev/doc/devel/ref/for.html" CLASS="reference">Python for statement</A>.</P>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">py:for</SPAN></TT> attribute <EM>may</EM> appear on any element to signify that the
-element should be processed multiple times, once for each value in the
-sequence specified:</P>
-<PRE CLASS="literal-block">
-&lt;?python
-bottles = range(1, 101)
-bottles.reverse()
-?>
-&lt;p py:for="num in bottles">
-   &lt;span py:content="num">X&lt;/span> bottles of beer on the wall,
-   &lt;span py:content="num">X&lt;/span> bottles of beer on the wall,
-   take one down, pass it around, &lt;span py:content="num - 1">X - 1&lt;/span>
-   bottles of beer on the wall.
-&lt;/p>
-</PRE>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">py:for</SPAN></TT> attribute is the first attribute to be processed if
-present. All other <TT CLASS="docutils literal"><SPAN CLASS="pre">py:</SPAN></TT> attributes are processed for each iteration of
-the loop.</P>
-</DIV>
-<DIV CLASS="section" ID="conditionals-py-if">
-<SPAN ID="py-if">
-</SPAN>
-<H2>
-<A HREF="#id19" CLASS="toc-backref" NAME="conditionals-py-if">7.2Conditionals (<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">py:if</SPAN></TT>)</A></H2>
-<PRE CLASS="literal-block">
-&lt;element py:if="expr" />
-</PRE>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">py:if</SPAN></TT> attribute may appear on any element to signify that the
-element and its decendant items should be output only if the boolean
-expression specified evaluates to true in Python:</P>
-<PRE CLASS="literal-block">
-&lt;p py:if="5 * 5 == 25">
-  Python seems to be handling multiplication okay.
-&lt;/p>
-</PRE>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">py:if</SPAN></TT> attribute is processed after the <TT CLASS="docutils literal"><SPAN CLASS="pre">py:for</SPAN></TT> attribute and is
-evaluated for each iteration. If the result of evaluating <TT CLASS="docutils literal"><SPAN CLASS="pre">expr</SPAN></TT> as a
-boolean expression is false in Python, no further <TT CLASS="docutils literal"><SPAN CLASS="pre">py:</SPAN></TT> attributes
-are processed for the current iteration or, if not in a <TT CLASS="docutils literal"><SPAN CLASS="pre">py:for</SPAN></TT>, at all.</P>
-<DIV CLASS="note">
-<P CLASS="first admonition-title">Note</P>
-<P CLASS="last">Evaluated as a boolean expression in Python,
-<TT CLASS="docutils literal"><SPAN CLASS="pre">None</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">False</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">[]</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">()</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">{}</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">0</SPAN></TT>, and <TT CLASS="docutils literal"><SPAN CLASS="pre">''</SPAN></TT>
-are all considered to be false.</P>
-</DIV>
-</DIV>
-<DIV CLASS="section" ID="dynamic-content-py-content">
-<SPAN ID="py-content">
-</SPAN>
-<H2>
-<A HREF="#id20" CLASS="toc-backref" NAME="dynamic-content-py-content">7.3Dynamic Content (<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">py:content</SPAN></TT>)</A></H2>
-<PRE CLASS="literal-block">
-&lt;element py:content="expr" />
-</PRE>
-<P>This attribute <EM>MAY</EM> appear on any element to signify that the decendant
-items of the element are to be replaced with the result of evaluating
-<TT CLASS="docutils literal"><SPAN CLASS="pre">expr</SPAN></TT>.</P>
-<PRE CLASS="literal-block">
-&lt;p py:content="time.strftime('%C %c')">The Time&lt;/p>
-</PRE>
-<P>Results in:</P>
-<PRE CLASS="literal-block">
-&lt;p>Tues, Jun 26, 2004 02:03:53 AM&lt;/p>
-</PRE>
-<P>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">py:content</SPAN></TT> is a <A HREF="#content-producing-construct" CLASS="reference">Content Producing Construct</A> and can output both
-character and structured data.</P>
-</DIV>
-<DIV CLASS="section" ID="replacing-content-py-replace">
-<SPAN ID="py-replace">
-</SPAN>
-<H2>
-<A HREF="#id21" CLASS="toc-backref" NAME="replacing-content-py-replace">7.4Replacing Content (<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">py:replace</SPAN></TT>)</A></H2>
-<PRE CLASS="literal-block">
-&lt;element py:replace='expr' />
-</PRE>
-<P>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">py:replace</SPAN></TT> is shorthand for specifying a <TT CLASS="docutils literal"><SPAN CLASS="pre">py:content</SPAN></TT> and a
-<TT CLASS="docutils literal"><SPAN CLASS="pre">py:strip="True"</SPAN></TT> on the same element:</P>
-<PRE CLASS="literal-block">
-&lt;?python
-x = 10
-?>
-&lt;p>&lt;span py:replace="x">...&lt;/span>&lt;/p>
-</PRE>
-<P>... results in:</P>
-<PRE CLASS="literal-block">
-&lt;p>10&lt;/p>
-</PRE>
-<P>... and is equivelant to specifying:</P>
-<PRE CLASS="literal-block">
-&lt;?python #
-x = 10
-?>
-&lt;p>&lt;span py:strip="" py:content="x">...&lt;/span>&lt;/p>
-</PRE>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">py:replace</SPAN></TT> attribute is processed after the <TT CLASS="docutils literal"><SPAN CLASS="pre">py:for</SPAN></TT> and <TT CLASS="docutils literal"><SPAN CLASS="pre">py:if</SPAN></TT>
-attributes. <TT CLASS="docutils literal"><SPAN CLASS="pre">py:strip</SPAN></TT> and <TT CLASS="docutils literal"><SPAN CLASS="pre">py:content</SPAN></TT> attributes are not processed and
-are discarded.</P>
-<P>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">py:replace</SPAN></TT> is a <A HREF="#content-producing-construct" CLASS="reference">Content Producing Construct</A> and can output both
-character and structured data.</P>
-</DIV>
-<DIV CLASS="section" ID="stripping-tags-py-strip">
-<SPAN ID="py-strip">
-</SPAN>
-<H2>
-<A HREF="#id22" CLASS="toc-backref" NAME="stripping-tags-py-strip">7.5Stripping Tags (<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">py:strip</SPAN></TT>)</A></H2>
-<PRE CLASS="literal-block">
-&lt;element py:strip="expr" />
-</PRE>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">py:strip</SPAN></TT> attribute may apppear on any element to signify that the
-containing element should not be output. If the attribute value is blank  (no
-<TT CLASS="docutils literal"><SPAN CLASS="pre">expr</SPAN></TT> at all) or if the result <TT CLASS="docutils literal"><SPAN CLASS="pre">expr</SPAN></TT> is a boolean expression that evaluates to true,
-the element is not output, but all descendant elements are processed normally. If
-<TT CLASS="docutils literal"><SPAN CLASS="pre">expr</SPAN></TT> is not blank and the result of evaluating <TT CLASS="docutils literal"><SPAN CLASS="pre">expr</SPAN></TT> as a boolean expression
-is false, processing continues as if the attribute did not exist.</P>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">py:strip</SPAN></TT> attribute <EM>MAY</EM> appear on an element with any other kid
-attribute. However, if both a <TT CLASS="docutils literal"><SPAN CLASS="pre">py:replace</SPAN></TT> and a <TT CLASS="docutils literal"><SPAN CLASS="pre">py:strip</SPAN></TT> exist on the
-same element, the <TT CLASS="docutils literal"><SPAN CLASS="pre">py:strip</SPAN></TT> attribute is ignored and discarded.</P>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">py:strip</SPAN></TT> attribute is processed after the <TT CLASS="docutils literal"><SPAN CLASS="pre">py:for</SPAN></TT> and <TT CLASS="docutils literal"><SPAN CLASS="pre">py:if</SPAN></TT>
-attributes. If omission is eminent, the <TT CLASS="docutils literal"><SPAN CLASS="pre">py:content</SPAN></TT> attribute is
-processed normally but attribute interpolation does not occur.</P>
-</DIV>
-<DIV CLASS="section" ID="dynamic-attributes-py-attrs">
-<SPAN ID="py-attrs">
-</SPAN>
-<H2>
-<A HREF="#id23" CLASS="toc-backref" NAME="dynamic-attributes-py-attrs">7.6Dynamic Attributes (<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">py:attrs</SPAN></TT>)</A></H2>
-<PRE CLASS="literal-block">
-&lt;element py:attrs="expr" />
-</PRE>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">py:attrs</SPAN></TT> attribute may appear on any element to specify a set of
-attributes that should be set on the element when it is processed. The
-expression specified MUST evaluate to one of the following types of values:</P>
-<DL CLASS="docutils">
-<DT>dict</DT>
-<DD>A dictionary with keys specifying attribute names and values specifying
-attribute values. These are added to the attributes of the current element
-by calling <TT CLASS="docutils literal"><SPAN CLASS="pre">element.attrib.update(mapping)</SPAN></TT>, where <TT CLASS="docutils literal"><SPAN CLASS="pre">element</SPAN></TT> is an
-ElementTree Element object and <TT CLASS="docutils literal"><SPAN CLASS="pre">mapping</SPAN></TT> is the dictionary returned from
-the expression. Outer curly braces are not necessary to write down.</DD>
-<DT>list</DT>
-<DD>A list of tuples of the form <TT CLASS="docutils literal"><SPAN CLASS="pre">(name,</SPAN> <SPAN CLASS="pre">value)</SPAN></TT> is also acceptable. Each
-item of the list is added to the current set of attributes by iterating
-over the list and calling <TT CLASS="docutils literal"><SPAN CLASS="pre">element.set(name,</SPAN> <SPAN CLASS="pre">value)</SPAN></TT>.</DD>
-<DT>keyword arguments</DT>
-<DD>The attributes can also be specified as comma separated keyword arguments
-of the form <TT CLASS="docutils literal"><SPAN CLASS="pre">name=value</SPAN></TT>.</DD>
-</DL>
-<P>The following lines:</P>
-<PRE CLASS="literal-block">
-&lt;elem py:attrs="{'a':1, 'ns:b':2}" />
-&lt;elem py:attrs="'a':1, 'ns:b':2" />
-&lt;elem py:attrs="(('a',1), ('ns:b',2))" />
-&lt;elem py:attrs="a=1, ns:b=2" />
-</PRE>
-<P>will all produce the same output:</P>
-<PRE CLASS="literal-block">
-&lt;elem a="1" ns:b="2" />
-</PRE>
-<P>Note that attributes whose values are <TT CLASS="docutils literal"><SPAN CLASS="pre">None</SPAN></TT> will be removed. If a blank
-attribute is desired, an empty string should be used.</P>
-<P>If the expression specified is an empty dictionary or an empty list,
-the attributes are not modified in any way.</P>
-<P>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">py:attrs</SPAN></TT> is a <A HREF="#content-producing-construct" CLASS="reference">Content Producing Construct</A>, but can output only
-character data.</P>
-</DIV>
-<DIV CLASS="section" ID="named-template-functions-py-def">
-<SPAN ID="named-template-functions">
-</SPAN>
-<SPAN ID="py-def">
-</SPAN>
-<H2>
-<A HREF="#id24" CLASS="toc-backref" NAME="named-template-functions-py-def">7.7Named Template Functions (<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">py:def</SPAN></TT>)</A></H2>
-<PRE CLASS="literal-block">
-&lt;element py:def="template_name(arg_list)" />
-</PRE>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">py:def</SPAN></TT> attribute may appear on any element to create a "Named
-Template Function". Markup contained within an <TT CLASS="docutils literal"><SPAN CLASS="pre">py:def</SPAN></TT> element is not
-output during normal template expansion but can be referenced from other
-<A HREF="#content-producing-constructs" CLASS="reference">Content Producing Constructs</A> to insert the markup at the point
-referenced.</P>
-<P>Like normal Python functions, Named Template Functions have an optional
-argument list that may use all of the jazzy features of Python argument
-lists like variable and keyword arguments.</P>
-<P>Named Template Functions are invoked exactly like normal Python
-functions. They are generally invoked from <A HREF="#content-producing-constructs" CLASS="reference">Content Producing Constructs</A>
-like <TT CLASS="docutils literal"><SPAN CLASS="pre">py:content</SPAN></TT> or <TT CLASS="docutils literal"><SPAN CLASS="pre">${}</SPAN></TT> substitution.</P>
-<PRE CLASS="literal-block">
-&lt;ul py:def="display_list(seq)">
-   &lt;li py:for="item in seq" py:content="item" />
-&lt;/ul>
-
-&lt;table py:def="display_dict(mapping)">
-   &lt;tr>
-       &lt;th>Key&lt;/th>
-       &lt;th>Value&lt;/th>
-   &lt;/tr>
-   &lt;tr py:for="key, value in mapping.items()">
-       &lt;td py:content="key" />
-       &lt;td py:content="value" />
-   &lt;/tr>
-&lt;/table>
-</PRE>
-<P>Here we've defined two Named Template Functions: <TT CLASS="docutils literal"><SPAN CLASS="pre">display_list</SPAN></TT> and
-<TT CLASS="docutils literal"><SPAN CLASS="pre">display_dict</SPAN></TT>. The first function takes a sequence and the second a
-mapping. We can invoke these functions from the same template by invoking
-them from a content producing construct:</P>
-<PRE CLASS="literal-block">
-&lt;body>
-   ${display_list(['apple', 'orange', 'kiwi'])}
-
-   &lt;div py:replace="display_dict({'x' : 'y', 'p' : 'q'})">
-    Key/Value Table replaces this text
-   &lt;/div>
-&lt;/body>
-</PRE>
-</DIV>
-<DIV CLASS="section" ID="match-templates-py-match">
-<SPAN ID="match-templates">
-</SPAN>
-<SPAN ID="py-match">
-</SPAN>
-<H2>
-<A HREF="#id25" CLASS="toc-backref" NAME="match-templates-py-match">7.8Match Templates (<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">py:match</SPAN></TT>)</A></H2>
-<PRE CLASS="literal-block">
-&lt;element py:match="expr" />
-</PRE>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">py:match</SPAN></TT> attribute may appear on any element to create a "Match
-Template". Markup contained within a Match Template element is not output
-during normal template expansion. Instead, these constructs set up filters
-for expansion output that are capable of transforming content as it is
-generated.</P>
-<P>Match Templates are generally used to insert content dynamically based on
-patterns in template expansion or to provide "custom tag" functionality
-similar to that found in JSP taglibs or XSLT.</P>
-<P>A Match Template has two parts: the match expression part (<TT CLASS="docutils literal"><SPAN CLASS="pre">expr</SPAN></TT>) and the
-body part (the element and it's descendants).</P>
-<P>Match Templates are processed as follows:</P>
-<OL CLASS="arabic simple">
-<LI>Each element that is output from a template goes through the Match
-Template Filter.</LI>
-<LI>The Match Template Filter visits each of the Match Templates defined in
-the current template and the templates the current template <A HREF="#extends" CLASS="reference">extends</A>
-in the order that they are defined and evaluates the associated match
-expression.</LI>
-<LI>If the match expression returns true as a boolean expression, the match
-template's body is expanded and replaces the original element and
-all of its descendants.</LI>
-</OL>
-<P>In both the match expression and in the match template's body, the <TT CLASS="docutils literal"><SPAN CLASS="pre">item</SPAN></TT>
-name is bound to the Element that is being output. However, there are some
-limitations to what can be accessed at each phase:</P>
-<OL CLASS="arabic simple">
-<LI>During match expression evaluation, only the <TT CLASS="docutils literal"><SPAN CLASS="pre">item</SPAN></TT> Element and none
-of its descendants are available. This means that match expressions are
-limited to testing matches based on the immediate Element's tag and
-attributes <A HREF="#id5" ID="id4" NAME="id4" CLASS="footnote-reference">[1]</A>.</LI>
-<LI>During match template expansion (that is, when the match expression
-is true), the element's descendants <EM>are</EM> available and may be
-referenced from <A HREF="#content-producing-constructs" CLASS="reference">Content Producing Constructs</A> to output bits and
-pieces of the matched items structure.</LI>
-</OL>
-<TABLE RULES="none" FRAME="void" CLASS="docutils footnote" ID="id5">
-<COLGROUP>
-<COL CLASS="label">
-
-<COL>
-
-</COLGROUP>
-<TBODY VALIGN="top">
-<TR>
-<TD CLASS="label">
-<A HREF="#id4" CLASS="fn-backref" NAME="id5">[1]</A></TD><TD>This is due to the streaming nature of the Kid processor. During
-normal template expansion, the entire tree is never fully retained in
-memory.</TD></TR>
-</TBODY>
-</TABLE>
-<DIV CLASS="section" ID="example">
-<H3>
-<A NAME="example">7.8.1Example</A></H3>
-<P>The following simple example shows how to create a custom tag <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;greeting></SPAN></TT>
-that outputs one of two provided values based on the time of day the
-template is expanded:</P>
-<PRE CLASS="literal-block">
-&lt;?xml version="1.0" encoding="utf-8"?>
-&lt;?python
-from time import localtime
-def timeofday():
-    """Get time of day ('am' or 'pm')"""
-    return localtime().tm_hour &lt; 12 and 'am' or 'pm'
-?>
-&lt;html xmlns:py="http://purl.org/kid/ns#">
-  &lt;!-- define the greeting match template -->
-  &lt;span py:match="item.tag == 'greeting'"
-        py:replace="item.get(timeofday())">
-  &lt;/span>
-
-  &lt;head>
-    &lt;title>Time of day demo&lt;/title>
-  &lt;/head>
-  &lt;body>
-    &lt;p>
-      Good &lt;greeting am="Morning!" pm="Afternoon" />
-    &lt;/p>
-  &lt;/body>
-&lt;/html>
-</PRE>
-<P>An important thing to note is that the <TT CLASS="docutils literal"><SPAN CLASS="pre">py:match</SPAN></TT> expression and the match
-template body have access to the <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;greeting></SPAN></TT> element via the variable
-<TT CLASS="docutils literal"><SPAN CLASS="pre">item</SPAN></TT>. The <TT CLASS="docutils literal"><SPAN CLASS="pre">item.get(timeofday())</SPAN></TT> bit retrieves the value of the
-<TT CLASS="docutils literal"><SPAN CLASS="pre">am</SPAN></TT> attribute or the <TT CLASS="docutils literal"><SPAN CLASS="pre">pm</SPAN></TT> attribute based on what is returned from the
-<TT CLASS="docutils literal"><SPAN CLASS="pre">timeofday</SPAN></TT> function.</P>
-<P>At 9:00 AM, output from this template would look like this:</P>
-<PRE CLASS="literal-block">
-&lt;html>
-  &lt;head>
-    &lt;title>Time of day demo&lt;/title>
-  &lt;/head>
-  &lt;body>
-    &lt;p>
-      Good Morning!
-    &lt;/p>
-  &lt;/body>
-&lt;/html>
-</PRE>
-<P>The obvious question at this point is how to reuse Match Templates? The
-example above demonstrates the use of a Match Template from the same main
-template but it is often desirable to have "libraries" of Match Templates
-that could be used by multiple individual templates. The answer is to have
-the main template <A HREF="#extend" CLASS="reference">extend</A> a common template containing the Match Templates
-needed. We can rewrite the above example as two separate templates:
-<TT CLASS="docutils literal"><SPAN CLASS="pre">main.kid</SPAN></TT> and <TT CLASS="docutils literal"><SPAN CLASS="pre">common.kid</SPAN></TT>.</P>
-<P>The common template would look like this:</P>
-<PRE CLASS="literal-block">
-&lt;?xml version="1.0" encoding="utf-8"?>
-&lt;?python
-from time import localtime
-def timeofday():
-    """Get time of day ('am' or 'pm')"""
-    return localtime().tm_hour &lt; 12 and 'am' or 'pm'
-?>
-&lt;html xmlns:py="http://purl.org/kid/ns#">
-  &lt;!-- define the greeting match template -->
-  &lt;span py:match="item.tag == 'greeting'"
-        py:replace="item.get(timeofday())">
-  &lt;/span>
-&lt;/html>
-</PRE>
-<P>And the main template would look like this:</P>
-<PRE CLASS="literal-block">
-&lt;?xml version="1.0" encoding="utf-8"?>
-&lt;html py:extends="'common.kid'">
-  &lt;head>
-    &lt;title>Time of day demo&lt;/title>
-  &lt;/head>
-  &lt;body>
-    &lt;p>
-      Good &lt;greeting am="Morning!" pm="Afternoon" />
-    &lt;/p>
-  &lt;/body>
-&lt;/html>
-</PRE>
-<P>When a template <A HREF="#extends" CLASS="reference">extends</A> another template (or set of templates), all of the
-Match Templates and <A HREF="#named-template-functions" CLASS="reference">Named Template Functions</A> of the extended templates
-are available as if they were defined locally.</P>
-<DIV CLASS="warning">
-<P CLASS="first admonition-title">Warning</P>
-<P CLASS="last">Match templates are an experimental feature. Syntax and semantics may
-change significantly or be removed entirely in future release. Actually,
-this statement applies to many aspects of Kid but this one is especially
-unstable.</P>
-</DIV>
-</DIV>
-</DIV>
-<DIV CLASS="section" ID="template-reuse-py-extends">
-<SPAN ID="template-reuse">
-</SPAN>
-<SPAN ID="extend">
-</SPAN>
-<SPAN ID="extends">
-</SPAN>
-<SPAN ID="py-extends">
-</SPAN>
-<H2>
-<A HREF="#id26" CLASS="toc-backref" NAME="template-reuse-py-extends">7.9Template Reuse (<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">py:extends</SPAN></TT>)</A></H2>
-<PRE CLASS="literal-block">
-&lt;root py:extends="template1, template2, ...">
-</PRE>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">py:extends</SPAN></TT> attribute may appear on the root element to specify that
-the template should inherit the <A HREF="#named-template-functions" CLASS="reference">Named Template Functions</A> and <A HREF="#match-templates" CLASS="reference">Match
-Templates</A> defined in another template (or set of templates). If a
-<TT CLASS="docutils literal"><SPAN CLASS="pre">py:extends</SPAN></TT> attribute is specified, it MUST be on the root element of the
-document.</P>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">py:extends</SPAN></TT> may contain a list of Python expressions separated by
-commas that reference templates. The rules for what types of values may be
-specified are:</P>
-<DL CLASS="docutils">
-<DT>string</DT>
-<DD>
-<P CLASS="first">The name of a template file, relative to the current template file.</P>
-<P>Example:</P>
-<PRE CLASS="last literal-block">
-&lt;html py:extends="'common.kid'" />
-</PRE>
-</DD>
-<DT>module or Template class</DT>
-<DD>
-<P CLASS="first">The <TT CLASS="docutils literal"><SPAN CLASS="pre">py:extends</SPAN></TT> variable references a module or a Template class. If a
-module is referenced, an attempt is made to find a class named
-<TT CLASS="docutils literal"><SPAN CLASS="pre">Template</SPAN></TT> belonging to the that module.</P>
-<P>Example:</P>
-<PRE CLASS="last literal-block">
-&lt;?python
-import common
-?>
-&lt;html py:extends="common" ...
-</PRE>
-</DD>
-</DL>
-<P>Multiple templates may be referenced by separating each by a comma. The
-following example references templates <TT CLASS="docutils literal"><SPAN CLASS="pre">common</SPAN></TT> and <TT CLASS="docutils literal"><SPAN CLASS="pre">forms</SPAN></TT>, imported
-using the import hooks and a template filename named <TT CLASS="docutils literal"><SPAN CLASS="pre">other.kid</SPAN></TT>:</P>
-<PRE CLASS="literal-block">
-&lt;?python
-import common, forms
-?>
-&lt;html py:extends="common, forms, 'other.kid'" ...
-</PRE>
-<DIV CLASS="section" ID="id6">
-<H3>
-<A NAME="id6">7.9.1Example</A></H3>
-<P>For example, there is a template named <TT CLASS="docutils literal"><SPAN CLASS="pre">common.kid</SPAN></TT> that defines a
-template function, <TT CLASS="docutils literal"><SPAN CLASS="pre">display_errors</SPAN></TT>, and a match template that converts
-<TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;b></SPAN></TT> elements to <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;strong></SPAN></TT> elements with uppercase content:</P>
-<PRE CLASS="literal-block">
-&lt;html xmlns:py="http://purl.org/kid/ns#">
-
-  &lt;ul py:def="display_errors(errors)">
-    &lt;li py:for="error in errors" py:content="error" />
-  &lt;/ul>
-
-  &lt;strong py:match="item.tag == 'b'"
-    py:content="item.text.upper()" />
-
-&lt;/html>
-</PRE>
-<P>The functions and match templates may be imported into another template by
-referencing them with <TT CLASS="docutils literal"><SPAN CLASS="pre">py:extends</SPAN></TT>:</P>
-<PRE CLASS="literal-block">
-&lt;html py:extends="'common.kid'"
-      xmlns:py="http://purl.org/kid/ns#">
-  &lt;head>
-    &lt;title>Errors&lt;/title>
-  &lt;/head>
-  &lt;body>
-    &lt;p>The following &lt;b>errors&lt;/b> were found:&lt;/p>
-    ${ display_errors(["Field is required", "Must be phone number.."]) }
-  &lt;/body>
-&lt;/html>
-</PRE>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;b>errors&lt;/b></SPAN></TT> item is transformed to <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;strong>ERRORS&lt;/strong></SPAN></TT>
-and the error list is displayed. Both the match template and the named
-template function are available in the derived template as if they were
-defined locally.</P>
-</DIV>
-</DIV>
-</DIV>
-<DIV CLASS="section" ID="processing-order">
-<SPAN ID="order">
-</SPAN>
-<H1>
-<A HREF="#id27" CLASS="toc-backref" NAME="processing-order">8Processing Order</A></H1>
-<P>The order that <TT CLASS="docutils literal"><SPAN CLASS="pre">py:</SPAN></TT> attributes are processed is as follows:</P>
-<OL CLASS="arabic simple">
-<LI>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">py:def</SPAN></TT></LI>
-<LI>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">py:match</SPAN></TT></LI>
-<LI>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">py:for</SPAN></TT></LI>
-<LI>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">py:if</SPAN></TT></LI>
-<LI>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">py:replace</SPAN></TT></LI>
-<LI>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">py:strip</SPAN></TT></LI>
-<LI>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">py:attrs</SPAN></TT></LI>
-<LI>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">py:content</SPAN></TT></LI>
-</OL>
-<P>Attribute substitution occurs after all other attributes are processed and
-MUST NOT be processed for <TT CLASS="docutils literal"><SPAN CLASS="pre">py:</SPAN></TT> attributes.</P>
-</DIV>
-<DIV CLASS="section" ID="revision-history">
-<H1>
-<A HREF="#id28" CLASS="toc-backref" NAME="revision-history">9Revision History</A></H1>
-<DIV CLASS="section" ID="revision-4-kid-v0-6">
-<H2>
-<A HREF="#id29" CLASS="toc-backref" NAME="revision-4-kid-v0-6">9.1Revision 4 (Kid v0.6)</A></H2>
-<UL CLASS="simple">
-<LI>Add <TT CLASS="docutils literal"><SPAN CLASS="pre">py:extends</SPAN></TT>.</LI>
-<LI>Add <TT CLASS="docutils literal"><SPAN CLASS="pre">py:match</SPAN></TT>.</LI>
-<LI>Add <TT CLASS="docutils literal"><SPAN CLASS="pre">py:attrs</SPAN></TT>.</LI>
-<LI>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">py:omit</SPAN></TT> renamed <TT CLASS="docutils literal"><SPAN CLASS="pre">py:strip</SPAN></TT>.</LI>
-<LI>Kid namespace changed from <TT CLASS="docutils literal"><SPAN CLASS="pre">http://nabelis.cx/ns/kid#</SPAN></TT> to
-<TT CLASS="docutils literal"><SPAN CLASS="pre">http://purl.org/kid/ns#</SPAN></TT>.</LI>
-<LI>Removed requirement of <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;?python?></SPAN></TT> blocks to start with a comment.</LI>
-<LI>Expression substitution syntax changed from <TT CLASS="docutils literal"><SPAN CLASS="pre">{}</SPAN></TT> to <TT CLASS="docutils literal"><SPAN CLASS="pre">${}</SPAN></TT>.</LI>
-</UL>
-</DIV>
-<DIV CLASS="section" ID="revision-3-kid-v0-5">
-<H2>
-<A HREF="#id30" CLASS="toc-backref" NAME="revision-3-kid-v0-5">9.2Revision 3 (Kid v0.5)</A></H2>
-<UL CLASS="simple">
-<LI>Changed processing instruction from <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;?kid?></SPAN></TT> to <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;?python?></SPAN></TT>.</LI>
-<LI>Changed namespace prefixes from <TT CLASS="docutils literal"><SPAN CLASS="pre">kid:</SPAN></TT> to <TT CLASS="docutils literal"><SPAN CLASS="pre">py:</SPAN></TT>.</LI>
-</UL>
-</DIV>
-<DIV CLASS="section" ID="revision-2">
-<H2>
-<A HREF="#id31" CLASS="toc-backref" NAME="revision-2">9.3Revision 2</A></H2>
-<UL CLASS="simple">
-<LI>Added detail for each attribute on when it is processed in relation to other attributes and whether the result of other attributes modify behavior.</LI>
-<LI>Fixed a few minor typos and grammatical issues.</LI>
-<LI>Added editorial notes where things are a bit shaky.</LI>
-</UL>
-</DIV>
-<DIV CLASS="section" ID="revision-1">
-<H2>
-<A HREF="#id32" CLASS="toc-backref" NAME="revision-1">9.4Revision 1</A></H2>
-<UL CLASS="simple">
-<LI>Initial public version.</LI>
-</UL>
-</DIV>
-</DIV>
-</DIV>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/layout.css kid-0.8svn249/doc/html/layout.css
--- kid-0.8/doc/html/layout.css	2005-12-02 02:56:49.000000000 -0500
+++ kid-0.8svn249/doc/html/layout.css	1969-12-31 19:00:00.000000000 -0500
@@ -1,122 +0,0 @@
-@import url("pudge.css");
-@import url("almodovar.css");
-
-/* Basic Style
------------------------------------ */
-
-h1.pudge-member-page-heading { 
-  font-size: 300%;
-}
-h4.pudge-member-page-subheading { 
-  font-size: 130%;
-  font-style: italic;
-  margin-top: -2.0em;
-  margin-left: 2em;
-  margin-bottom: .3em;
-  color: #aaa; /* #FF5000 */
-}
-p.pudge-member-blurb { 
-  font-style: italic;
-  font-weight: bold;
-  font-size: 120%;
-  margin-top: 0.2em;
-  color: #999;
-}
-p.pudge-member-parent-link { 
-  margin-top: 0;
-}
-/*div.pudge-module-doc { 
-  max-width: 45em;
-}*/
-div.pudge-section { 
-  margin-left: 2em;
-  max-width: 45em;
-}
-/* Section Navigation 
------------------------------------ */
-
-div#pudge-section-nav
-{
-  margin: 1em 0 1.5em 0;
-  padding: 0;
-  height: 20px;
-}
-
-div#pudge-section-nav ul { 
-  border: 0;
-  margin: 0;
-  padding: 0;
-  list-style-type: none;
-  text-align: center;
-  border-right: 1px solid #aaa;
-}
-div#pudge-section-nav ul li
-{
-  display: block;
-  float: left;
-  text-align: center;
-  padding: 0;
-  margin: 0;
-}
-
-div#pudge-section-nav ul li .pudge-section-link,
-div#pudge-section-nav ul li .pudge-missing-section-link
-{
-  background: #aaa;
-  width: 9em;
-  height: 1.8em;
-  border: 1px solid #bbb;
-  padding: 0;
-  margin: 0 0 10px 0;
-  color: #ddd;
-  text-decoration: none;
-  display: block;
-  text-align: center;
-  font: 11px/20px "Verdana", "Lucida Grande";
-  cursor: hand;
-  text-transform: lowercase;
-}
-
-div#pudge-section-nav ul li a:hover {
-  color: #000;
-  background: #fff;
-}
-
-div#pudge-section-nav ul li .pudge-section-link {
-  background: #888;
-  color: #eee;
-  border: 1px solid #bbb;
-}
-
-/* Module Lists
------------------------------------ */
-dl.pudge-module-list dt { 
-  font-style: normal;
-  font-size: 110%;
-}
-dl.pudge-module-list dd { 
-  color: #555;
-}
-
-/* Misc Overrides */
-.rst-doc p.topic-title a { 
-  color: #777;
-}
-.rst-doc ul.auto-toc a,
-.rst-doc div.contents a { 
-  color: #333;
-}
-pre { background: #eee; }
-
-.rst-doc dl dt { 
-  color: #444;
-  margin-top: 1em;
-  font-weight: bold;
-}
-.rst-doc dl dd { 
-  margin-top: .2em;
-}
-.rst-doc hr { 
-  display: block;
-  margin: 2em 0;
-}
\ No newline at end of file
diff -Naur kid-0.8/doc/html/module-index.html kid-0.8svn249/doc/html/module-index.html
--- kid-0.8/doc/html/module-index.html	2005-12-02 03:01:08.000000000 -0500
+++ kid-0.8svn249/doc/html/module-index.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,158 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>Kid -- Module Reference</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    Kid
-  </H1>
-  <H4 CLASS="pudge-member-page-subheading">
-    Module Reference
-  </H4>
-  
-  <H2>Packages and Modules</H2>
-  
-  <DL CLASS="pudge-module-list">
-    
-    <DT>
-    
-    <TT>
-    
-    <A HREF="module-kid.html" CLASS="pudge-obj-link">
-        kid
-        </A></TT>
-    </DT>
-    <DD>
-      Pythonic, XML Templating
-    </DD>
-    
-    <DT>
-    
-    <TT>
-    
-    <A HREF="module-kid.filter.html" CLASS="pudge-obj-link">
-        kid.filter
-        </A></TT>
-    </DT>
-    <DD>
-      Kid tranformations
-    </DD>
-    
-    <DT>
-    
-    <TT>
-    
-    <A HREF="module-kid.namespace.html" CLASS="pudge-obj-link">
-        kid.namespace
-        </A></TT>
-    </DT>
-    
-    
-    <DT>
-    
-    
-    <TT>
-    
-    
-    <A HREF="module-kid.serialization.html" CLASS="pudge-obj-link">
-        kid.serialization
-        </A></TT>
-    </DT>
-    <DD>
-      Infoset serialization formats (XML, XHTML, HTML, etc)
-    </DD>
-    
-    <DT>
-    
-    <TT>
-    
-    <A HREF="module-kid.util.html" CLASS="pudge-obj-link">
-        kid.util
-        </A></TT>
-    </DT>
-    
-    
-  </DL>
-  
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/module-kid.filter.html kid-0.8svn249/doc/html/module-kid.filter.html
--- kid-0.8/doc/html/module-kid.filter.html	2005-12-02 03:01:14.000000000 -0500
+++ kid-0.8svn249/doc/html/module-kid.filter.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,256 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.filter -- Kid tranformations</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>filter</TT>
-  </H1>
-  <H4 CLASS="pudge-member-page-subheading">
-    Kid tranformations
-  </H4>
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The filter module is accessible via the
-    <A HREF="module-kid.html">
-      <TT>kid</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      <A HREF="#attributes" CLASS="pudge-section-link">
-        Attributes (3)
-      </A>
-      
-    </LI>
-      
-    <LI>
-      <A HREF="#functions" CLASS="pudge-section-link">
-        Functions (3)
-      </A>
-      
-    </LI>
-      
-    <LI>
-      
-      <SPAN CLASS="pudge-missing-section-link">
-        Classes
-      </SPAN>
-    </LI>
-    <LI>
-      
-      <SPAN CLASS="pudge-missing-section-link">
-        Modules
-      </SPAN>
-    </LI>
-    <LI>
-      <A HREF="module-kid.filter-index.html" CLASS="pudge-section-link">
-        Index
-      </A>
-    </LI>
-    <LI>
-      <A HREF="kid/filter.py.html" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  
-  
-  <HR>
-  
-  
-  
-  
-  
-    <A NAME="attributes">
-  
-  
-    </A>
-    <H2>Attributes</H2>
-    <DIV CLASS="pudge-member name">
-    <A NAME="START">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="module-kid.filter.html#START" CLASS="pudge-obj-link">START</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>1</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="XML_DECL">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="module-kid.filter.html#XML_DECL" CLASS="pudge-obj-link">XML_DECL</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>5</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="generators">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="module-kid.filter.html#generators" CLASS="pudge-obj-link">generators</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>_Feature((2, 2, 0, 'alpha', 1), (2, 3, 0, 'final', 0), 4096)</PRE>
-    </DIV>
-  </DIV>
-    
-  
-    <A NAME="functions">
-    
-  
-    </A>
-    <H2>Functions</H2>
-    <DIV CLASS="pudge-member routine ">
-    <A NAME="apply_matches">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="module-kid.filter.html#apply_matches" CLASS="pudge-obj-link">apply_matches</A>(stream, template, templates, apply_func)</TT>
-      <A HREF="kid/filter.py.html?f=24&amp;l=46#24" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="transform_filter">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="module-kid.filter.html#transform_filter" CLASS="pudge-obj-link">transform_filter</A>(stream, template)</TT>
-      <A HREF="kid/filter.py.html?f=16&amp;l=23#16" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="xinclude_filter">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="module-kid.filter.html#xinclude_filter" CLASS="pudge-obj-link">xinclude_filter</A>(stream, template)</TT>
-      <A HREF="kid/filter.py.html?f=48&amp;l=66#48" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/filter.py.html" TITLE="kid/filter.py:0">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/module-kid.filter-index.html kid-0.8svn249/doc/html/module-kid.filter-index.html
--- kid-0.8/doc/html/module-kid.filter-index.html	2005-12-02 03:01:14.000000000 -0500
+++ kid-0.8svn249/doc/html/module-kid.filter-index.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,177 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>Index of kid.filter module</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1>Index of the <TT>filter</TT> module</H1>
-  
-  <UL CLASS="pudge-module-index">
-    <LI CLASS="module">
-    <SPAN CLASS="prefix">m</SPAN>
-    <A HREF="module-kid.filter.html">
-      <TT>kid.filter</TT>
-    </A>
-    <A HREF="kid/filter.py.html">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Kid tranformations</SPAN>
-  </SMALL>
-    <UL>
-      
-      <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="module-kid.filter.html#START">
-      <TT>START</TT>
-    </A>
-    <A HREF="kid/filter.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="module-kid.filter.html#generators">
-      <TT>generators</TT>
-    </A>
-    <A HREF="kid/filter.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="module-kid.filter.html#XML_DECL">
-      <TT>XML_DECL</TT>
-    </A>
-    <A HREF="kid/filter.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="module-kid.filter.html#xinclude_filter">
-      <TT>xinclude_filter</TT>
-    </A>
-    <A HREF="kid/filter.py.html?f=48&amp;l=66#48">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="module-kid.filter.html#apply_matches">
-      <TT>apply_matches</TT>
-    </A>
-    <A HREF="kid/filter.py.html?f=24&amp;l=46#24">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="module-kid.filter.html#transform_filter">
-      <TT>transform_filter</TT>
-    </A>
-    <A HREF="kid/filter.py.html?f=16&amp;l=23#16">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-  </UL>
-  
-  
-  
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/module-kid.html kid-0.8svn249/doc/html/module-kid.html
--- kid-0.8/doc/html/module-kid.html	2005-12-02 03:01:10.000000000 -0500
+++ kid-0.8svn249/doc/html/module-kid.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,582 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid -- Pythonic, XML Templating</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>kid</TT>
-  </H1>
-  <H4 CLASS="pudge-member-page-subheading">
-    Pythonic, XML Templating
-  </H4>
-  
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      <A HREF="#attributes" CLASS="pudge-section-link">
-        Attributes (2)
-      </A>
-      
-    </LI>
-      
-    <LI>
-      <A HREF="#functions" CLASS="pudge-section-link">
-        Functions (8)
-      </A>
-      
-    </LI>
-      
-    <LI>
-      <A HREF="#classes" CLASS="pudge-section-link">
-        Classes (6)
-      </A>
-      
-    </LI>
-      
-    <LI>
-      <A HREF="#modules" CLASS="pudge-section-link">
-        Modules (4)
-      </A>
-      
-    </LI>
-    <LI>
-      <A HREF="module-kid-index.html" CLASS="pudge-section-link">
-        Index
-      </A>
-    </LI>
-    <LI>
-      <A HREF="kid/__init__.py.html" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  <DIV CLASS="rst pudge-module-doc">
-    <P>Kid is a simple, Python-based template language for generating and
-transforming XML vocabularies. Kid was spawned as a result of a kinky love
-triangle between XSLT, TAL, and PHP. We believe many of the best features
-of these languages live on in Kid with much of the limitations and
-complexity stamped out (well, eventually :).</P>
-  </DIV>
-  
-  <HR>
-  
-  
-  
-  
-    <A NAME="attributes">
-  
-  
-    </A>
-    <H2>Attributes</H2>
-    <DIV CLASS="pudge-member name">
-    <A NAME="KID_XMLNS">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="module-kid.html#KID_XMLNS" CLASS="pudge-obj-link">KID_XMLNS</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>'http://purl.org/kid/ns#'</PRE>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member name">
-    <A NAME="output_methods">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="module-kid.html#output_methods" CLASS="pudge-obj-link">output_methods</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>{'html': &lt;kid.serialization.HTMLSerializer object at 0x10ff7b0>,
- 'html-strict': &lt;kid.serialization.HTMLSerializer object at 0x10ffdd0>,
- 'plain': &lt;kid.serialization.PlainSerializer object at 0x10ff230>,
- 'xhtml': &lt;kid.serialization.XHTMLSerializer object at 0x10ff6d0>,
- 'xhtml-strict': &lt;kid.serialization.XHTMLSerializer object at 0x10ff870>,
- 'xml': &lt;kid.serialization.XMLSerializer object at 0x10ff670>}</PRE>
-    </DIV>
-  </DIV>
-    
-  
-    <A NAME="functions">
-    
-  
-    </A>
-    <H2>Functions</H2>
-    <DIV CLASS="pudge-member routine alias">
-    <A NAME="Element">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="module-kid.html#Element" CLASS="pudge-obj-link">Element</A>(...)</TT>
-      <A HREF="cElementTree.py.html" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine alias">
-    <A NAME="SubElement">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="module-kid.html#SubElement" CLASS="pudge-obj-link">SubElement</A>(...)</TT>
-      <A HREF="cElementTree.py.html" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="Template">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="module-kid.html#Template" CLASS="pudge-obj-link">Template</A>(file=None, source=None, name=None)</TT>
-      <A HREF="kid/__init__.py.html?f=133&amp;l=162#133" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Get a Template class quickly given a module name, file, or string.
-    </P>
-    <P>This is a convenience function for getting a template in a variety of
-ways. One and only one of the arguments name or file must be specified.</P>
-<DL CLASS="docutils">
-<DT>
-<A HREF="file:string" CLASS="reference">file:string</A></DT>
-<DD>The template module is loaded by calling
-<TT CLASS="docutils literal"><SPAN CLASS="pre">load_template(file,</SPAN> <SPAN CLASS="pre">name='',</SPAN> <SPAN CLASS="pre">cache=1)</SPAN></TT></DD>
-<DT>name:string</DT>
-<DD>The kid import hook is enabled and the template module is located
-using the normal Python import mechanisms.</DD>
-<DT>source:string</DT>
-<DD>string containing the templates source.</DD>
-</DL>
-<P>Once the template module is obtained, a new instance of the module's
-Template class is created with the keyword arguments passed to this
-function.</P>
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine alias">
-    <A NAME="XML">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="module-kid.html#XML" CLASS="pudge-obj-link">XML</A>(text, fragment=1, encoding=None)</TT>
-      <A HREF="kid/pull.py.html?f=30&amp;l=49#30" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Element generator that reads from a string
-    </P>
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine alias">
-    <A NAME="document">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="module-kid.html#document" CLASS="pudge-obj-link">document</A>(file, encoding=None, filename=None)</TT>
-      <A HREF="kid/pull.py.html?f=50&amp;l=61#50" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="enable_import">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="module-kid.html#enable_import" CLASS="pudge-obj-link">enable_import</A>(suffixes=None)</TT>
-      <A HREF="kid/__init__.py.html?f=31&amp;l=44#31" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Enable the kid module loader and import hooks.
-    </P>
-    <P>This function must be called before importing kid templates if templates
-are not pre-compiled.</P>
-<P>Note that if your application uses ZODB, you will need to import ZODB
-before calling this function as ZODB's import hooks have some issues if
-installed after the kid import hooks.</P>
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="import_template">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="module-kid.html#import_template" CLASS="pudge-obj-link">import_template</A>(name)</TT>
-      <A HREF="kid/__init__.py.html?f=51&amp;l=76#51" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Import template by name.
-    </P>
-    <P>This is identical to calling 
-    
-    <A HREF="module-kid.html#enable_import" CLASS="obj-link routine" TITLE="kid.enable_import - Enable the kid module loader and import hooks.">
-      <TT>enable_import</TT></A>
-    
-   followed by an import
-statement. For example, importing a template named foo using the normal
-import mechanism looks like this:</P>
-<PRE CLASS="literal-block">
-import kid
-kid.enable_import()
-import foo
-</PRE>
-<P>This function can be used to achieve the same result as follows:</P>
-<PRE CLASS="literal-block">
-import kid
-foo = kid.import_template('foo')
-</PRE>
-<P>This is sometimes useful when the name of the template is available only
-as a string.</P>
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="load_template">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="module-kid.html#load_template" CLASS="pudge-obj-link">load_template</A>(file, name='', cache=1, encoding=None)</TT>
-      <A HREF="kid/__init__.py.html?f=77&amp;l=123#77" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Bypass import machinery and load a template module directly.
-    </P>
-    <P>This can be used as an alternative to accessing templates using the
-native python import mechanisms.</P>
-<DL CLASS="docutils">
-<DT>file</DT>
-<DD>Can be a filename, a kid template string, or an open file object.</DD>
-<DT>name</DT>
-<DD>Optionally specifies the module name to use for this template. This
-is a hack to enable relative imports in templates.</DD>
-<DT>cache</DT>
-<DD>Whether to look for a byte-compiled version of the template. If
-no byte-compiled version is found, an attempt is made to dump a
-byte-compiled version after compiling. This argument is ignored if
-file is not a filename.</DD>
-</DL>
-  
-    </DIV>
-  </DIV>
-    
-  
-    <A NAME="classes">
-    
-  
-    </A>
-    <H2>Classes</H2>
-    <DIV CLASS="pudge-member class ">
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">C</SPAN>
-      <TT>
-        <A HREF="class-kid.BaseTemplate.html" CLASS="pudge-obj-link">BaseTemplate</A>(...)</TT>
-      <A HREF="kid/__init__.py.html?f=165&amp;l=357#165" CLASS="pudge-member-view-source" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Base class for compiled Templates.
-    </P>
-    <P>All kid template modules expose a class named <TT CLASS="docutils literal"><SPAN CLASS="pre">Template</SPAN></TT> that
-extends from this class making the methods defined here available on
-all Template subclasses.</P>
-<P>This class should not be instantiated directly.</P>
-  
-      
-      <P CLASS="note">
-        This class contains <A HREF="class-kid.BaseTemplate.html#members">
-          11 members</A>.
-      </P>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member class alias">
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">C</SPAN>
-      <TT>
-        <A HREF="class-kid.HTMLSerializer.html" CLASS="pudge-obj-link">HTMLSerializer</A>(...)</TT>
-      <A HREF="kid/serialization.py.html?f=248&amp;l=410#248" CLASS="pudge-member-view-source" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-      
-      <P CLASS="note">
-        This class contains <A HREF="class-kid.HTMLSerializer.html#members">
-          11 members</A>.
-      </P>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member class alias">
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">C</SPAN>
-      <TT>
-        <A HREF="class-kid.Namespace.html" CLASS="pudge-obj-link">Namespace</A>(...)</TT>
-      <A HREF="kid/namespace.py.html?f=4&amp;l=39#4" CLASS="pudge-member-view-source" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-      
-      <P CLASS="note">
-        This class contains <A HREF="class-kid.Namespace.html#members">
-          4 members</A>.
-      </P>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member class alias">
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">C</SPAN>
-      <TT>
-        <A HREF="class-kid.Serializer.html" CLASS="pudge-obj-link">Serializer</A>(...)</TT>
-      <A HREF="kid/serialization.py.html?f=35&amp;l=105#35" CLASS="pudge-member-view-source" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-      
-      <P CLASS="note">
-        This class contains <A HREF="class-kid.Serializer.html#members">
-          5 members</A>.
-      </P>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member class alias">
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">C</SPAN>
-      <TT>
-        <A HREF="class-kid.XHTMLSerializer.html" CLASS="pudge-obj-link">XHTMLSerializer</A>(...)</TT>
-      <A HREF="kid/serialization.py.html?f=411&amp;l=420#411" CLASS="pudge-member-view-source" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-      
-      <P CLASS="note">
-        This class contains <A HREF="class-kid.XHTMLSerializer.html#members">
-          11 members</A>.
-      </P>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member class alias">
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">C</SPAN>
-      <TT>
-        <A HREF="class-kid.XMLSerializer.html" CLASS="pudge-obj-link">XMLSerializer</A>(...)</TT>
-      <A HREF="kid/serialization.py.html?f=106&amp;l=232#106" CLASS="pudge-member-view-source" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-      
-      <P CLASS="note">
-        This class contains <A HREF="class-kid.XMLSerializer.html#members">
-          8 members</A>.
-      </P>
-    </DIV>
-  </DIV>
-    
-  
-    <A NAME="modules">
-    
-  
-    </A>
-    <H2>Modules</H2>
-    
-    
-      <A NAME="modules">
-    
-    
-      </A>
-      <P>
-        The <TT>kid</TT> module 
-        exposes 4 submodules:
-      </P>
-      <DL CLASS="pudge-module-list">
-    
-    <DT>
-    
-    <TT>
-    
-    <A HREF="module-kid.filter.html" CLASS="pudge-obj-link">
-        filter
-        </A></TT>
-    </DT>
-    <DD>
-      Kid tranformations
-    </DD>
-    
-    <DT>
-    
-    <TT>
-    
-    <A HREF="module-kid.namespace.html" CLASS="pudge-obj-link">
-        namespace
-        </A></TT>
-    </DT>
-    
-    
-    <DT>
-    
-    
-    <TT>
-    
-    
-    <A HREF="module-kid.serialization.html" CLASS="pudge-obj-link">
-        serialization
-        </A></TT>
-    </DT>
-    <DD>
-      Infoset serialization formats (XML, XHTML, HTML, etc)
-    </DD>
-    
-    <DT>
-    
-    <TT>
-    
-    <A HREF="module-kid.util.html" CLASS="pudge-obj-link">
-        util
-        </A></TT>
-    </DT>
-    
-    
-  </DL>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/__init__.py.html" TITLE="kid/__init__.py:0">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/module-kid-index.html kid-0.8svn249/doc/html/module-kid-index.html
--- kid-0.8/doc/html/module-kid-index.html	2005-12-02 03:01:12.000000000 -0500
+++ kid-0.8svn249/doc/html/module-kid-index.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,1379 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>Index of kid module</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1>Index of the <TT>kid</TT> module</H1>
-  
-  <UL CLASS="pudge-module-index">
-    <LI CLASS="module">
-    <SPAN CLASS="prefix">m</SPAN>
-    <A HREF="module-kid.html">
-      <TT>kid</TT>
-    </A>
-    <A HREF="kid/__init__.py.html">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Pythonic, XML Templating</SPAN>
-  </SMALL>
-    <UL>
-      
-      <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="module-kid.html#output_methods">
-      <TT>output_methods</TT>
-    </A>
-    <A HREF="kid/__init__.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="module-kid.html#KID_XMLNS">
-      <TT>KID_XMLNS</TT>
-    </A>
-    <A HREF="kid/__init__.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.BaseTemplate.html">
-      <TT>BaseTemplate</TT>
-    </A>
-    <A HREF="kid/__init__.py.html?f=165&amp;l=357#165">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Base class for compiled Templates.</SPAN>
-  </SMALL>
-    <UL>
-      
-      <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.BaseTemplate.html#serializer">
-      <TT>serializer</TT>
-    </A>
-    <A HREF="kid/__init__.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.BaseTemplate.html#pull">
-      <TT>pull</TT>
-    </A>
-    <A HREF="kid/__init__.py.html?f=268&amp;l=274#268">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Returns an iterator over the items in this template.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.BaseTemplate.html#serialize">
-      <TT>serialize</TT>
-    </A>
-    <A HREF="kid/__init__.py.html?f=211&amp;l=233#211">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Execute a template and return a single string.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.BaseTemplate.html#transform">
-      <TT>transform</TT>
-    </A>
-    <A HREF="kid/__init__.py.html?f=293&amp;l=325#293">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Execute the template and apply any match transformations.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.BaseTemplate.html#content">
-      <TT>content</TT>
-    </A>
-    <A HREF="kid/__init__.py.html?f=282&amp;l=292#282">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.BaseTemplate.html#__iter__">
-      <TT>__iter__</TT>
-    </A>
-    <A HREF="kid/__init__.py.html?f=256&amp;l=258#256">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.BaseTemplate.html#write">
-      <TT>write</TT>
-    </A>
-    <A HREF="kid/__init__.py.html?f=191&amp;l=210#191">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Execute template and write output to file.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.BaseTemplate.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/__init__.py.html?f=180&amp;l=190#180">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Initialize a template with instance attributes specified by
-keyword arguments.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.BaseTemplate.html#initialize">
-      <TT>initialize</TT>
-    </A>
-    <A HREF="kid/__init__.py.html?f=265&amp;l=267#265">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.BaseTemplate.html#generate">
-      <TT>generate</TT>
-    </A>
-    <A HREF="kid/__init__.py.html?f=234&amp;l=255#234">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Execute template and generate serialized output incrementally.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.BaseTemplate.html#__unicode__">
-      <TT>__unicode__</TT>
-    </A>
-    <A HREF="kid/__init__.py.html?f=262&amp;l=264#262">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="module-kid.html#load_template">
-      <TT>load_template</TT>
-    </A>
-    <A HREF="kid/__init__.py.html?f=77&amp;l=123#77">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Bypass import machinery and load a template module directly.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="module-kid.html#Template">
-      <TT>Template</TT>
-    </A>
-    <A HREF="kid/__init__.py.html?f=133&amp;l=162#133">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Get a Template class quickly given a module name, file, or string.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="module-kid.html#enable_import">
-      <TT>enable_import</TT>
-    </A>
-    <A HREF="kid/__init__.py.html?f=31&amp;l=44#31">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Enable the kid module loader and import hooks.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="module-kid.html#import_template">
-      <TT>import_template</TT>
-    </A>
-    <A HREF="kid/__init__.py.html?f=51&amp;l=76#51">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Import template by name.</SPAN>
-  </SMALL>
-    
-  </LI>
-      
-      <LI CLASS="module">
-    <SPAN CLASS="prefix">m</SPAN>
-    <A HREF="module-kid.filter.html">
-      <TT>filter</TT>
-    </A>
-    <A HREF="kid/filter.py.html">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Kid tranformations</SPAN>
-  </SMALL>
-    <UL>
-      
-      <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="module-kid.filter.html#START">
-      <TT>START</TT>
-    </A>
-    <A HREF="kid/filter.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="module-kid.filter.html#generators">
-      <TT>generators</TT>
-    </A>
-    <A HREF="kid/filter.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="module-kid.filter.html#XML_DECL">
-      <TT>XML_DECL</TT>
-    </A>
-    <A HREF="kid/filter.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="module-kid.filter.html#xinclude_filter">
-      <TT>xinclude_filter</TT>
-    </A>
-    <A HREF="kid/filter.py.html?f=48&amp;l=66#48">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="module-kid.filter.html#apply_matches">
-      <TT>apply_matches</TT>
-    </A>
-    <A HREF="kid/filter.py.html?f=24&amp;l=46#24">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="module-kid.filter.html#transform_filter">
-      <TT>transform_filter</TT>
-    </A>
-    <A HREF="kid/filter.py.html?f=16&amp;l=23#16">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-  <LI CLASS="module">
-    <SPAN CLASS="prefix">m</SPAN>
-    <A HREF="module-kid.namespace.html">
-      <TT>namespace</TT>
-    </A>
-    <A HREF="kid/namespace.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.namespace.xml.html">
-      <TT>xml</TT>
-    </A>
-    <A HREF="kid/namespace.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.xml.html#__getitem__">
-      <TT>__getitem__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=17&amp;l=22#17">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.xml.html#__equals__">
-      <TT>__equals__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=32&amp;l=39#32">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.xml.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=5&amp;l=10#5">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.xml.html#__unicode__">
-      <TT>__unicode__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=28&amp;l=30#28">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-  <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.namespace.Namespace.html">
-      <TT>Namespace</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=4&amp;l=39#4">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.Namespace.html#__getitem__">
-      <TT>__getitem__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=17&amp;l=22#17">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.Namespace.html#__equals__">
-      <TT>__equals__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=32&amp;l=39#32">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.Namespace.html#qname">
-      <TT>qname</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=11&amp;l=16#11">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.Namespace.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=5&amp;l=10#5">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.Namespace.html#__unicode__">
-      <TT>__unicode__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=28&amp;l=30#28">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.Namespace.html#clarkname">
-      <TT>clarkname</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=17&amp;l=22#17">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-  <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.namespace.rdf.html">
-      <TT>rdf</TT>
-    </A>
-    <A HREF="kid/namespace.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.rdf.html#__getitem__">
-      <TT>__getitem__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=17&amp;l=22#17">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.rdf.html#__equals__">
-      <TT>__equals__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=32&amp;l=39#32">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.rdf.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=5&amp;l=10#5">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.rdf.html#__unicode__">
-      <TT>__unicode__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=28&amp;l=30#28">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-  <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.namespace.nons.html">
-      <TT>nons</TT>
-    </A>
-    <A HREF="kid/namespace.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.nons.html#__equals__">
-      <TT>__equals__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=32&amp;l=39#32">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.nons.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=5&amp;l=10#5">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-  <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.namespace.atom.html">
-      <TT>atom</TT>
-    </A>
-    <A HREF="kid/namespace.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.atom.html#__getitem__">
-      <TT>__getitem__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=17&amp;l=22#17">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.atom.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=5&amp;l=10#5">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.atom.html#__unicode__">
-      <TT>__unicode__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=28&amp;l=30#28">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-  <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.namespace.xhtml.html">
-      <TT>xhtml</TT>
-    </A>
-    <A HREF="kid/namespace.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.xhtml.html#__getitem__">
-      <TT>__getitem__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=17&amp;l=22#17">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.xhtml.html#__equals__">
-      <TT>__equals__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=32&amp;l=39#32">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.xhtml.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=5&amp;l=10#5">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.xhtml.html#__unicode__">
-      <TT>__unicode__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=28&amp;l=30#28">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-  <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.namespace.rss.html">
-      <TT>rss</TT>
-    </A>
-    <A HREF="kid/namespace.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.rss.html#__getitem__">
-      <TT>__getitem__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=17&amp;l=22#17">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.rss.html#__equals__">
-      <TT>__equals__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=32&amp;l=39#32">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.rss.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=5&amp;l=10#5">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-      
-      
-      
-      
-      
-    </UL>
-  </LI>
-  <LI CLASS="module">
-    <SPAN CLASS="prefix">m</SPAN>
-    <A HREF="module-kid.serialization.html">
-      <TT>serialization</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Infoset serialization formats (XML, XHTML, HTML, etc)</SPAN>
-  </SMALL>
-    <UL>
-      
-      <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="module-kid.serialization.html#doctypes">
-      <TT>doctypes</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html">
-      <TT>XMLSerializer</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=106&amp;l=232#106">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#cdata_elements">
-      <TT>cdata_elements</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#strip_whitespace">
-      <TT>strip_whitespace</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#encoding">
-      <TT>encoding</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#doctype">
-      <TT>doctype</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#namespaces">
-      <TT>namespaces</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#can_be_empty_element">
-      <TT>can_be_empty_element</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=125&amp;l=127#125">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#escape_cdata">
-      <TT>escape_cdata</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=202&amp;l=215#202">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Escape character data.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#balancing_filter">
-      <TT>balancing_filter</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=73&amp;l=98#73">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#generate">
-      <TT>generate</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=128&amp;l=201#128">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Serializes an event stream to bytes of the specified encoding.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#whitespace_filter">
-      <TT>whitespace_filter</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=99&amp;l=105#99">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#escape_attrib">
-      <TT>escape_attrib</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=217&amp;l=231#217">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Escape attribute value.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#serialize">
-      <TT>serialize</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=50&amp;l=53#50">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=112&amp;l=124#112">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-  <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html">
-      <TT>HTMLSerializer</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=248&amp;l=410#248">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#doctype">
-      <TT>doctype</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#empty_elements">
-      <TT>empty_elements</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#boolean_attributes">
-      <TT>boolean_attributes</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#elements_with_pcdata">
-      <TT>elements_with_pcdata</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#noescape_elements">
-      <TT>noescape_elements</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#generate">
-      <TT>generate</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=279&amp;l=379#279">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Serializes an event stream to bytes of the specified encoding.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#serialize">
-      <TT>serialize</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=50&amp;l=53#50">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#escape_cdata">
-      <TT>escape_cdata</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=380&amp;l=394#380">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Escape character data.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#balancing_filter">
-      <TT>balancing_filter</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=73&amp;l=98#73">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#write">
-      <TT>write</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=54&amp;l=60#54">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#whitespace_filter">
-      <TT>whitespace_filter</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=99&amp;l=105#99">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#has_only_pcdata">
-      <TT>has_only_pcdata</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=274&amp;l=278#274">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#escape_attrib">
-      <TT>escape_attrib</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=396&amp;l=409#396">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Escape attribute value.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#apply_filters">
-      <TT>apply_filters</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=64&amp;l=72#64">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=264&amp;l=273#264">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-  <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.serialization.Serializer.html">
-      <TT>Serializer</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=35&amp;l=105#35">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.Serializer.html#serialize">
-      <TT>serialize</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=50&amp;l=53#50">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.Serializer.html#balancing_filter">
-      <TT>balancing_filter</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=73&amp;l=98#73">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.Serializer.html#apply_filters">
-      <TT>apply_filters</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=64&amp;l=72#64">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.Serializer.html#whitespace_filter">
-      <TT>whitespace_filter</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=99&amp;l=105#99">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.Serializer.html#generate">
-      <TT>generate</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=61&amp;l=63#61">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.Serializer.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=42&amp;l=46#42">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-      
-      
-      
-      
-      
-    </UL>
-  </LI>
-  <LI CLASS="module">
-    <SPAN CLASS="prefix">m</SPAN>
-    <A HREF="module-kid.util.html">
-      <TT>util</TT>
-    </A>
-    <A HREF="kid/util.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.util.QuickTextReader.html">
-      <TT>QuickTextReader</TT>
-    </A>
-    <A HREF="kid/util.py.html?f=1&amp;l=9#1">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.util.QuickTextReader.html#read">
-      <TT>read</TT>
-    </A>
-    <A HREF="kid/util.py.html?f=5&amp;l=9#5">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.util.QuickTextReader.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/util.py.html?f=2&amp;l=4#2">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="module-kid.util.html#open_resource">
-      <TT>open_resource</TT>
-    </A>
-    <A HREF="kid/util.py.html?f=23&amp;l=31#23">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Generic resource opener.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="module-kid.util.html#xml_sniff">
-      <TT>xml_sniff</TT>
-    </A>
-    <A HREF="kid/util.py.html?f=10&amp;l=21#10">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Sniff text to see if it looks like XML.
-Return 1 if text looks like XML, otherwise return 0.</SPAN>
-  </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-      
-    </UL>
-  </LI>
-  </UL>
-  
-  
-  
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/module-kid.namespace.html kid-0.8svn249/doc/html/module-kid.namespace.html
--- kid-0.8/doc/html/module-kid.namespace.html	2005-12-02 03:01:14.000000000 -0500
+++ kid-0.8svn249/doc/html/module-kid.namespace.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,298 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.namespace</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>namespace</TT>
-  </H1>
-  
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The namespace module is accessible via the
-    <A HREF="module-kid.html">
-      <TT>kid</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      
-      <SPAN CLASS="pudge-missing-section-link">
-        Attributes
-      </SPAN>
-    </LI>
-    <LI>
-      
-      <SPAN CLASS="pudge-missing-section-link">
-        Functions
-      </SPAN>
-    </LI>
-    <LI>
-      <A HREF="#classes" CLASS="pudge-section-link">
-        Classes (7)
-      </A>
-      
-    </LI>
-      
-    <LI>
-      
-      <SPAN CLASS="pudge-missing-section-link">
-        Modules
-      </SPAN>
-    </LI>
-    <LI>
-      <A HREF="module-kid.namespace-index.html" CLASS="pudge-section-link">
-        Index
-      </A>
-    </LI>
-    <LI>
-      <A HREF="kid/namespace.py.html" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  
-  
-  <HR>
-  
-  
-  
-  
-  
-    <A NAME="classes">
-  
-  
-    </A>
-    <H2>Classes</H2>
-    <DIV CLASS="pudge-member class ">
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">C</SPAN>
-      <TT>
-        <A HREF="class-kid.namespace.Namespace.html" CLASS="pudge-obj-link">Namespace</A>(...)</TT>
-      <A HREF="kid/namespace.py.html?f=4&amp;l=39#4" CLASS="pudge-member-view-source" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-      
-      <P CLASS="note">
-        This class contains <A HREF="class-kid.namespace.Namespace.html#members">
-          6 members</A>.
-      </P>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member class ">
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">C</SPAN>
-      <TT>
-        <A HREF="class-kid.namespace.atom.html" CLASS="pudge-obj-link">atom</A>(...)</TT>
-      <A HREF="kid/namespace.py.html" CLASS="pudge-member-view-source" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-      
-      <P CLASS="note">
-        This class contains <A HREF="class-kid.namespace.atom.html#members">
-          4 members</A>.
-      </P>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member class ">
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">C</SPAN>
-      <TT>
-        <A HREF="class-kid.namespace.nons.html" CLASS="pudge-obj-link">nons</A>(...)</TT>
-      <A HREF="kid/namespace.py.html" CLASS="pudge-member-view-source" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-      
-      <P CLASS="note">
-        This class contains <A HREF="class-kid.namespace.nons.html#members">
-          4 members</A>.
-      </P>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member class ">
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">C</SPAN>
-      <TT>
-        <A HREF="class-kid.namespace.rdf.html" CLASS="pudge-obj-link">rdf</A>(...)</TT>
-      <A HREF="kid/namespace.py.html" CLASS="pudge-member-view-source" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-      
-      <P CLASS="note">
-        This class contains <A HREF="class-kid.namespace.rdf.html#members">
-          4 members</A>.
-      </P>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member class ">
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">C</SPAN>
-      <TT>
-        <A HREF="class-kid.namespace.rss.html" CLASS="pudge-obj-link">rss</A>(...)</TT>
-      <A HREF="kid/namespace.py.html" CLASS="pudge-member-view-source" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-      
-      <P CLASS="note">
-        This class contains <A HREF="class-kid.namespace.rss.html#members">
-          4 members</A>.
-      </P>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member class ">
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">C</SPAN>
-      <TT>
-        <A HREF="class-kid.namespace.xhtml.html" CLASS="pudge-obj-link">xhtml</A>(...)</TT>
-      <A HREF="kid/namespace.py.html" CLASS="pudge-member-view-source" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-      
-      <P CLASS="note">
-        This class contains <A HREF="class-kid.namespace.xhtml.html#members">
-          4 members</A>.
-      </P>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member class ">
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">C</SPAN>
-      <TT>
-        <A HREF="class-kid.namespace.xml.html" CLASS="pudge-obj-link">xml</A>(...)</TT>
-      <A HREF="kid/namespace.py.html" CLASS="pudge-member-view-source" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-      
-      <P CLASS="note">
-        This class contains <A HREF="class-kid.namespace.xml.html#members">
-          4 members</A>.
-      </P>
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/namespace.py.html" TITLE="kid/namespace.py:0">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/module-kid.namespace-index.html kid-0.8svn249/doc/html/module-kid.namespace-index.html
--- kid-0.8/doc/html/module-kid.namespace-index.html	2005-12-02 03:01:14.000000000 -0500
+++ kid-0.8svn249/doc/html/module-kid.namespace-index.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,547 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>Index of kid.namespace module</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1>Index of the <TT>namespace</TT> module</H1>
-  
-  <UL CLASS="pudge-module-index">
-    <LI CLASS="module">
-    <SPAN CLASS="prefix">m</SPAN>
-    <A HREF="module-kid.namespace.html">
-      <TT>kid.namespace</TT>
-    </A>
-    <A HREF="kid/namespace.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.namespace.xml.html">
-      <TT>xml</TT>
-    </A>
-    <A HREF="kid/namespace.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.xml.html#__getitem__">
-      <TT>__getitem__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=17&amp;l=22#17">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.xml.html#__equals__">
-      <TT>__equals__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=32&amp;l=39#32">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.xml.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=5&amp;l=10#5">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.xml.html#__unicode__">
-      <TT>__unicode__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=28&amp;l=30#28">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-  <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.namespace.Namespace.html">
-      <TT>Namespace</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=4&amp;l=39#4">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.Namespace.html#__getitem__">
-      <TT>__getitem__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=17&amp;l=22#17">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.Namespace.html#__equals__">
-      <TT>__equals__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=32&amp;l=39#32">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.Namespace.html#qname">
-      <TT>qname</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=11&amp;l=16#11">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.Namespace.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=5&amp;l=10#5">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.Namespace.html#__unicode__">
-      <TT>__unicode__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=28&amp;l=30#28">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.Namespace.html#clarkname">
-      <TT>clarkname</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=17&amp;l=22#17">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-  <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.namespace.rdf.html">
-      <TT>rdf</TT>
-    </A>
-    <A HREF="kid/namespace.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.rdf.html#__getitem__">
-      <TT>__getitem__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=17&amp;l=22#17">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.rdf.html#__equals__">
-      <TT>__equals__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=32&amp;l=39#32">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.rdf.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=5&amp;l=10#5">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.rdf.html#__unicode__">
-      <TT>__unicode__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=28&amp;l=30#28">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-  <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.namespace.nons.html">
-      <TT>nons</TT>
-    </A>
-    <A HREF="kid/namespace.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.nons.html#__equals__">
-      <TT>__equals__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=32&amp;l=39#32">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.nons.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=5&amp;l=10#5">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.nons.html#__unicode__">
-      <TT>__unicode__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=28&amp;l=30#28">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-  <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.namespace.atom.html">
-      <TT>atom</TT>
-    </A>
-    <A HREF="kid/namespace.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.atom.html#__getitem__">
-      <TT>__getitem__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=17&amp;l=22#17">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.atom.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=5&amp;l=10#5">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.atom.html#__unicode__">
-      <TT>__unicode__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=28&amp;l=30#28">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-  <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.namespace.xhtml.html">
-      <TT>xhtml</TT>
-    </A>
-    <A HREF="kid/namespace.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.xhtml.html#__getitem__">
-      <TT>__getitem__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=17&amp;l=22#17">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.xhtml.html#__equals__">
-      <TT>__equals__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=32&amp;l=39#32">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.xhtml.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=5&amp;l=10#5">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.xhtml.html#__unicode__">
-      <TT>__unicode__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=28&amp;l=30#28">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-  <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.namespace.rss.html">
-      <TT>rss</TT>
-    </A>
-    <A HREF="kid/namespace.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.rss.html#__getitem__">
-      <TT>__getitem__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=17&amp;l=22#17">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.rss.html#__equals__">
-      <TT>__equals__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=32&amp;l=39#32">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.rss.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=5&amp;l=10#5">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.namespace.rss.html#__unicode__">
-      <TT>__unicode__</TT>
-    </A>
-    <A HREF="kid/namespace.py.html?f=28&amp;l=30#28">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-      
-      
-      
-      
-      
-    </UL>
-  </LI>
-  </UL>
-  
-  
-  
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/module-kid.serialization.html kid-0.8svn249/doc/html/module-kid.serialization.html
--- kid-0.8/doc/html/module-kid.serialization.html	2005-12-02 03:01:15.000000000 -0500
+++ kid-0.8svn249/doc/html/module-kid.serialization.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,254 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.serialization -- Infoset serialization formats (XML, XHTML, HTML, etc)</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>serialization</TT>
-  </H1>
-  <H4 CLASS="pudge-member-page-subheading">
-    Infoset serialization formats (XML, XHTML, HTML, etc)
-  </H4>
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The serialization module is accessible via the
-    <A HREF="module-kid.html">
-      <TT>kid</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      <A HREF="#attributes" CLASS="pudge-section-link">
-        Attributes (1)
-      </A>
-      
-    </LI>
-      
-    <LI>
-      
-      <SPAN CLASS="pudge-missing-section-link">
-        Functions
-      </SPAN>
-    </LI>
-    <LI>
-      <A HREF="#classes" CLASS="pudge-section-link">
-        Classes (3)
-      </A>
-      
-    </LI>
-      
-    <LI>
-      
-      <SPAN CLASS="pudge-missing-section-link">
-        Modules
-      </SPAN>
-    </LI>
-    <LI>
-      <A HREF="module-kid.serialization-index.html" CLASS="pudge-section-link">
-        Index
-      </A>
-    </LI>
-    <LI>
-      <A HREF="kid/serialization.py.html" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  
-  
-  <HR>
-  
-  
-  
-  
-  
-    <A NAME="attributes">
-  
-  
-    </A>
-    <H2>Attributes</H2>
-    <DIV CLASS="pudge-member name">
-    <A NAME="doctypes">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">a</SPAN>
-      <TT>
-      <A HREF="module-kid.serialization.html#doctypes" CLASS="pudge-obj-link">doctypes</A></TT></H4>
-    <DIV CLASS="pudge-section rst">
-      <PRE>{'html': ('HTML',
-          '-//W3C//DTD HTML 4.01 Transitional//EN',
-          'http://www.w3.org/TR/html4/loose.dtd'),
- 'html-strict': ('HTML',
-                 '-//W3C//DTD HTML 4.01//EN',
-                 'http://www.w3.org/TR/html4/strict.dtd'),
- 'xhtml': ('html',
-           '-//W3C//DTD XHTML 1.0 Transitional//EN',
-           'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'),
- 'xhtml-strict': ('html',
-                  '-//W3C//DTD XHTML 1.0 Strict//EN',
-                  'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd')}</PRE>
-    </DIV>
-  </DIV>
-    
-  
-    <A NAME="classes">
-    
-  
-    </A>
-    <H2>Classes</H2>
-    <DIV CLASS="pudge-member class ">
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">C</SPAN>
-      <TT>
-        <A HREF="class-kid.serialization.HTMLSerializer.html" CLASS="pudge-obj-link">HTMLSerializer</A>(...)</TT>
-      <A HREF="kid/serialization.py.html?f=248&amp;l=410#248" CLASS="pudge-member-view-source" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-      
-      <P CLASS="note">
-        This class contains <A HREF="class-kid.serialization.HTMLSerializer.html#members">
-          20 members</A>.
-      </P>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member class ">
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">C</SPAN>
-      <TT>
-        <A HREF="class-kid.serialization.Serializer.html" CLASS="pudge-obj-link">Serializer</A>(...)</TT>
-      <A HREF="kid/serialization.py.html?f=35&amp;l=105#35" CLASS="pudge-member-view-source" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-      
-      <P CLASS="note">
-        This class contains <A HREF="class-kid.serialization.Serializer.html#members">
-          12 members</A>.
-      </P>
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member class ">
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">C</SPAN>
-      <TT>
-        <A HREF="class-kid.serialization.XMLSerializer.html" CLASS="pudge-obj-link">XMLSerializer</A>(...)</TT>
-      <A HREF="kid/serialization.py.html?f=106&amp;l=232#106" CLASS="pudge-member-view-source" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-      
-      <P CLASS="note">
-        This class contains <A HREF="class-kid.serialization.XMLSerializer.html#members">
-          18 members</A>.
-      </P>
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/serialization.py.html" TITLE="kid/serialization.py:0">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/module-kid.serialization-index.html kid-0.8svn249/doc/html/module-kid.serialization-index.html
--- kid-0.8/doc/html/module-kid.serialization-index.html	2005-12-02 03:01:16.000000000 -0500
+++ kid-0.8svn249/doc/html/module-kid.serialization-index.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,597 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>Index of kid.serialization module</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1>Index of the <TT>serialization</TT> module</H1>
-  
-  <UL CLASS="pudge-module-index">
-    <LI CLASS="module">
-    <SPAN CLASS="prefix">m</SPAN>
-    <A HREF="module-kid.serialization.html">
-      <TT>kid.serialization</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Infoset serialization formats (XML, XHTML, HTML, etc)</SPAN>
-  </SMALL>
-    <UL>
-      
-      <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="module-kid.serialization.html#doctypes">
-      <TT>doctypes</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html">
-      <TT>XMLSerializer</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=106&amp;l=232#106">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#decl">
-      <TT>decl</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#cdata_elements">
-      <TT>cdata_elements</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#strip_whitespace">
-      <TT>strip_whitespace</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#encoding">
-      <TT>encoding</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#doctype">
-      <TT>doctype</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#namespaces">
-      <TT>namespaces</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#can_be_empty_element">
-      <TT>can_be_empty_element</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=125&amp;l=127#125">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#escape_cdata">
-      <TT>escape_cdata</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=202&amp;l=215#202">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Escape character data.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#balancing_filter">
-      <TT>balancing_filter</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=73&amp;l=98#73">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#generate">
-      <TT>generate</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=128&amp;l=201#128">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Serializes an event stream to bytes of the specified encoding.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#write">
-      <TT>write</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=54&amp;l=60#54">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#whitespace_filter">
-      <TT>whitespace_filter</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=99&amp;l=105#99">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#has_only_pcdata">
-      <TT>has_only_pcdata</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=47&amp;l=49#47">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#escape_attrib">
-      <TT>escape_attrib</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=217&amp;l=231#217">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Escape attribute value.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#serialize">
-      <TT>serialize</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=50&amp;l=53#50">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#apply_filters">
-      <TT>apply_filters</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=64&amp;l=72#64">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.XMLSerializer.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=112&amp;l=124#112">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-  <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html">
-      <TT>HTMLSerializer</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=248&amp;l=410#248">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#doctype">
-      <TT>doctype</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#empty_elements">
-      <TT>empty_elements</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#boolean_attributes">
-      <TT>boolean_attributes</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#elements_with_pcdata">
-      <TT>elements_with_pcdata</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="attribute">
-    <SPAN CLASS="prefix">a</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#noescape_elements">
-      <TT>noescape_elements</TT>
-    </A>
-    <A HREF="kid/serialization.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#generate">
-      <TT>generate</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=279&amp;l=379#279">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Serializes an event stream to bytes of the specified encoding.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#serialize">
-      <TT>serialize</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=50&amp;l=53#50">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#escape_cdata">
-      <TT>escape_cdata</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=380&amp;l=394#380">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Escape character data.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#balancing_filter">
-      <TT>balancing_filter</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=73&amp;l=98#73">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#write">
-      <TT>write</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=54&amp;l=60#54">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#whitespace_filter">
-      <TT>whitespace_filter</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=99&amp;l=105#99">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#has_only_pcdata">
-      <TT>has_only_pcdata</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=274&amp;l=278#274">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#escape_attrib">
-      <TT>escape_attrib</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=396&amp;l=409#396">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Escape attribute value.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#apply_filters">
-      <TT>apply_filters</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=64&amp;l=72#64">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.HTMLSerializer.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=264&amp;l=273#264">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-  <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.serialization.Serializer.html">
-      <TT>Serializer</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=35&amp;l=105#35">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.Serializer.html#serialize">
-      <TT>serialize</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=50&amp;l=53#50">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.Serializer.html#balancing_filter">
-      <TT>balancing_filter</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=73&amp;l=98#73">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.Serializer.html#apply_filters">
-      <TT>apply_filters</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=64&amp;l=72#64">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.Serializer.html#whitespace_filter">
-      <TT>whitespace_filter</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=99&amp;l=105#99">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.Serializer.html#generate">
-      <TT>generate</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=61&amp;l=63#61">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.serialization.Serializer.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/serialization.py.html?f=42&amp;l=46#42">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-      
-      
-      
-      
-      
-    </UL>
-  </LI>
-  </UL>
-  
-  
-  
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/module-kid.util.html kid-0.8svn249/doc/html/module-kid.util.html
--- kid-0.8/doc/html/module-kid.util.html	2005-12-02 03:01:17.000000000 -0500
+++ kid-0.8svn249/doc/html/module-kid.util.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,229 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>kid.util</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1 CLASS="pudge-member-page-heading">
-    <TT>util</TT>
-  </H1>
-  
-  <P CLASS="pudge-member-parent-link">
-    <SMALL>
-    The util module is accessible via the
-    <A HREF="module-kid.html">
-      <TT>kid</TT>
-    </A> module.
-    </SMALL>
-  </P>
-  <DIV ID="pudge-section-nav">
-  <UL>
-    <LI>
-      
-      <SPAN CLASS="pudge-missing-section-link">
-        Attributes
-      </SPAN>
-    </LI>
-    <LI>
-      <A HREF="#functions" CLASS="pudge-section-link">
-        Functions (2)
-      </A>
-      
-    </LI>
-      
-    <LI>
-      <A HREF="#classes" CLASS="pudge-section-link">
-        Classes (1)
-      </A>
-      
-    </LI>
-      
-    <LI>
-      
-      <SPAN CLASS="pudge-missing-section-link">
-        Modules
-      </SPAN>
-    </LI>
-    <LI>
-      <A HREF="module-kid.util-index.html" CLASS="pudge-section-link">
-        Index
-      </A>
-    </LI>
-    <LI>
-      <A HREF="kid/util.py.html" CLASS="pudge-section-link">
-        Source
-      </A>
-    </LI>
-  </UL>
-  </DIV>
-  <DIV STYLE="clear: left">
-  </DIV>
-  
-  
-  <HR>
-  
-  
-  
-  
-  
-    <A NAME="functions">
-  
-  
-    </A>
-    <H2>Functions</H2>
-    <DIV CLASS="pudge-member routine ">
-    <A NAME="open_resource">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="module-kid.util.html#open_resource" CLASS="pudge-obj-link">open_resource</A>(uri, mode='rb')</TT>
-      <A HREF="kid/util.py.html?f=23&amp;l=31#23" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Generic resource opener.
-    </P>
-    
-  
-    </DIV>
-  </DIV>
-  <DIV CLASS="pudge-member routine ">
-    <A NAME="xml_sniff">
-    </A>
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">f</SPAN>
-      <TT>
-      <A HREF="module-kid.util.html#xml_sniff" CLASS="pudge-obj-link">xml_sniff</A>(text)</TT>
-      <A HREF="kid/util.py.html?f=10&amp;l=21#10" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    <P CLASS="pudge-member-blurb">
-      Sniff text to see if it looks like XML.
-Return 1 if text looks like XML, otherwise return 0.
-    </P>
-    
-  
-    </DIV>
-  </DIV>
-    
-  
-    <A NAME="classes">
-    
-  
-    </A>
-    <H2>Classes</H2>
-    <DIV CLASS="pudge-member class ">
-    <H4 CLASS="pudge-member-name">
-    <SPAN CLASS="prefix">C</SPAN>
-      <TT>
-        <A HREF="class-kid.util.QuickTextReader.html" CLASS="pudge-obj-link">QuickTextReader</A>(...)</TT>
-      <A HREF="kid/util.py.html?f=1&amp;l=9#1" CLASS="pudge-member-view-source" TITLE="View Source">...</A>
-    </H4>
-    <DIV CLASS="pudge-section rst">
-      
-    
-    
-  
-      
-      <P CLASS="note">
-        This class contains <A HREF="class-kid.util.QuickTextReader.html#members">
-          2 members</A>.
-      </P>
-    </DIV>
-  </DIV>
-    
-  
-  
-  <P>
-    <SMALL>
-    
-    
-    See 
-    <A HREF="kid/util.py.html" TITLE="kid/util.py:0">the source</A>
-    for more information.
-    </SMALL>
-  </P>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/module-kid.util-index.html kid-0.8svn249/doc/html/module-kid.util-index.html
--- kid-0.8/doc/html/module-kid.util-index.html	2005-12-02 03:01:17.000000000 -0500
+++ kid-0.8svn249/doc/html/module-kid.util-index.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,176 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>Index of kid.util module</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-  
-  <H1>Index of the <TT>util</TT> module</H1>
-  
-  <UL CLASS="pudge-module-index">
-    <LI CLASS="module">
-    <SPAN CLASS="prefix">m</SPAN>
-    <A HREF="module-kid.util.html">
-      <TT>kid.util</TT>
-    </A>
-    <A HREF="kid/util.py.html">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      <LI CLASS="class">
-    <SPAN CLASS="prefix">C</SPAN>
-    <A HREF="class-kid.util.QuickTextReader.html">
-      <TT>QuickTextReader</TT>
-    </A>
-    <A HREF="kid/util.py.html?f=1&amp;l=9#1">...</A>
-    <SMALL>
-    </SMALL>
-    <UL>
-      
-      
-      
-      
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.util.QuickTextReader.html#read">
-      <TT>read</TT>
-    </A>
-    <A HREF="kid/util.py.html?f=5&amp;l=9#5">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="class-kid.util.QuickTextReader.html#__init__">
-      <TT>__init__</TT>
-    </A>
-    <A HREF="kid/util.py.html?f=2&amp;l=4#2">...</A>
-    <SMALL>
-    </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-      
-      <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="module-kid.util.html#open_resource">
-      <TT>open_resource</TT>
-    </A>
-    <A HREF="kid/util.py.html?f=23&amp;l=31#23">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Generic resource opener.</SPAN>
-  </SMALL>
-    
-  </LI>
-    
-  <LI CLASS="routine">
-    <SPAN CLASS="prefix">f</SPAN>
-    <A HREF="module-kid.util.html#xml_sniff">
-      <TT>xml_sniff</TT>
-    </A>
-    <A HREF="kid/util.py.html?f=10&amp;l=21#10">...</A>
-    <SMALL>
-      - <SPAN CLASS="rst">Sniff text to see if it looks like XML.
-Return 1 if text looks like XML, otherwise return 0.</SPAN>
-  </SMALL>
-    
-  </LI>
-      
-      
-      
-    </UL>
-  </LI>
-  </UL>
-  
-  
-  
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/notes.html kid-0.8svn249/doc/html/notes.html
--- kid-0.8/doc/html/notes.html	2005-12-02 03:01:08.000000000 -0500
+++ kid-0.8svn249/doc/html/notes.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,353 +0,0 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
-<HTML>
-  
-  <HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type">
-    <TITLE>Kid 0.6 Release Notes</TITLE>
-    <LINK HREF="layout.css" TYPE="text/css" REL="stylesheet">
-    
-    <LINK HREF="http://lesscode.org/category/projects/kid/feed/" TYPE="application/rss+xml" REL="alternate" TITLE="RSS 2.0">
-    
-  </HEAD>
-  <BODY>
-    <DIV ID="page">
-      <H1 CLASS="doc-title">
-      <A HREF="http://lesscode.org/">lesscode.org</A></H1>
-      <DIV ID="navcontainer">
-		    <UL ID="navlist">
-          <LI CLASS="pagenav">
-            <UL>
-              <LI CLASS="page_item">
-                <A HREF="index.html" TITLE="Project Home / Index">Kid</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="module-index.html" TITLE="kid package and module reference">Modules</A>
-              </LI>
-              
-              <LI>
-                <A HREF="http://lesscode.org/projects/kid/" TITLE="Wiki / Subversion / Roadmap / Bug Tracker">Trac</A>
-              </LI>
-              <LI>
-                <A HREF="http://lesscode.org/category/kid/">Blog</A>
-              </LI>
-              <LI>
-                <A HREF="http://lists.sourceforge.net/lists/listinfo/kid-template-discuss" TITLE="Mailing List">Discuss</A>
-              </LI>
-              <LI CLASS="page_item">
-                <A HREF="http://lesscode.org/about">
-                  about lesscode.org
-                </A>
-              </LI>
-            </UL>
-          </LI>
-        </UL>
-      </DIV>
-      
-      <HR>
-      
-      
-      
-      <DIV ID="content">
-      
-      <DIV CLASS="rst-doc">
-  
-  <H1 CLASS="pudge-member-page-heading">Kid 0.6 Release Notes</H1>
-  
-  
-  <P>There has been significant change in version 0.6. This includes enhancements
-and modifications to the template language and python interface.</P>
-<DIV CLASS="contents topic" ID="contents">
-<P CLASS="topic-title first">
-<A NAME="contents">Contents</A></P>
-<UL CLASS="simple">
-<LI>
-<A HREF="#language-and-api-changes" ID="id6" NAME="id6" CLASS="reference">Language and API Changes</A><UL>
-<LI>
-<A HREF="#kid-namespace-change" ID="id7" NAME="id7" CLASS="reference">Kid Namespace Change</A></LI>
-<LI>
-<A HREF="#py-omit-is-now-py-strip" ID="id8" NAME="id8" CLASS="reference">
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">py:omit</SPAN></TT> is now <TT CLASS="docutils literal"><SPAN CLASS="pre">py:strip</SPAN></TT></A></LI>
-<LI>
-<A HREF="#python-expression-substitution-syntax" ID="id9" NAME="id9" CLASS="reference">Python Expression Substitution Syntax</A></LI>
-</UL>
-</LI>
-<LI>
-<A HREF="#enhancements" ID="id10" NAME="id10" CLASS="reference">Enhancements</A><UL>
-<LI>
-<A HREF="#celementtree-support" ID="id11" NAME="id11" CLASS="reference">cElementTree Support</A></LI>
-<LI>
-<A HREF="#death-of-comment-wart" ID="id12" NAME="id12" CLASS="reference">Death of Comment Wart</A></LI>
-<LI>
-<A HREF="#improved-template-api" ID="id13" NAME="id13" CLASS="reference">Improved Template API</A><UL>
-<LI>
-<A HREF="#the-template-class" ID="id14" NAME="id14" CLASS="reference">The <TT CLASS="docutils literal"><SPAN CLASS="pre">Template</SPAN></TT> Class</A></LI>
-<LI>
-<A HREF="#the-kid-template-function" ID="id15" NAME="id15" CLASS="reference">The <TT CLASS="docutils literal"><SPAN CLASS="pre">kid.Template</SPAN></TT> function</A></LI>
-</UL>
-</LI>
-<LI>
-<A HREF="#match-templates-filters" ID="id16" NAME="id16" CLASS="reference">Match Templates / Filters</A></LI>
-<LI>
-<A HREF="#template-inheritance" ID="id17" NAME="id17" CLASS="reference">Template Inheritance</A></LI>
-<LI>
-<A HREF="#dynamic-attribute-generation-py-attrs" ID="id18" NAME="id18" CLASS="reference">Dynamic Attribute Generation (<TT CLASS="docutils literal"><SPAN CLASS="pre">py:attrs</SPAN></TT>)</A></LI>
-</UL>
-</LI>
-<LI>
-<A HREF="#upgrade-script" ID="id19" NAME="id19" CLASS="reference">Upgrade Script</A></LI>
-</UL>
-</DIV>
-<DIV CLASS="section" ID="language-and-api-changes">
-<H1>
-<A HREF="#id6" CLASS="toc-backref" NAME="language-and-api-changes">Language and API Changes</A></H1>
-<P>The following changes are likely to impact existing code and
-templates. Where possible, we have tried to maintain backward compatibility
-but that wasn't possible in all cases.</P>
-<P>The <A HREF="#upgrade-script" CLASS="reference">Upgrade Script</A> can be used to bring 0.5 templates up to 0.6 syntax.</P>
-<DIV CLASS="section" ID="kid-namespace-change">
-<H2>
-<A HREF="#id7" CLASS="toc-backref" NAME="kid-namespace-change">Kid Namespace Change</A></H2>
-<P>The Kid namespace has changed from <TT CLASS="docutils literal"><SPAN CLASS="pre">http://naeblis.cx/ns/kid#</SPAN></TT> to
-<TT CLASS="docutils literal"><SPAN CLASS="pre">http://purl.org/kid/ns#</SPAN></TT>. The naeblis.cx domain is privately owned and
-could expire some time in the future. purl.org is a system for establishing
-and maintaining "persistent" URIs.</P>
-<P>A temporary hack has been put in place to substitute references to the old
-namespace URI with the new namespace URI. A warning is output when this
-occurs. This will be removed in a couple of months so it is recommended that
-templates be upgraded as soon as possible.</P>
-</DIV>
-<DIV CLASS="section" ID="py-omit-is-now-py-strip">
-<H2>
-<A HREF="#id8" CLASS="toc-backref" NAME="py-omit-is-now-py-strip">
-<TT CLASS="docutils literal docutils literal">
-<SPAN CLASS="pre">py:omit</SPAN></TT> is now <TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">py:strip</SPAN></TT></A></H2>
-<P>Due to initial confusion many experienced with the name <TT CLASS="docutils literal"><SPAN CLASS="pre">py:omit</SPAN></TT>, it has
-been renamed <TT CLASS="docutils literal"><SPAN CLASS="pre">py:strip</SPAN></TT>. The term "omit" was often read as "omit the
-element and all descendants". The new term "strip" seems to better indicate
-the semantic: "strip the start and end tag but process descendants."</P>
-</DIV>
-<DIV CLASS="section" ID="python-expression-substitution-syntax">
-<H2>
-<A HREF="#id9" CLASS="toc-backref" NAME="python-expression-substitution-syntax">Python Expression Substitution Syntax</A></H2>
-<P>The syntax of brace expansions has been modified match more closely with
-existing Python substitution syntax. In 0.5 python expressions enclosed in
-curly braces ({}) were evaluated and their results substituted. In 0.6, the
-rules have changed as follows:</P>
-<BLOCKQUOTE>
-<OL CLASS="arabic simple">
-<LI>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">$$</SPAN></TT> is an escape; it is replaced with a single $.</LI>
-<LI>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">$name</SPAN></TT> substitutes a variable value.</LI>
-<LI>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">${expr}</SPAN></TT> substitutes the result of evaluating any python expression.</LI>
-</OL>
-</BLOCKQUOTE>
-<P>See <A HREF="language.html#python-expression-substitution-expr" CLASS="reference">Python Expression Substitution</A> in the Language Reference.</P>
-<!-- warning:
-
-The expression substitution **is not** backward compatible. If you use the
-old-style brace-expansion, you will need to upgrade your templates for Kid
-0.6. -->
-
-</DIV>
-</DIV>
-<DIV CLASS="section" ID="enhancements">
-<H1>
-<A HREF="#id10" CLASS="toc-backref" NAME="enhancements">Enhancements</A></H1>
-<DIV CLASS="section" ID="celementtree-support">
-<H2>
-<A HREF="#id11" CLASS="toc-backref" NAME="celementtree-support">cElementTree Support</A></H2>
-<P>Kid now uses cElementTree if it is available. Preliminary tests show
-moderate performance increases. In most cases, we're seeing template parse
-and execution time increase by about 15%. The poor increase (relative to
-other cET/ET numbers) is due to the fact that we're not using cElementTree's
-native parser as it doesn't support comments or processing instructions. The
-plan is to lobby the effbot organization to add these features (hint, hint:
-send patches) so that we can get the huge increases people are seeing
-elsewhere.</P>
-<P>Kid automatically determines whether cElementTree is available and uses it
-if so. If cElementTree is not available, Kid falls back on Python
-ElementTree. If you want to turn off use of cElementTree, you can set the
-environment variable <TT CLASS="docutils literal"><SPAN CLASS="pre">KID_NOCET</SPAN></TT> to 1.</P>
-</DIV>
-<DIV CLASS="section" ID="death-of-comment-wart">
-<H2>
-<A HREF="#id12" CLASS="toc-backref" NAME="death-of-comment-wart">Death of Comment Wart</A></H2>
-<P>In versions of Kid prior to 0.6, the first line of an embedded Python code
-block had to be a Python comment (#). This was due to Python's whitespace
-semantics. Christoph determined a process for establishing the correct indent
-levels without requiring a comment as the first line.</P>
-<P>Starting in Kid 0.6, a comment is no longer required to be the first line in
-a <TT CLASS="docutils literal"><SPAN CLASS="pre">&lt;?python?></SPAN></TT> processing instruction. It is also possible to have single
-line code blocks:</P>
-<PRE CLASS="literal-block">
-&lt;?python x = 10 ?>
-</PRE>
-</DIV>
-<DIV CLASS="section" ID="improved-template-api">
-<H2>
-<A HREF="#id13" CLASS="toc-backref" NAME="improved-template-api">Improved Template API</A></H2>
-<P>The Python interfaces have been reworked significantly and now are very
-similar to Cheetah's. There are two preferred methods for accessing a
-template.</P>
-<DIV CLASS="section" ID="the-template-class">
-<H3>
-<A HREF="#id14" CLASS="toc-backref" NAME="the-template-class">The <TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">Template</SPAN></TT> Class</A></H3>
-<P>The first method existed in 0.5 but was not documented well. If you have
-enabled the kid import hooks, then you can import a template and create an
-instance of the template by accessing the <TT CLASS="docutils literal"><SPAN CLASS="pre">Template</SPAN></TT> class exposed by the
-module:</P>
-<PRE CLASS="literal-block">
-import kid ; kid.enable_import()
-import mytemplate
-template = mytemplate.Template(foo='bar', bling=1)
-print template.serialize()
-</PRE>
-<P>The primary difference from 0.5 is that template variables are passed to the
-<TT CLASS="docutils literal"><SPAN CLASS="pre">Template</SPAN></TT> constructor instead of to the individual execution methods
-(<TT CLASS="docutils literal"><SPAN CLASS="pre">serialize</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">generate</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">write</SPAN></TT>, <TT CLASS="docutils literal"><SPAN CLASS="pre">pull</SPAN></TT>).</P>
-<P>It is also possible to set template variables after the template instance
-is created by simply assigning to template object instance:</P>
-<PRE CLASS="literal-block">
-template = mytemplate.Template()
-template.foo = 'bar'
-template.bling = 1
-print str(template)
-</PRE>
-<P>Here we see another small addition: template instances implement <TT CLASS="docutils literal"><SPAN CLASS="pre">__str__</SPAN></TT>
-and <TT CLASS="docutils literal"><SPAN CLASS="pre">__unicode__</SPAN></TT> built-ins. These methods are equivalent to calling
-<TT CLASS="docutils literal"><SPAN CLASS="pre">serialize(encoding='utf-8')</SPAN></TT> and <TT CLASS="docutils literal"><SPAN CLASS="pre">serialize(encoding='utf-16')</SPAN></TT>,
-respectively.</P>
-</DIV>
-<DIV CLASS="section" ID="the-kid-template-function">
-<H3>
-<A HREF="#id15" CLASS="toc-backref" NAME="the-kid-template-function">The <TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">kid.Template</SPAN></TT> function</A></H3>
-<P>The <TT CLASS="docutils literal"><SPAN CLASS="pre">kid.Template</SPAN></TT> function works much like <TT CLASS="docutils literal"><SPAN CLASS="pre">Template</SPAN></TT> class
-constructors but takes an additional parameter that allows the template to
-be loaded from a file, string, or module name. It is sometimes easier to
-manage templates as files on disk rather than as python modules.</P>
-<P>Example:</P>
-<PRE CLASS="literal-block">
-from kid import Template
-# create a template from file
-template = Template(file='mytemplate.kid', foo='bar', bling=1)
-
-# create a template from string
-template = Template(source="&lt;p>${foo}&lt;/p>", foo='bar')
-
-# create a template from a python module name
-template = Template(name='templates.mytemplate', foo='bar')
-</PRE>
-<P>This last form is sometimes useful because it doesn't require the kid
-import hook to be enabled and it also allows template names to be specified
-at run-time.</P>
-<P>See <A HREF="guide.html#template-function" CLASS="reference">kid.Template function</A> in the User's Guide for more info.</P>
-</DIV>
-</DIV>
-<DIV CLASS="section" ID="match-templates-filters">
-<H2>
-<A HREF="#id16" CLASS="toc-backref" NAME="match-templates-filters">Match Templates / Filters</A></H2>
-<P>Match Templates are a cross between XSLT's match templates and JSP tag
-libraries. They allow a set of filters to be put in place that matches
-infoset items generated by a template so that output can be modified.</P>
-<P>While match templates provide a general purpose mechanism for transforming
-XML content, it is especially useful in a couple of situations which have
-driven the design:</P>
-<OL CLASS="arabic simple">
-<LI>Creating tag libraries that inject new tags into an XML vocabulary.</LI>
-<LI>Applying headers/footers without inserting place-holders into the
-source document/template.</LI>
-</OL>
-<P>See <A HREF="language.html#match-templates" CLASS="reference">Match Templates</A> in the Language Reference for more information.</P>
-</DIV>
-<DIV CLASS="section" ID="template-inheritance">
-<H2>
-<A HREF="#id17" CLASS="toc-backref" NAME="template-inheritance">Template Inheritance</A></H2>
-<P>Templates now support multiple inheritance of template functions
-(<TT CLASS="docutils literal"><SPAN CLASS="pre">py:def</SPAN></TT>) and match templates (<TT CLASS="docutils literal"><SPAN CLASS="pre">py:match</SPAN></TT>). A template indicates that
-it extends one or more other templates by setting the <TT CLASS="docutils literal"><SPAN CLASS="pre">py:extends</SPAN></TT>
-attribute on the root element:</P>
-<PRE CLASS="literal-block">
-&lt;?xml version='1.0' encoding='utf-8'?>
-&lt;html py:extends="'common.kid', 'forms.kid'" ...
-</PRE>
-<P>
-<TT CLASS="docutils literal">
-<SPAN CLASS="pre">py:extends</SPAN></TT> may contain template modules, Template classes, or strings
-specifying template paths relative to current template file.</P>
-<P>See <A HREF="language.html#template-reuse" CLASS="reference">Template Reuse</A> in the Language Reference for more information.</P>
-</DIV>
-<DIV CLASS="section" ID="dynamic-attribute-generation-py-attrs">
-<H2>
-<A HREF="#id18" CLASS="toc-backref" NAME="dynamic-attribute-generation-py-attrs">Dynamic Attribute Generation (<TT CLASS="docutils literal docutils literal"><SPAN CLASS="pre">py:attrs</SPAN></TT>)</A></H2>
-<P>A new <TT CLASS="docutils literal"><SPAN CLASS="pre">py:attrs</SPAN></TT> attribute has been added that allows attributes to be
-specified using a dictionary.</P>
-<P>See <A HREF="language.html#dynamic-attributes-py-attrs" CLASS="reference">Dynamic Attributes</A> in the Language Reference for more information.</P>
-</DIV>
-</DIV>
-<DIV CLASS="section" ID="upgrade-script">
-<H1>
-<A HREF="#id19" CLASS="toc-backref" NAME="upgrade-script">Upgrade Script</A></H1>
-<P>Due to the amount of changes in template syntax, a migration script is
-provided that can upgrade kid 0.5 templates to 0.6 syntax. This includes
-changing the namespace, py:strip, and new expression substitution
-syntax.</P>
-<P>The script can be found in the source distribution as
-<TT CLASS="docutils literal"><SPAN CLASS="pre">misc/upgrade-0.6.py</SPAN></TT>. The script can take multiple file names and
-upgrades each in-place while preserving a backup. For instance:</P>
-<PRE CLASS="literal-block">
-$ python upgrade-0.6.py path/to/template.kid
-Upgraded: template.kid...
-</PRE>
-<P>On posix systems, you can upgrade a bunch of kid templates under the current
-working directory with the following command:</P>
-<PRE CLASS="literal-block">
-$ find . -name '*.kid' | xargs python upgrade-0.6.py
-Upgraded: template1.kid...
-Upgraded: template2.kid...
-Upgraded: template3.kid...
-Upgraded: template4.kid...
-</PRE>
-</DIV>
-</DIV>
-</DIV>
-      
-      <DIV ID="footer">
-        
-        
-        <P STYLE="float: left;">
-          
-          This documentation is licensed under the 
-          <A HREF="doc-license.html" TITLE="Documentation License">GNU Free Documentation License</A>
-          <BR>
-          
-          
-          built with 
-          <A HREF="http://lesscode.org/projects/pudge/">pudge/0.1</A><BR>
-		      original design by 
-          <A HREF="http://blog.ratterobert.com/">ratter / robert</A><BR>
-	      </P>
-        <DIV>
-        <BR>
-        
-        <A NAME="search">
-          <FORM ACTION="http://lesscode.org/blog/index.php" METHOD="get" ID="searchform">
-            <DIV>
-              <INPUT TYPE="text" NAME="s" VALUE="" ID="s">
-              
-              <INPUT TYPE="submit" ID="searchsubmit" VALUE="Search">
-              
-            </DIV>
-          </FORM>
-        </A>
-        <BR>
-        
-        </DIV>
-      </DIV>
-    </DIV>
-  </BODY>
-</HTML>
\ No newline at end of file
diff -Naur kid-0.8/doc/html/pudge.css kid-0.8svn249/doc/html/pudge.css
--- kid-0.8/doc/html/pudge.css	2005-12-02 02:56:49.000000000 -0500
+++ kid-0.8svn249/doc/html/pudge.css	1969-12-31 19:00:00.000000000 -0500
@@ -1,60 +0,0 @@
-/* Layout
------------------------------------ */
-
-@import url("rst.css");
-
-/* Pudge Elements
------------------------------------ */
-.note { font-size: 90% }
-h4.pudge-member-name { 
-  font-size: 110%;
-  margin-bottom: 0;
-}
-h4.pudge-member-name a.obj-link { 
-  font-weight: bold;
-  text-decoration: none;
-}
-h4.pudge-member-name .prefix { 
-  font-style: oblique;
-  padding-right: 6px;
-  font-weight: bold;
-  color: #c9c;
-}
-h1.pudge-member-page-heading { 
-  font-size: 250%;
-}
-h4.pudge-member-page-subheading { 
-  font-size: 150%;
-  font-style: italic;
-}
-h4.pudge-member-page-subheading p { 
-  display: inline;
-}
-div.pudge-member { 
-  margin-top: 1.5em;
-  margin-bottom: 1.5em;
-}
-ul.pudge-module-index { 
-  margin-left: 0;
-  padding-left: 0;
-}
-ul.pudge-module-index ul { 
-  padding-left: 1.5em;
-  margin-left: 0;
-}
-ul.pudge-module-index li { 
-  list-style-type: none;
-}
-ul.pudge-module-index .prefix { 
-  font-style: oblique;
-  padding-right: 6px;
-  font-size: 90%;
-  font-weight: bold;
-  color: purple;
-}
-ul.pudge-module-index a { 
-  text-decoration: none;
-}
-div.pudge-section { 
-  margin-left: 2em;
-}
\ No newline at end of file
diff -Naur kid-0.8/doc/html/rst.css kid-0.8svn249/doc/html/rst.css
--- kid-0.8/doc/html/rst.css	2005-12-02 02:56:49.000000000 -0500
+++ kid-0.8svn249/doc/html/rst.css	1969-12-31 19:00:00.000000000 -0500
@@ -1,142 +0,0 @@
-/* Headings
-   ------------------------------- */
-
-.rst h1 { font-size: 110% }
-.rst h2 { font-size: 100% }
-
-/*.rst-doc h1 { font-size: 200% }
-.rst-doc h2 { font-size: 140% }
-.rst-doc h3 { font-size: 110% }*/
-.rst-doc h1.title { font-size: 220% }
-.rst-doc h1 a, .rst-doc h2 a, .rst-doc h3 a { 
-  color: inherit ;
-  font-weight: inherit;
-  text-decoration: inherit;
-}
-
-/* Blockquotes
-   ------------------------------- */
-
-.rst blockquote,
-.rst-doc blockquote { 
-  font-style: italic;
-  font-family: Georgia, serif;
-  max-width: 30em;
-}
-
-/* Document Info
-   ------------------------------- */
-.rst-doc table.docinfo { 
-  margin: 2em 0 
-  width: 100%;
-}
-.rst-doc table.docinfo th { 
-  text-align: left ;
-  padding-right: 2em;
-  color: #555;
-}
-.rst-doc table.docinfo td { 
-  text-align: left
-}
-
-/* Field Lists 
-   ------------------------------- */
-
-.rst table.field-list, 
-.rst-doc table.field-list { 
-  border: 0;
-  margin-left: 0;
-}
-.rst table.field-list ul,
-.rst-doc table.field-list ul { 
-  margin-left: 0;
-}
-.rst-doc table.field-list ul { 
-  border: 0;
-  margin-left: 2em;
-  background: #fff;
-  color: #119;
-}
-
-/* Tables
-   ------------------------------- */
-
-.rst table.docutils,
-.rst-doc table.docutils { 
-  border: 0;
-}
-.rst table.docutils th,
-.rst-doc table.docutils th { 
-  border: 0;
-  background: #777;
-  color: #fff;
-  padding: 3px;
-}
-.rst table.docutils td,
-.rst-doc table.docutils td { 
-  border: 0;
-  border-bottom: 1px solid #ccc;
-  padding-bottom: 2px;
-}
-
-/* Contents and Back References
-   ------------------------------- */
-
-.rst-doc div.contents { 
-  margin: 2em inherit;
-}
-.rst-doc div.contents ul { 
-  margin-left: 0;
-  padding-left: 2em;
-  line-height: 150%;
-}
-.rst-doc div.contents ul li { 
-  font-weight: bold;
-  list-style-type: none;
-} 
-.rst-doc div.contents p.topic-title {
-  font-size: 160%;
-  font-weight: normal;
-  color: #555;
-  margin-top: .5em;
-}
-.rst-doc .contents .reference,
-.rst-doc .toc-backref { 
-  text-decoration: none;
-}
-
-/* Admonitions
-   ------------------------------- */
-
-.rst-doc div.admonition,
-.rst-doc div.warning,
-.rst-doc div.note { 
-  margin: 2.5em 6em;
-  padding: .6em 2.5em;
-  background: #ddf;
-  border: 2px solid #ccc;
-  font-family: Georgia, serif;
-  color: #333;
-}
-.rst-doc div.warning { 
-  background: #ff8;
-  border-color: #fe2;
-}
-.rst-doc div .admonition-title { 
-  font-weight: bold;
-  font-style: italic;
-  color: #223;
-  font-size: 110%;
-  font-family: sans-serif;
-}
-
-/* Misc
-   ------------------------------- */
-
-tt.literal { 
-  color: #333;
-}
-.footnote-reference { 
-  vertical-align: super;
-  font-size: 20%;
-}
\ No newline at end of file
diff -Naur kid-0.8/doc/language.txt kid-0.8svn249/doc/language.txt
--- kid-0.8/doc/language.txt	2005-11-10 07:52:41.000000000 -0500
+++ kid-0.8svn249/doc/language.txt	2006-01-11 11:14:35.000000000 -0500
@@ -7,7 +7,7 @@
 :Author: `Ryan Tomayko`_
 :Contact: rtomayko@gmail.com
 :Revision: 4
-:Date: $Date: 2005-11-10 07:52:40 -0500 (Thu, 10 Nov 2005) $
+:Date: $Date: 2006-01-01 13:22:32 -0500 (Sun, 01 Jan 2006) $
 :Copyright: 2005, Ryan Tomayko
 :Other Formats: Text__
 
@@ -216,7 +216,7 @@
   or unicode object initially.
 
 
-.. _Expression Substitution:
+.. _Python Expression Substitution:
 
 Python Expression Substitution (``${expr}``)
 ============================================
@@ -293,8 +293,8 @@
 ``XML()`` function
 ------------------
 
-`Expression substitution`_, `py:content`_, and `py:replace`_ encode strings
-as text. That is, text is encoded according to the rules of the XML
+`Python Expression substitution`_, `py:content`_, and `py:replace`_ encode
+strings as text. That is, text is encoded according to the rules of the XML
 specification, which includes, among other things, replacing the literal
 characters ``<`` and ``&`` with their encoded counterparts (``&lt;``
 ``&amp;``). If you have XML stored as a string and want it to be output as
@@ -331,6 +331,15 @@
 The document function resolves paths relative to the current template file
 (if the template location is available).
 
+``defined(name) and value_of(name, default)`` functions
+-------------------------------------------------------
+
+``defined`` returns True if the name exists in the Kid namespace.
+value_of returns either the named value or the optional default
+value if that name doesn't exist in the namespace. These two simple
+convenience functions may be more intuitive to many than 
+hasattr(self, name) and getattr(self, name, default) which are
+exactly equivalent.
 
 Attribute Language
 ==================
@@ -557,37 +566,60 @@
 functions. They are generally invoked from `Content Producing Constructs`_
 like ``py:content`` or ``${}`` substitution.
 
-::
-
-   <ul py:def="display_list(seq)">
-      <li py:for="item in seq" py:content="item" />
-   </ul>
-
-   <table py:def="display_dict(mapping)">
-      <tr>
-          <th>Key</th>
-          <th>Value</th>
-      </tr>
-      <tr py:for="key, value in mapping.items()">
-          <td py:content="key" />
-          <td py:content="value" />
-      </tr>
-   </table>
-
-Here we've defined two Named Template Functions: ``display_list`` and
+Here we will define two Named Template Functions: ``display_list`` and
 ``display_dict``. The first function takes a sequence and the second a
 mapping. We can invoke these functions from the same template by invoking
 them from a content producing construct::
 
-   <body>
-      ${display_list(['apple', 'orange', 'kiwi'])}
-
-      <div py:replace="display_dict({'x' : 'y', 'p' : 'q'})">
-       Key/Value Table replaces this text
-      </div>
-   </body>
+   <html xmlns:py="http://purl.org/kid/ns#">
+      <body>
+         <ul py:def="display_list(seq)">
+            <li py:for="item in seq" py:content="item" />
+         </ul>
+
+         <table py:def="display_dict(mapping)">
+            <tr>
+               <th>Key</th>
+               <th>Value</th>
+            </tr>
+            <tr py:for="key, value in mapping.items()">
+               <td py:content="key" />
+               <td py:content="value" />
+            </tr>
+         </table>
+
+         ${display_list(['apple', 'orange', 'kiwi'])}
+
+         <div py:replace="display_dict({'x' : 'y', 'p' : 'q'})">
+            Key/Value Table replaces this text
+         </div>
+      </body>
+   </html>
 
+Serialized as XML this becomes something like::
 
+   <?xml version="1.0" encoding="utf-8"?>
+   <html>
+      <body>
+         <ul>
+            <li>apple</li><li>orange</li><li>kiwi</li>
+         </ul>
+         <table>
+            <tr>
+               <th>Key</th>
+               <th>Value</th>
+            </tr>
+            <tr>
+               <td>x</td>
+               <td>y</td>
+            </tr>
+            <tr>
+               <td>p</td>
+               <td>q</td>
+            </tr>
+         </table>
+      </body>
+   </html>
 
 .. _`py:match`:
 .. _Match Templates:
@@ -850,6 +882,26 @@
 Attribute substitution occurs after all other attributes are processed and
 MUST NOT be processed for ``py:`` attributes.
 
+XML Comments
+============
+
+Kid templates may contain XML comments. The comments will appear in the
+serialized output of a template, but will not be processed by the
+`Python Expression Substitution`_ rules.
+
+::
+
+    <!--this is a comment-->
+    <!-- and so is this -->
+
+Sometimes it is useful to have comments in a template that will not appear
+when the template is serialized. To do this simply prefix the comment text
+with a ``!`` character.
+
+::
+
+    <!--!this will not be serialized-->
+    <!-- !this will also not be serialized -->
 
 Revision History
 ================
diff -Naur kid-0.8/kid/compiler.py kid-0.8svn249/kid/compiler.py
--- kid-0.8/kid/compiler.py	2005-06-02 04:37:21.000000000 -0400
+++ kid-0.8svn249/kid/compiler.py	2006-01-11 11:14:35.000000000 -0500
@@ -5,8 +5,8 @@
 
 from __future__ import generators
 
-__revision__ = "$Rev: 158 $"
-__date__ = "$Date: 2005-06-02 04:37:21 -0400 (Thu, 02 Jun 2005) $"
+__revision__ = "$Rev: 232 $"
+__date__ = "$Date: 2005-12-24 02:00:16 -0500 (Sat, 24 Dec 2005) $"
 __author__ = "Ryan Tomayko (rtomayko@gmail.com)"
 __copyright__ = "Copyright 2004-2005, Ryan Tomayko"
 __license__ = "MIT <http://www.opensource.org/licenses/mit-license.php>"
@@ -151,7 +151,7 @@
             return 1
 
 def _maybe_open(f, mode):
-    if isinstance(f, (str, unicode)):
+    if isinstance(f, basestring):
         return open(f, mode)
     else:
         return f
diff -Naur kid-0.8/kid/compiler.pyc kid-0.8svn249/kid/compiler.pyc
--- kid-0.8/kid/compiler.pyc	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/compiler.pyc	2006-01-11 14:31:37.000000000 -0500
@@ -0,0 +1,90 @@
+m
+.Cc           @   sZ  d  Z  d k l Z d Z d Z d Z d Z d Z d k Z d k	 Z	 d k
+ Z
+ d k Z
+ d k Z d k Z d k Z d k Z d k Z d k Z d d	 d
+ d g Z d Z e Z d d  Z d d d  Z d   Z d e f d     YZ d   Z d d d d d  Z d d d d d d  Z d e f d     YZ  d   Z! e" d j o e! e i#  n d S(   s/   Kid Compiler
+
+Compile XML to Python byte-code.
+(   s
+   generatorss   $Rev: 232 $s5   $Date: 2005-12-24 02:00:16 -0500 (Sat, 24 Dec 2005) $s!   Ryan Tomayko (rtomayko@gmail.com)s!   Copyright 2004-2005, Ryan Tomaykos8   MIT <http://www.opensource.org/licenses/mit-license.php>Nt   KID_EXTt   compilet   compile_filet   compile_dirs   .kidc         B   s#   | d  j o
+ h  } n |  | U| S(   N(   t   dictt   Nonet   code(   R   R   (    (    t5   /home/scott/scratch/kid/kid-0.8svn249/kid/compiler.pyt	   actualize!   s    
+s   <string>c         C   s+   t  i i |  | d | } t | | d  S(   s   Compiles kid xml source to a Python code object.
+
+    source   -- A file like object - must support read.
+    filename -- An optional filename that is used
+
+    t   filenamet   execN(   t   kidt   parsert   parset   sourcet   encodingR	   t   pyt
+   py_compile(   R   R	   R   R   (    (    R   R   '   s     c         C   s   t  i |   t i S(   N(   t   ost   statR	   t   ST_MTIME(   R	   (    (    R   t   <lambda>3   s    t   KidFilec           B   sw   t  Z e i   Z d d  d  d  Z d d d  Z d   Z e	 e  Z d   Z
+ e	 e
+  Z
+ d  d  Z d  d  Z RS(	   Ni    c   	      C   s8  | |  _  t i i |  d d |  _ | |  _ |  i d |  _ | p d |  _ d  } | o
+ d } n d } y t |  i d  } Wn t j
+ o d } nt X| i d  |  i j o
+ d } nP t i d | i d   d } t |  } | d  j p | | j  o
+ d } n | |  _ | |  _ d  |  _ d  |  _ d  S(	   Ni    s   .pyt   cs   utf-8i   t   rbi   s   <I(   t   kid_filet   selfR   t   patht   splitextt   py_filet   strip_dest_dirt   pyc_fileR   R   t   fpt   forcet   stalet   opent   IOErrort   readt   magict   structt   unpackt   mtimet
+   _timestampt	   kid_mtimet   _pyc_fpt   _pythont   _code(	   R   R   R!   R   R   R    R)   R"   R+   (    (    R   t   __init__8   s.    		
+
+
+			i   c         C   sA   | o |  i    n |  i } | o |  i o |  i   n | S(   N(   t   dump_sourceR   R   t	   dump_codeR"   (   R   R1   R0   R   (    (    R   R   T   s    	c         C   s   |  i d  j o |  i p t i |  i  |  _ q |  i } |  i	 o< |  i i
+ |  i	  o& t i i |  i t |  i	   } n t |  i | d  |  _ n |  i S(   NR
+   (   R   R.   R   R"   t   marshalt   loadR,   R   t   pyfileR   t
+   startswithR   R   t   normpatht   lenR   t   python(   R   R4   (    (    R   R   \   s    
+	 &c         C   s?   |  i d j o( t i i |  i |  i  } | |  _ n |  i S(   s'   Get the Python source for the template.N(	   R   R-   R   R   R   t
+   parse_fileR   R   R   (   R   R   (    (    R   R8   i   s
+     c         C   s   |  i } | p |  i } y9 t | d  } | i d  | i |  i i d   Wn> t	 j
+ o2 y t
+ i |  Wn t j
+ o n Xd Sn Xd Sd  S(   Nt   wbs   # -*- coding: utf-8 -*-
+s   utf-8i    i   (   R   R8   R   t   fileR   t   _maybe_openR    t   writet   encodeR$   R   t   unlinkt   OSError(   R   R;   R    R   (    (    R   R0   q   s    		c         C   s   |  i } | p |  i } y t | d  } |  i o t i |  i  t i	 } n d } | i d  | i t i d |   t i | |  | i   | i d  | i |  i  Wn> t j
+ o2 y t i |  Wn t j
+ o n Xd Sn Xd Sd  S(   NR:   i    t       s   <Ii   (   R   R   R;   R   R<   R    R   R   R   R   R)   R=   R'   t   packR2   t   dumpt   flusht   seekR&   R$   R?   R@   (   R   R;   R    R   R)   (    (    R   R1      s(    	
+
+	(   t   __name__t
+   __module__t   impt	   get_magicR&   R   R/   R   R   t   propertyR8   R0   R1   (    (    (    R   R   5   s   		c         C   s)   t  |  t  o t |  |  Sn |  Sd  S(   N(   t
+   isinstancet   ft
+   basestringR#   t   mode(   RL   RN   (    (    R   R<      s    i    c         C   s?   t  |  | | |  } | i o | i d |  d Sn d Sd S(   s   Compile the file specified.
+
+    Return True if the file was compiled, False if the compiled file already
+    exists and is up-to-date.
+
+    R0   i   i    N(	   R   R;   R!   R   R   t   templateR"   R   R   (   R;   R!   R   R   R   RO   (    (    R   R      s     
+i
+   c         c   s[  t  i |   }
+ |
+ i   d } t t  } x)|
+ D]!} t  i
+ i |  |  } t  i
+ i |  op | |  | | } }	 |	 t j oH y t | | | | |  } Wn t j
+ o } | } n X| | f VqSq2 | d j ov | t  i j of | t  i j oV t  i
+ i |  oC t  i
+ i |  o/ x, t | | d | | |  D]
+ } | VqAWq2 q2 Wd S(   ss  Byte-compile all kid modules in the given directory tree.
+
+    Keyword Arguments: (only dir is required)
+    dir       -- the directory to byte-compile
+    maxlevels -- maximum recursion level (default 10)
+    force     -- if true, force compilation, even if timestamps are up-to-date.
+    source    -- if true, dump python source (.py) files along with .pyc files.
+
+    i   i    N(   R   t   listdirt   dirt   namest   sortt   successR7   R    t   ext_lent   nameR   t   joint   fullnamet   isfilet   headt   tailR   R!   R   R   R   t   rsltt	   Exceptiont   et	   maxlevelst   curdirt   pardirt   isdirt   islinkR   (   RQ   R_   R!   R   R   R   RU   RT   RZ   R[   RR   R\   RX   R^   RV   (    (    R   R      s*    	 
+ T t   KidcUsageErrorc           B   s   t  Z RS(   N(   RF   RG   (    (    (    R   Rd      s   c      	   C   s  d k  l  } l } y, | |  d d d d d d g  \ } }  Wn! | j
+ o } t |   n Xd } d }	 d  } xv | D]n \ } } | d j o
+ t } q| | d j o
+ t }	 q| | d j o t d   q| | d j o
+ | } q| q| W|  } t |  d j o
+ d  n d   } x | D]| } t i i |  o7 x` t | d | d |	 d | D] }
+ | |
+  qYWq!t | d | d |	 d | | t | f  q!Wd  S(   N(   s   getopts   GetoptErrori   s   fshd=R!   R   t   helps   strip-dest-dir=i    s   -fs   --forces   -ss   --sources   -hs   --helps   -ds   --strip-dest-dirs(   Use 'kidc --help' for usage information.c         C   sf   |  \ }  } |  t j o d | } n, |  t j o d | } n d | |  f } t i i |  d  S(   Ns   compile: %s
+s
+   fresh: %s
+s   error: %s (%s)
+(   R\   R;   t   Truet   msgt   Falset   syst   stderrR=   (   R\   R;   Rg   (    (    R   t   print_result   s    R   (   s   -fs   --force(   s   -ss   --source(   s   -hs   --help(   s   -ds   --strip-dest-dir(   t   getoptt   GetoptErrort   gerrort   argst   optsRg   Rd   R!   R   R   R   t   ot   aRf   t   filesR7   Rk   RL   R   R   Rb   R   R\   R   (   Ro   Rr   Rs   R!   R   RL   Rk   Rn   Rq   R   R\   Rg   Rl   Rp   (    (    R   t   kidc   s<    , 
+
+
+	  t   __main__($   t   __doc__t
+   __future__t
+   generatorst   __revision__t   __date__t
+   __author__t   __copyright__t   __license__Ri   t   reR   t   os.pathRH   R   R'   R2   t   newt
+   kid.parserR   t   __all__R    R   R   R   R   R*   t   objectR   R<   R   R   R]   Rd   Rt   RF   t   argv(   R   Rz   Ry   R'   R   R~   R   R    RH   Rx   R   R   Rd   R}   R{   Ri   R   R   R   R|   R*   R<   R   Rt   R   R   R2   (    (    R   t   ?   s<   											d	
+	*
\ No newline at end of file
diff -Naur kid-0.8/kid/et.pyc kid-0.8svn249/kid/et.pyc
--- kid-0.8/kid/et.pyc	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/et.pyc	2006-01-11 14:31:37.000000000 -0500
@@ -0,0 +1,28 @@
+m
+.Cc           @   s   d  Z  d Z d Z d Z d Z d Z d k Z d k i Z	 e i
+ i d  p, y d k TWq e j
+ o d k Tq Xn d k Td d	  Z d d
+  Z d d  Z d d  Z d d d d d d d d d d d g Z d S(   s   ElementTree extensions.s   $Rev$s5   $Date: 2005-02-16 15:43:38 -0500 (Wed, 16 Feb 2005) $s!   Ryan Tomayko (rtomayko@gmail.com)s!   Copyright 2004-2005, Ryan Tomaykos8   MIT <http://www.opensource.org/licenses/mit-license.php>Nt	   KID_NOCET(   t   *c         C   s   t  t  } |  | _ | S(   N(   t   Elementt   Commentt   elemt   text(   R   R   (    (    t/   /home/scott/scratch/kid/kid-0.8svn249/kid/et.pyR      s    	c         C   s8   t  t  } |  | _ | o | i d | | _ n | S(   Nt    (   R   t   ProcessingInstructiont   elementt   targetR   (   R
+   R   R	   (    (    R   R      s
+    	t    c         C   s   t  t  } |  | _ | S(   sg   Create an XML fragment.
+
+    Fragments hold TEXT and children but do not have a tag or attributes.
+    N(   R   t   FragmentR   R   (   R   R   (    (    R   R       s     	i    c         C   s   h  } x |  i   D] } | i d  o0 |  i |  | | d <| o |  i | =q q | d j o, |  i |  | d <| o |  i | =q q q W| S(   s  Get the namespace declarations for an Element.
+
+    This function looks for attributes on the Element provided that have the
+    following characteristics:
+
+       * Begin with 'xmlns:' and have no namespace URI.
+       * Are named 'xmlns' and have no namespace URI.
+
+    The result is a dictionary containing namespace prefix -> URI mappings.
+    Default namespace attributes result in a key of ''.
+
+    If remove is truthful, namespace declaration attributes are removed
+    from the passed in Element.
+    
+    s   xmlns:i   t   xmlnsR   N(   t   namesR   t   keyst   kt
+   startswitht   gett   removet   attrib(   R   R   R   R   (    (    R   t
+   namespaces)   s        R   t
+   SubElementR   R   R   t   ElementTreet   QNamet   dumpt   parset   tostringR   (   t   __doc__t   __revision__t   __date__t
+   __author__t   __copyright__t   __license__t   ost   elementtree.ElementTreeR   t   ETt   environR   t   cElementTreet   ImportErrort   NoneR   R   R   R   t   __all__(   R   R    R   R   R!   R   R   R   R   R$   R"   R)   (    (    R   t   ?   s$   		
\ No newline at end of file
diff -Naur kid-0.8/kid/filter.py kid-0.8svn249/kid/filter.py
--- kid-0.8/kid/filter.py	2005-11-20 00:49:39.000000000 -0500
+++ kid-0.8svn249/kid/filter.py	2006-01-11 11:14:35.000000000 -0500
@@ -63,4 +63,3 @@
                 for ev, item in doc:
                     if ev != XML_DECL:
                         yield ev
-            
diff -Naur kid-0.8/kid/filter.pyc kid-0.8svn249/kid/filter.pyc
--- kid-0.8/kid/filter.pyc	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/filter.pyc	2006-01-11 14:31:37.000000000 -0500
@@ -0,0 +1,22 @@
+m
+.Cc           @   s   d  Z  d k l Z d Z d Z d Z d Z d Z d k l	 Z	 d k
+ l Z l Z l Z l Z d	 k l Z d
+ k l Z d   Z d   Z d   Z d S(   s   Kid tranformations(   s
+   generatorss
+   $Rev: 53 $s5   $Date: 2005-02-15 08:10:35 -0500 (Tue, 15 Feb 2005) $s!   Ryan Tomayko (rtomayko@gmail.com)s!   Copyright 2004-2005, Ryan Tomaykos8   MIT <http://www.opensource.org/licenses/mit-license.php>(   s   GeneratorType(   s   ElementStreams   STARTs   XML_DECLs	   _coalesce(   s	   Namespace(   s   generate_contentc         #   s[     i   }   d   } t i |   }  x- t |    | |  D] \ } } | | f Vq= Wd  S(   Nc            s   t  t |      S(   N(   t   transform_filtert   generate_contentt   itemt   template(   R   (   R   (    t3   /home/scott/scratch/kid/kid-0.8svn249/kid/filter.pyt
+   apply_func   s    (
+   R   t   _get_match_templatest	   templatesR   t   ElementStreamt   ensuret   streamt   apply_matchest   evR   (   R
+   R   R   R   R   R   (    (   R   R   R       s     c         c   s9  x2|  D]*\ } } | t j od }
+ x t d t |   D] } | | \ }	 } |	 |  o |  i   } t | | | |  | i    } | d t |  j  oB x` t t |  | | | d |  D] \ } } | | f Vq Wn" x | D] \ } } | | f Vq Wd }
+ Pq< q< W|
+ o q q'n | | f Vq Wd  S(   Ni    i   (   R
+   R   R   t   STARTt   matchedt   ranget   lenR   t   it   matcht   callt   expandt	   _coalesceR   R   t   _get_assume_encodingt	   newstreamR   R   (   R
+   R   R   R   R   R   R   R   R   R   R   (    (    R   R      s2      !  	 c   
+      c   s  t  d  } | i }	 | i } x |  D] \ } } | t j o | i | i j o | i	   } | i
+ d  } y t | | i    } WnF | i |  } x] t |  i d  D] \ } } | | f Vq Wq Xx- | D]! \ } } | t j o | Vq q Wq% q% Wd  S(   Ns   http://www.w3.org/2001/XIncludet   hrefi   (   t	   Namespacet   xit   includet   fallbackR
+   R   R   R   t   tagR   t   getR   t   documentR   R   t   doct   findt   fallback_elmR   t   stript   XML_DECL(
+   R
+   R   R"   R   R   R    R   R   R   R   (    (    R   t   xinclude_filter0   s&    		    N(   t   __doc__t
+   __future__t
+   generatorst   __revision__t   __date__t
+   __author__t   __copyright__t   __license__t   typest   GeneratorTypet   kid.pullR   R   R$   R   t   kid.namespaceR   t   template_utilR   R    R   R%   (   R,   R)   R%   R-   R   R   R+   R*   R   R   R(   R   R$   R    R/   R   (    (    R   t   ?   s   		
\ No newline at end of file
diff -Naur kid-0.8/kid/importer.py kid-0.8svn249/kid/importer.py
--- kid-0.8/kid/importer.py	2005-12-02 01:57:39.000000000 -0500
+++ kid-0.8svn249/kid/importer.py	2006-01-11 11:14:35.000000000 -0500
@@ -13,8 +13,8 @@
 Exchange -- thanks guys.
 """
 
-__revision__ = "$Rev: 214 $"
-__date__ = "$Date: 2005-11-21 22:51:13 -0500 (Mon, 21 Nov 2005) $"
+__revision__ = "$Rev: 238 $"
+__date__ = "$Date: 2006-01-02 01:37:51 -0500 (Mon, 02 Jan 2006) $"
 __author__ = "Ryan Tomayko (rtomayko@gmail.com)"
 __copyright__ = "Copyright 2004-2005, Ryan Tomayko"
 
@@ -38,6 +38,7 @@
 
 
 import sys
+import time
 import os.path
 import imp, ihooks, new
 import struct
@@ -83,13 +84,13 @@
     
 def _create_module(code, name, filename, store=1):
     name = get_template_name(name, filename)
-    mod = sys.modules.get(name, None)
-    if mod is None:
-        mod = new.module(name)
-        if store: sys.modules[name] = mod
+    mod = new.module(name)
     mod.__name__ = name
     mod.__file__ = filename
+    mod.__ctime__ = time.time()
     exec code in mod.__dict__
+    if store:
+        sys.modules[name] = mod
     return mod
 
 # this is put in a pyc file to signal that it is a kid file
diff -Naur kid-0.8/kid/importer.pyc kid-0.8svn249/kid/importer.pyc
--- kid-0.8/kid/importer.pyc	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/importer.pyc	2006-01-11 14:31:37.000000000 -0500
@@ -0,0 +1,45 @@
+m
+.Cc           @   s[  d  Z  d Z d Z d Z d Z d k Z d k Z d k Z d k	 Z	 d k
+ Z
+ d k Z d k Z d k Z d k Z d k Z e i i Z e i d j p
+ t d  e a d d  Z d	   Z d
+ d  Z d   Z d d  Z e   Z d e
+ i f d     YZ  d e
+ i! f d     YZ" y d k# Z# Wn e$ j
+ o d Z# n Xd e
+ i% f d     YZ& d S(   s  Kid Import Hooks.
+
+When installed, these hooks allow importing .kid files as if they were
+Python modules.
+
+Notes:
+
+There's some unpleasant incompatibility between ZODB's import trickery and the
+import hooks here. Bottom line: if you're using ZODB, import it *before*
+installing the import hooks.
+
+This module is based heavily on code from the Quixote ptl_import module by MEMS
+Exchange -- thanks guys.
+s   $Rev: 238 $s5   $Date: 2006-01-02 01:37:51 -0500 (Mon, 02 Jan 2006) $s!   Ryan Tomayko (rtomayko@gmail.com)s!   Copyright 2004-2005, Ryan TomaykoNi  s   need Python 2.0b1 or laterc         C   si   t  p^ t d |   } t |  } t d  j	 o t |  } n t
+ i |  } t
+ i |  t a  n d  S(   Nt   suffixes(   t
+   _installedt   KIDHooksR    t   hookst	   KIDLoadert   loadert   cimportt   Nonet   cModuleImportert   importert   ihookst   ModuleImportert   installt   True(   R    R   R	   R   (    (    t5   /home/scott/scratch/kid/kid-0.8svn249/kid/importer.pyR   6   s     c           C   s   t  a t i   d  S(   N(   t   FalseR   R
+   t	   uninstall(    (    (    R   R   B   s     i    c         C   sw   | o) |  o" t i i |   o t i |  Sn t i i |  } | i
+ d t i i d   } t | |  |  } | S(   Nt   dump_sourcet   KID_OUTPUT_PY(   t   forcet   namet   syst   modulest   has_keyt   kidt   compilert   KidFilet   filenamet   templatet   compilet   ost   environt   gett   codet   _create_modulet   module(   R   R   R   R!   R#   R   (    (    R   t   import_templateG   s    "c         C   s+   |  o |  Sn d t t |  d  Sd  S(   Ns   kid.util.template_l        (   R   t   hext   hashR   (   R   R   (    (    R   t   get_template_nameO   s    i   c         B   sf   e  | |  } e i |  } | | _ | | _ e i   | _	 |  | i U| o | e i | <n | S(   N(   R'   R   R   t   newR#   t   modt   __name__t   __file__t   timet	   __ctime__R!   t   __dict__t   storeR   R   (   R!   R   R   R/   R)   (    (    R   R"   U   s    		R   c           B   s#   t  Z e i d  d  Z d   Z RS(   Nc         C   s'   t  i i |  |  | p g  |  _ d  S(   N(   R
+   t   Hookst   __init__t   selft   verboseR    (   R2   R3   R    (    (    R   R1   e   s    c         C   sE   t  d t f g g  } |  i D] } | | d t f q ~ t i   S(   Nt   r(   t   KID_EXTt   KID_FILEt   _[1]R2   R    t   suffixt   impt   get_suffixes(   R2   R8   R7   (    (    R   R:   i   s    (   R*   t
+   __module__R
+   t   VERBOSER   R1   R:   (    (    (    R   R   c   s   R   c           B   s   t  Z d   Z RS(   Nc   	      C   s\   | \ } } } | \ } } } | t j o t | | d d Sn t
+ i i |  | |  Sd  S(   NR   i   (   t   stufft   fileR   t   infot   sufft   modet   typeR6   R$   R   R
+   t   ModuleLoadert   load_moduleR2   (	   R2   R   R=   R?   R@   R   RA   R>   RB   (    (    R   RD   p   s
+    (   R*   R;   RD   (    (    (    R   R   n   s   R   c           B   s&   t  Z d  d  Z d   Z d   Z RS(   Nc         C   s*   | p
+ t i   |  _  t i |  i  d  S(   N(   R   R
+   RC   R2   R   t
+   set_loadert   find_import_module(   R2   R   (    (    R   R1   ~   s    c         C   s7   |  i i | |  } | p d  Sn |  i i | |  S(   N(	   R2   R   t   find_modulet   subnamet   pathR=   R   RD   t   fullname(   R2   RJ   RH   RI   R=   (    (    R   RF      s    c         C   si   t  i |  _ t  i |  _ t t  d  p d  t  _ n t  i |  _	 t
+ i t  _ t
+ i t  _ |  i t  _ d  S(   Nt   unload(   t   __builtin__t
+   __import__R2   t   save_import_modulet   reloadt   save_reloadt   hasattrR   RK   t   save_unloadR   t   import_modulet   reload_module(   R2   (    (    R   R      s    (   R*   R;   R   R1   RF   R   (    (    (    R   R   }   s   	('   t   __doc__t   __revision__t   __date__t
+   __author__t   __copyright__R   R,   t   os.pathR   R9   R
+   R(   t   structt   marshalRL   t   kid.compilerR   R   R5   t
+   hexversiont   AssertionErrorR   R   R   R   R   R$   R'   R"   t   objectR6   R0   R   RC   R   R   t   ImportErrorR   R   (   R6   RL   R   R'   RV   R[   R5   R9   R(   R"   R   R,   RX   R   R   R   RY   R   RW   R
+   R   R$   R   R\   R   (    (    R   t   ?   s8   										
+
\ No newline at end of file
diff -Naur kid-0.8/kid/__init__.py kid-0.8svn249/kid/__init__.py
--- kid-0.8/kid/__init__.py	2005-12-02 02:53:03.000000000 -0500
+++ kid-0.8svn249/kid/__init__.py	2006-01-11 11:14:35.000000000 -0500
@@ -9,8 +9,8 @@
 """
 
 __version__ = "0.8"
-__revision__ = "$Rev: 220 $"
-__date__ = "$Date: 2005-12-02 02:53:02 -0500 (Fri, 02 Dec 2005) $"
+__revision__ = "$Rev: 236 $"
+__date__ = "$Date: 2005-12-29 17:01:14 -0500 (Thu, 29 Dec 2005) $"
 __author__ = "Ryan Tomayko (rtomayko@gmail.com)"
 __copyright__ = "Copyright 2004-2005, Ryan Tomayko"
 __license__ = "MIT <http://www.opensource.org/licenses/mit-license.php>"
@@ -91,7 +91,7 @@
       byte-compiled version after compiling. This argument is ignored if
       file is not a filename.
     """
-    if isinstance(file, (str, unicode)):
+    if isinstance(file, basestring):
         if xml_sniff(file):
             fo = QuickTextReader(file)
             filename = '<string>'
@@ -154,7 +154,7 @@
     elif file is not None:
         mod = load_template(file)
     elif source is not None:
-        mod = load_template(QuickTextReader(source))
+        mod = load_template(QuickTextReader(source), hex(id(source)))
     else:
         raise Exception("Must specify one of name, file, or source.")
     mod.Template.module = mod
@@ -310,7 +310,7 @@
         """
         if stream is None:
             stream = self.pull()
-        elif isinstance(stream, (str, unicode)):
+        elif isinstance(stream, basestring):
             if xml_sniff(stream):
                 stream = XML(stream, fragment=0)
             else:
@@ -342,7 +342,7 @@
     def _get_serializer(self, serializer):
         if serializer is None:
             return self.serializer
-        elif isinstance(serializer, (str, unicode)):
+        elif isinstance(serializer, basestring):
             return output_methods[serializer]
         else:
             return serializer
@@ -354,45 +354,37 @@
             return self.assume_encoding
         else:
             return assume_encoding
+    
+    def defined(self, name):
+        return hasattr(self, name)
+    
+    def value_of(self, name, default=None):
+        return getattr(self, name, default)
             
 class TemplatePath(object):
     def __init__(self, paths=None):
-        from os.path import normpath, expanduser, abspath
-        if isinstance(paths, (str, unicode)):
+        if isinstance(paths, basestring):
             paths = [paths]
         elif paths is None:
             paths = []
         paths += [os.getcwd(), '/']
-        self.paths = [abspath(normpath(expanduser(p))) for p in paths]
-        self.cache = {}
+        self.paths = [self._cleanse_path(p) for p in paths]
+
+    def _cleanse_path(self, path):
+        from os.path import normpath, expanduser, abspath
+        return abspath(normpath(expanduser(path)))
     
-    def relativize(self, file, path):
-        from os.path import normpath, join, dirname, abspath, split, sep
-        head, tail = (dirname(abspath(file)), '')
-        parts = path.split(sep)
-        paths = self.paths
-        while 1:
-            if head in paths or head == '/':
-                return join(*parts)
-            head, tail = split(head)
-            parts.insert(0, tail)
-        
     def insert(self, path, pos=0):
-        from os.path import normpath, expanduser, abspath
-        self.paths.insert(pos, abspath(normpath(expanduser(path))))
-        self.cache = {}
+        self.paths.insert(pos, self._cleanse_path(path))
     
     def append(self, path):
-        self.insert(path, len(self.paths))
+        self.paths.append(self._cleanse_path(path))
     
     def find(self, path, rel=None):
-        cache = self.cache
-        from os.path import normpath, join, exists
+        from os.path import normpath, join, exists, dirname
         path = normpath(path)
         if rel:
-            path = self.relativize(rel, path)
-        if path in cache:
-            return cache[path]
+            path = normpath(join(dirname(rel), path))
         for p in self.paths:
             p = join(p, path)
             if exists(p):
diff -Naur kid-0.8/kid/__init__.pyc kid-0.8svn249/kid/__init__.pyc
--- kid-0.8/kid/__init__.pyc	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/__init__.pyc	2006-01-11 14:31:37.000000000 -0500
@@ -0,0 +1,210 @@
+m
+.Cc           @   sD  d  Z  d Z d Z d Z d Z d Z d Z d k Z d k Z d k	 l
+ Z
+ l Z d	 k l Z d
+ k l Z l Z l Z l Z l Z l Z l Z d k l Z l Z l Z d k l Z d k l Z l Z l Z l  Z  l! Z! e i"   a# d d  Z% e i& i' d d  d j	 o e%   n d   Z( d d d d  Z) h  d e d d  <d e! d d d d  <d e! d d d d  <d e d d  <d e d d  <d e    <Z* d d d d  Z+ d k, l- Z- d e. f d      YZ/ d! e. f d"     YZ0 e0   Z1 d# d d$ d% d& d' d( d) d* d+ d, d- d. d/ d0 d1 d2 d3 d4 d5 g Z2 d S(6   sc  Pythonic, XML Templating
+
+Kid is a simple, Python-based template language for generating and
+transforming XML vocabularies. Kid was spawned as a result of a kinky love
+triangle between XSLT, TAL, and PHP. We believe many of the best features
+of these languages live on in Kid with much of the limitations and
+complexity stamped out (well, eventually :).
+
+s   0.8s   $Rev: 236 $s5   $Date: 2005-12-29 17:01:14 -0500 (Thu, 29 Dec 2005) $s!   Ryan Tomayko (rtomayko@gmail.com)s!   Copyright 2004-2005, Ryan Tomaykos8   MIT <http://www.opensource.org/licenses/mit-license.php>N(   s	   xml_sniffs   QuickTextReader(   s	   Namespace(   s   ElementStreams   Elements
+   SubElements   Fragments   XMLs   documents	   _coalesce(   s   ElementTrees   Comments   ProcessingInstruction(   s	   KID_XMLNS(   s
+   Serializers   XMLSerializers   HTMLSerializers   PlainSerializers   XHTMLSerializerc         C   s   d k  } | i i |   d S(   si  Enable the kid module loader and import hooks.
+    
+    This function must be called before importing kid templates if templates
+    are not pre-compiled.
+    
+    Note that if your application uses ZODB, you will need to import ZODB
+    before calling this function as ZODB's import hooks have some issues if
+    installed after the kid import hooks.
+    
+    N(   t   kid.importert   kidt   importert   installt   suffixes(   R   R   (    (    t5   /home/scott/scratch/kid/kid-0.8svn249/kid/__init__.pyt   enable_import   s    
+ 	t
+   KID_IMPORTc         C   sJ   t    t |   } |  i d  } x! | d D] } t | |  } q- W| S(   s  Import template by name.
+
+    This is identical to calling `enable_import` followed by an import
+    statement. For example, importing a template named foo using the normal
+    import mechanism looks like this::
+
+        import kid
+        kid.enable_import()
+        import foo
+
+    This function can be used to achieve the same result as follows::
+
+        import kid
+        foo = kid.import_template('foo')
+
+    This is sometimes useful when the name of the template is available only
+    as a string.
+    t   .i   N(   R   t
+   __import__t   namet   modt   splitt
+   componentst   compt   getattr(   R
+   R   R   R   (    (    R   t   import_template3   s      t    i   c         C   sn  t  |  t  o3 t |   o t |   } d } qO d } |  } n |  } d } d k i	 } | d j o| t
+ i |  }
+ |
+ p# t d | d i t
+ i  f  n |
+ } | i | |  } t i i |  o t i i |  Sq n d k i } | d j o | i | | |  } n: | i | d |  } | i d | d t i i d   } | i  | | | d	 | }	 |	 S(
+   s  Bypass import machinery and load a template module directly.
+
+    This can be used as an alternative to accessing templates using the
+    native python import mechanisms.
+    
+    file
+      Can be a filename, a kid template string, or an open file object.
+    name
+      Optionally specifies the module name to use for this template. This
+      is a hack to enable relative imports in templates.
+    cache
+      Whether to look for a byte-compiled version of the template. If
+      no byte-compiled version is found, an attempt is made to dump a
+      byte-compiled version after compiling. This argument is ignored if
+      file is not a filename.
+    s   <string>Ns   Template not found: %s (in %s)s   , i    t	   dump_codet   dump_sourcet   KID_OUTPUT_PYt   store("   t
+   isinstancet   filet
+   basestringt	   xml_snifft   QuickTextReadert   fot   filenamet   NoneR    R   t   patht   findt   abs_filenamet	   Exceptiont   joint   pathst   get_template_nameR
+   t   syst   modulest   has_keyt   gett   kid.compilert   compilert   compilet   encodingt   codet   KidFilet   templatet   cachet   ost   environt   _create_moduleR   (   R   R
+   R0   R,   R*   R/   R   R   R-   R   R    R   (    (    R   t   load_templateM   s2     
+
+#$t   xmlt   declt   xhtmli    t   doctypes   xhtml-strictt   htmls   html-strictt   plainc         K   s   | o t |  } n\ |  d j	 o t |   } n? | d j	 o% t t |  t t	 |    } n t
+ d   | | i _ | i |   S(   s  Get a Template class quickly given a module name, file, or string.
+    
+    This is a convenience function for getting a template in a variety of
+    ways. One and only one of the arguments name or file must be specified.
+    
+    file:string
+      The template module is loaded by calling
+      ``load_template(file, name='', cache=1)``
+    name:string
+      The kid import hook is enabled and the template module is located
+      using the normal Python import mechanisms.
+    source:string
+      string containing the templates source.
+
+    Once the template module is obtained, a new instance of the module's
+    Template class is created with the keyword arguments passed to this
+    function.
+    s*   Must specify one of name, file, or source.N(   R
+   R   R   R   R   R4   t   sourceR   t   hext   idR!   t   Templatet   modulet   kw(   R   R;   R
+   R@   R   (    (    R   R>      s     %(   s   transform_filtert   BaseTemplatec           B   s   t  Z d  Z e d Z e g Z d   Z e d e d  Z	 e d e d  Z
+ e d e d  Z d   Z d   Z d	   Z d
+   Z d   Z d   Z d   Z e g  d  Z d   Z d   Z d   Z d   Z e d  Z RS(   s  Base class for compiled Templates.
+
+    All kid template modules expose a class named ``Template`` that
+    extends from this class making the methods defined here available on
+    all Template subclasses.
+    
+    This class should not be instantiated directly.
+    R5   c         O   s   |  i i |  g  |  _ d S(   s   
+        Initialize a template with instance attributes specified by
+        keyword arguments.
+           
+        Keyword arguments are available to the template using self.var
+        notation.
+        N(   t   selft   __dict__t   updateR@   t   _layout_classes(   RB   t   argsR@   (    (    R   t   __init__   s     i    c         C   s%   |  i |  } | i |  | | |  S(   sd  
+        Execute template and write output to file.
+        
+        file:file
+          A filename or a file like object (must support write()).
+        encoding:string
+          The output encoding. Default: utf-8.
+        fragment:bool
+          Controls whether prologue information (such as <?xml?>
+          declaration and DOCTYPE should be written). Set to 1
+          when generating fragments meant to be inserted into
+          existing XML documents.
+        output:string,`Serializer`
+          A string specifying an output method ('xml', 'html',
+          'xhtml') or a Serializer object.
+        N(   RB   t   _get_serializert   outputt
+   serializert   writeR   R,   t   fragment(   RB   R   R,   RL   RI   RJ   (    (    R   RK      s     c         C   s"   |  i |  } | i |  | |  S(   s  
+        Execute a template and return a single string.
+        
+        encoding
+          The output encoding. Default: utf-8.
+        fragment
+          Controls whether prologue information (such as <?xml?>
+          declaration and DOCTYPE should be written). Set to 1
+          when generating fragments meant to be inserted into
+          existing XML documents.
+        output
+          A string specifying an output method ('xml', 'html',
+          'xhtml') or a Serializer object.
+        
+        This is a convienence method, roughly equivalent to::
+        
+          ''.join([x for x in obj.generate(encoding, fragment, output)]
+        
+        N(   RB   RH   RI   RJ   t	   serializeR,   RL   (   RB   R,   RL   RI   RJ   (    (    R   RM      s     c         C   s"   |  i |  } | i |  | |  S(   s  
+        Execute template and generate serialized output incrementally.
+        
+        This method returns an iterator that yields an encoded string
+        for each iteration. The iteration ends when the template is done
+        executing.
+        
+        encoding
+          The output encoding. Default: utf-8.
+        fragment
+          Controls whether prologue information (such as <?xml?>
+          declaration and DOCTYPE should be written). Set to 1
+          when generating fragments meant to be inserted into
+          existing XML documents.
+        output
+          A string specifying an output method ('xml', 'html',
+          'xhtml') or a Serializer object.
+        N(   RB   RH   RI   RJ   t   generateR,   RL   (   RB   R,   RL   RI   RJ   (    (    R   RN      s     c         C   s   t  |  i    S(   N(   t   iterRB   t	   transform(   RB   (    (    R   t   __iter__   s    c         C   s
+   |  i   S(   N(   RB   RM   (   RB   (    (    R   t   __str__  s    c         C   s   t  |  i d d  d  S(   NR,   s   utf-16(   t   unicodeRB   RM   (   RB   (    (    R   t   __unicode__  s    c         C   s   d  S(   N(    (   RB   (    (    R   t
+   initialize	  s    c         C   s/   |  i   t t |  i   |  i     } | S(   s4   Returns an iterator over the items in this template.N(   RB   RU   t   ElementStreamt	   _coalescet   contentt   _get_assume_encodingt   stream(   RB   RZ   (    (    R   t   pull  s     
+!c         C   s   g  S(   sf   Generate events for this template.
+        
+        Compiled templates implement this method.
+        N(    (   RB   (    (    R   t   _pull  s     c         C   s   d k  l } |  i } t | |  i   } | i   xS | D]K } | i
+ i d  o2 | | j o% | i d |  | i
+ d |   Sq< q< W|  i   S(   N(   s   getmrot   layouti    (   t   inspectt   getmroRB   RE   t   visitedt   listt	   __class__t   mrot   reverset   cRC   R'   t   insertR\   (   RB   Re   Rc   R`   R_   (    (    R   RX     s    	
+  c         C   s   | d j o |  i   } ns t | t  o3 t |  o t | d d } q t |  } n0 t	 | d  o t
+ |  } n t
+ i |  } x$ | |  i D] } | | |   } q W| S(   sG  
+        Execute the template and apply any match transformations.
+        
+        If stream is specified, it must be one of the following:
+        
+        Element
+          An ElementTree Element.
+        ElementStream
+          An `pull.ElementStream` instance or other iterator that yields
+          stream events.
+        string
+          A file or URL unless the string starts with
+          '<' in which case it is considered an XML document
+          and processed as if it had been an Element.
+
+        By default, the `pull` method is called to obtain the stream.
+        RL   i    t   tagN(   RZ   R   RB   R[   R   R   R   t   XMLt   documentt   hasattrRV   t   ensuret   filterst   _filterst   f(   RB   RZ   Rl   Rn   (    (    R   RP   %  s      c         C   s   y |  i } Wno t j
+ oc g  } |  i i } x> | D]6 } y | i } Wn t j
+ o
+ q7 n X| | 7} q7 W| |  _ n X| S(   N(
+   RB   t   _match_templates_cachedt   rsltt   AttributeErrorRb   t   __mro__Rc   t   Ct   _match_templatest	   templates(   RB   Ru   Rs   Rc   Rp   (    (    R   t   _get_match_templatesF  s     c         C   s<   | d  j o |  i  Sn! t | t  o t | Sn | Sd  S(   N(   RJ   R   RB   R   R   t   output_methods(   RB   RJ   (    (    R   RH   V  s
+    c         C   s#   t  |  d  o |  i Sn t Sd  S(   Nt   assume_encoding(   Rj   RB   Rx   (   RB   (    (    R   RY   ^  s     c         C   s   t  |  |  S(   N(   Rj   RB   R
+   (   RB   R
+   (    (    R   t   definedf  s    c         C   s   t  |  | |  S(   N(   R   RB   R
+   t   default(   RB   R
+   Rz   (    (    R   t   value_ofi  s    (   t   __name__t
+   __module__t   __doc__Rw   RJ   t   transform_filterRm   RG   R   RK   RM   RN   RQ   RR   RT   RU   R[   R\   RX   RP   Rv   RH   RY   Ry   R{   (    (    (    R   RA      s(   	 
+									!				t   TemplatePathc           B   s>   t  Z d  d  Z d   Z d d  Z d   Z d  d  Z RS(   Nc         C   s{   t  | t  o | g } n | d  j o
+ g  } n | t i   d g 7} g  } | D] } | |  i	 |  qU ~ |  _ d  S(   Nt   /(
+   R   R#   R   R   R1   t   getcwdt   _[1]t   pRB   t   _cleanse_path(   RB   R#   R   R   (    (    R   RG   m  s    
+c         C   s/   d k  l } l } l } | | | |    S(   N(   s   normpaths
+   expandusers   abspath(   t   os.patht   normpatht
+   expandusert   abspathR   (   RB   R   R   R   R   (    (    R   R   u  s    i    c         C   s    |  i i | |  i |   d  S(   N(   RB   R#   Rf   t   posR   R   (   RB   R   R   (    (    R   Rf   y  s    c         C   s   |  i i |  i |   d  S(   N(   RB   R#   t   appendR   R   (   RB   R   (    (    R   R   |  s    c         C   s   d k  l } l } l } l } | |  } | o | | | |  |   } n x5 |  i D]* } | | |  } | |  o | Sq[ q[ Wd  S(   N(   s   normpaths   joins   existss   dirname(
+   R   R   R"   t   existst   dirnameR   t   relRB   R#   R   (   RB   R   R   R"   R   R   R   R   (    (    R   R     s    
+ (   R|   R}   R   RG   R   Rf   R   R   (    (    (    R   R   l  s
+   		t	   KID_XMLNSR>   R   R   R4   t   Elementt
+   SubElementRh   Ri   t	   Namespacet
+   Serializert   XMLSerializert   HTMLSerializert   XHTMLSerializerRw   t   filtert	   namespacet   serializationt   util(3   R~   t   __version__t   __revision__t   __date__t
+   __author__t   __copyright__t   __license__R%   R1   t   kid.utilR   R   t   kid.namespaceR   t   kid.pullRV   R   R   t   FragmentRh   Ri   RW   t   kid.ett   ElementTreet   Commentt   ProcessingInstructiont
+   kid.parserR   t   kid.serializationR   R   R   t   PlainSerializerR   t   getdefaultencodingRx   R   R   R2   R(   R   R4   Rw   R>   t
+   kid.filterR   t   objectRA   R   R   t   __all__(%   R   R4   R   RV   R>   R   R   R   R   R   RW   R   R   R   R   R   Rh   Rw   R   R   R   R%   R   R   Ri   R   RA   R   R   R   R   R   R   R   R   R1   R   (    (    R   t   ?	   s6   		1%	0x	
\ No newline at end of file
diff -Naur kid-0.8/kid/namespace.py kid-0.8svn249/kid/namespace.py
--- kid-0.8/kid/namespace.py	2005-11-14 05:29:27.000000000 -0500
+++ kid-0.8svn249/kid/namespace.py	2006-01-11 11:14:35.000000000 -0500
@@ -30,7 +30,7 @@
     def __repr__(self):
         return 'Namespace(%r, %r)' % (self.uri, self.prefix)
     def __equals__(self, other):
-        if isinstance(other, (str, unicode)):
+        if isinstance(other, basestring):
             return self.uri == other
         elif isinstance(other, Namespace):
             return self.uri == other.uri
diff -Naur kid-0.8/kid/namespace.pyc kid-0.8svn249/kid/namespace.pyc
--- kid-0.8/kid/namespace.pyc	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/namespace.pyc	2006-01-11 14:31:37.000000000 -0500
@@ -0,0 +1,14 @@
+m
+.Cc           @   s   h  Z  d  e f d     YZ e d d  Z e d d  Z e d d  Z e d d	  Z e d
+ d  Z e d d  Z	 d d d d	 d d d  g Z
+ d S(   t	   Namespacec           B   sV   t  Z d  d  Z d   Z d   Z e Z e Z d   Z d   Z	 d   Z
+ d   Z RS(   Nc         C   s+   | |  _  | |  _ | o | t | <n d  S(   N(   t   urit   selft   prefixt
+   namespaces(   R   R   R   (    (    t6   /home/scott/scratch/kid/kid-0.8svn249/kid/namespace.pyt   __init__   s    		c         C   s%   |  i o |  i d | Sn | Sd  S(   Nt   :(   R   R   t   name(   R   R   (    (    R   t   qname   s    
+c         C   s'   |  i o d |  i | f Sn | Sd  S(   Ns   {%s}%s(   R   R   R   (   R   R   (    (    R   t	   clarkname   s    
+c         C   s   |  i S(   N(   R   R   (   R   (    (    R   t   __str__   s    c         C   s   t  |  i  S(   N(   t   unicodeR   R   (   R   (    (    R   t   __unicode__   s    c         C   s   d |  i |  i f S(   Ns   Namespace(%r, %r)(   R   R   R   (   R   (    (    R   t   __repr__   s    c         C   sM   t  | t  o |  i | j Sn) t  | t  o |  i | i j Sn d Sd  S(   Ni    (   t
+   isinstancet   othert
+   basestringR   R   R    (   R   R   (    (    R   t
+   __equals__    s
+    (   t   __name__t
+   __module__t   NoneR   R	   R
+   t   __getattr__t   __getitem__R   R   R   R   (    (    (    R   R       s   					s$   http://www.w3.org/XML/1998/namespacet   xmls   http://www.w3.org/1999/xhtmlt   htmls   http://purl.org/atom/ns#t   atoms+   http://www.w3.org/1999/02/22-rdf-syntax-ns#t   rdfs   http://purl.org/rss/1.0/t   rsst   xhtmlt   nonsN(   R   t   objectR    R   R   R   R   R   R   R   t   __all__(	   R   R    R    R   R   R   R   R   R   (    (    R   t   ?   s   $
\ No newline at end of file
diff -Naur kid-0.8/kid/parser.py kid-0.8svn249/kid/parser.py
--- kid-0.8/kid/parser.py	2005-12-02 01:57:39.000000000 -0500
+++ kid-0.8svn249/kid/parser.py	2006-01-11 11:14:35.000000000 -0500
@@ -5,8 +5,8 @@
 
 from __future__ import generators
 
-__revision__ = "$Rev: 219 $"
-__date__ = "$Date: 2005-11-29 23:58:58 -0500 (Tue, 29 Nov 2005) $"
+__revision__ = "$Rev: 247 $"
+__date__ = "$Date: 2006-01-09 03:41:18 -0500 (Mon, 09 Jan 2006) $"
 __author__ = "Ryan Tomayko (rtomayko@gmail.com)"
 __copyright__ = "Copyright 2004-2005, Ryan Tomayko"
 __license__ = "MIT <http://www.opensource.org/licenses/mit-license.php>"
@@ -53,7 +53,10 @@
 
     """
     source = open(filename, 'rb')
-    return parse(source, encoding, filename=filename)
+    try:
+        return parse(source, encoding, filename=filename)
+    finally:
+        source.close()
 
 class KidParser(object):
     def __init__(self, stream, encoding=None):
@@ -96,15 +99,15 @@
 
         # module methods.
         code.line('def pull(**kw): return Template(**kw).pull()')
-        code.line("def generate(encoding=encoding, **kw): "
-                  "return Template(**kw).generate(encoding=encoding)")
-        code.line("def serialize(encoding=encoding, **kw): "
-                  "return Template(**kw).serialize(encoding=encoding)")
-        code.line("def write(file, encoding=encoding, **kw): "
-                  "return Template(**kw).write(file, encoding=encoding)")
+        code.line("def generate(encoding=encoding, fragment=0, output=None, **kw): "
+                  "return Template(**kw).generate(encoding=encoding, fragment=fragment, output=output)")
+        code.line("def serialize(encoding=encoding, fragment=0, output=None, **kw): "
+                  "return Template(**kw).serialize(encoding=encoding, fragment=fragment, output=output)")
+        code.line("def write(file, encoding=encoding, fragment=0, output=None, **kw): "
+                  "return Template(**kw).write(file, encoding=encoding, fragment=fragment, output=output)")
         code.line('BaseTemplate = kid.BaseTemplate')
         code.line('def initialize(template): pass')
-        
+
         # expand code
         code = self.expand_code
         code.start_block('def initialize(self):')
@@ -113,7 +116,7 @@
         code.end_block()
         code.start_block('def _pull(self):')
         # XXX hack: nasty kluge for making kwargs locals
-        code.line("exec template_util.get_locals(self)")
+        code.line("exec template_util.get_locals(self, locals())")
         code.line('current, ancestors = None, []')
         code.line('if doctype: yield (DOCTYPE, doctype)')
 
@@ -127,6 +130,9 @@
         for (ev, item) in self.stream:
             if ev == START:
                 if item.tag == Comment:
+                    text = item.text.strip()
+                    if text and text[0] == "!":
+                        continue
                     line = code.line
                     line('_e = Comment(%r)' % item.text)
                     line('yield (START, _e); yield (END, _e); del _e')
@@ -198,7 +204,7 @@
             # instance method code
             code = CodeGenerator(level=1)
             code.start_block('def %s:' % class_decl)
-            code.line('exec template_util.get_locals(self)')
+            code.line('exec template_util.get_locals(self, locals())')
             code.line('current, ancestors = None, []')
             self.inst_defs.append(code)
             self.match_proc(item, attrib, code)
@@ -215,7 +221,7 @@
             old_code = code
             code = CodeGenerator(level=1)
             code.start_block('def _match_func(self, item, apply):')
-            code.line('exec template_util.get_locals(self)')
+            code.line('exec template_util.get_locals(self, locals())')
             code.line('current, ancestors = None, []')
             self.for_proc(item, attrib, code)
             code.end_block()
@@ -306,7 +312,7 @@
                 if isinstance(sub, list):
                     need_interpolation = 1
         expr = attrib.get(QNAME_ATTRIBUTES)
-        
+
         if expr is not None:
             del attrib[QNAME_ATTRIBUTES]
             attr_text = 'template_util.update_dict(%r, "%s", globals(), locals())' \
@@ -340,8 +346,7 @@
         line = code.line
         sub = interpolate(text)
         if isinstance(sub, list):
-            code.start_block('for _e in %r:'\
-                             % sub)
+            code.start_block('for _e in %r:' % sub)
             code.line('for _e2 in template_util.generate_content(_e): yield _e2')
             code.end_block()
         else:
diff -Naur kid-0.8/kid/parser.pyc kid-0.8svn249/kid/parser.pyc
--- kid-0.8/kid/parser.pyc	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/parser.pyc	2006-01-11 14:31:37.000000000 -0500
@@ -0,0 +1,121 @@
+m
+.Cc           @   s  d  Z  d k l Z d Z d Z d Z d Z d Z d k Z d k	 Td	 k
+ l Z d
+ k l Z d Z d Z e e  Z e d Z e d Z e d Z e d Z e d Z e d Z e d Z e d Z e d Z e d Z e d Z e d Z d Z d Z d Z e  e  d  Z! e  d  Z" d e# f d     YZ$ d e% f d      YZ& e i' d!  Z( e i' d"  Z) d#   Z* d$ f  d%     YZ+ d& d'  Z, y e- Wn e. j
+ o d(   Z- n Xd S()   s;   Kid Parser
+
+Parses Kid embedded XML to Python source code.
+(   s
+   generatorss   $Rev: 247 $s5   $Date: 2006-01-09 03:41:18 -0500 (Mon, 09 Jan 2006) $s!   Ryan Tomayko (rtomayko@gmail.com)s!   Copyright 2004-2005, Ryan Tomaykos8   MIT <http://www.opensource.org/licenses/mit-license.php>N(   t   *(   s
+   namespaces(   s	   Namespaces   http://purl.org/kid/ns#t   pyt   fort   ift   deft   slott   contentt   replacet   matcht   stript   attrst   extendst   omitt   repeatt   pythont   kidc         C   s+   t  t |  d | d | |  } | i   S(   Nt   encodingt   filename(   t	   KidParsert   documentt   sourceR   R   t   parsert   parse(   R   R   R   R   (    (    t3   /home/scott/scratch/kid/kid-0.8svn249/kid/parser.pyR   +   s    !c         C   s8   t  |  d  } z t | | d |  SWd | i   Xd S(   s   Parse the file specified.
+
+    filename -- the name of a file.
+    fp       -- an optional file like object to read from. If not specified,
+                filename is opened.
+
+    t   rbR   N(   t   openR   R   R   R   t   close(   R   R   R   (    (    R   t
+   parse_file/   s      R   c           B   s   t  Z d  d  Z d   Z d   Z d   Z d   Z d   Z d   Z	 d   Z
+ d	   Z d
+   Z d   Z d   Z d   Z d   Z RS(   Nc         C   sn   | |  _  | p d |  _ d |  _ t   |  _ t   |  _ t d d  |  _ t   |  _ g  |  _	 g  |  _
+ d  S(   Ns   utf-8i    t   leveli   (   t   streamt   selfR   t   deptht   CodeGeneratort   module_codet
+   class_codet   expand_codet   end_module_codet   module_defst	   inst_defs(   R   R   R   (    (    R   t   __init__>   s    			c         C   s   |  i   |  i |  i  |  i   g  } | |  i i 7} x |  i D] } | | i 7} qD W| |  i	 i 7} | |  i
+ i 7} x |  i D] } | | i 7} q W| |  i i 7} d i |  S(   Ns   
+(   R   t   begint   proc_streamR!   t   endt   partst   codeR%   t   cR"   R#   R&   R$   t   join(   R   R+   R-   (    (    R   R   I   s    
+
+
+ 
+ c         C   sA  |  i } | i d  | i d  | i d  | i d  | i d |  i  | i d  | i d  | i d  | i d	  | i d
+  | i d  | i d  | i d  |  i } | i d  | i d  | i d  | i   | i d  | i d  | i d  | i d  |  i } | i d  d  S(   Ns!   from __future__ import generatorss
+   import kids   from kid.template_util import *s)   import kid.template_util as template_utils   encoding = "%s"s   doctype = Nones!   omit_namespaces = [kid.KID_XMLNS]s,   def pull(**kw): return Template(**kw).pull()s   def generate(encoding=encoding, fragment=0, output=None, **kw): return Template(**kw).generate(encoding=encoding, fragment=fragment, output=output)s   def serialize(encoding=encoding, fragment=0, output=None, **kw): return Template(**kw).serialize(encoding=encoding, fragment=fragment, output=output)s   def write(file, encoding=encoding, fragment=0, output=None, **kw): return Template(**kw).write(file, encoding=encoding, fragment=fragment, output=output)s   BaseTemplate = kid.BaseTemplates   def initialize(template): passs   def initialize(self):s   rslt = initialize(self)s0   if rslt != 0: super(Template, self).initialize()s   def _pull(self):s-   exec template_util.get_locals(self, locals())s   current, ancestors = None, []s$   if doctype: yield (DOCTYPE, doctype)t    (	   R   R!   R,   t   lineR   R#   t   start_blockt	   end_blockR$   (   R   R,   (    (    R   R(   X   s2    		
+	c         C   s   |  i i   d  S(   N(   R   R#   R2   (   R   (    (    R   R*   ~   s    c         C   s  x|  i D]\ } } | t j o/| i t j oV | i i   } | o | d d j o q
+ n | i
+ } | d | i  | d  q| i t j o d | i i   j o | i i d d  \ }
+ } n | i d }
+ } |
+ t t t f j o | o | i |  qQqN|  i o | p |  i }	 |	 i
+ d |
+ | f  |	 i
+ d  ~	 q| |  i j o d	 g } | i t  } g  } | d  j	 o9 | i t =x, | i d
+  D] }	 | i d |	  qWn | i d  | i d
+ i |   | i d  |  i  } | i! d i |   | i
+ d  |  i } ~ ~ n |  i" | | i |  q
+ | t# j o | i t t f j o Pq
+ | t$ j o |  i% | | |  q
+ | t& j o- | d d  j	 o |  i i
+ d | d  q
+ | t' j o |  i i
+ d |  q
+ q
+ Wd  S(   Ni    t   !s   _e = Comment(%r)s*   yield (START, _e); yield (END, _e); del _et    i   R/   s"   _e = ProcessingInstruction(%r, %r)s   class Template(t   ,s*   template_util.get_base_class(%s, __file__)t   BaseTemplates   ):s   _match_templates = []s   encoding = %rs   doctype = (%r, %r, %r)((   R   R   t   evt   itemt   STARTt   tagt   Commentt   textR	   R,   R0   t   ProcessingInstructiont   splitt   namet   datat   KID_PIt
+   KID_ALT_PIt
+   KID_OLD_PIt   insert_blockR   R#   R-   R!   t   declt   gett   QNAME_EXTENDSR   R+   t   Nonet   attribt   appendR.   R"   R1   t   def_proct   ENDt   TEXTt   text_interpolatet   XML_DECLt   DOCTYPE(   R   R,   RE   R<   R7   R+   R   R0   R@   R-   R?   R8   (    (    R   R)      s^    
+ 		
+ 		
+#c         C   s  t  } | i |  } | d  j o t } | i |  } n | d  j	 o[| | =| } d | j o | d } n | i	 d d  \ } } | i d  }	 | d |	 !i   } | o d p d }
+ d | |
+ | f } t   } | i d	 |  | i d
+ |  | i   |  i i |  t d d  } | i d |  | i d  | i d  |  i i |  |  i | | |  | i   | t j o | i d |  qn |  i | | |  d  S(   Nt   (s   ()i   t   )i    s   self, R   s   %s(%s%s)s   def %s(*args, **kw):s!   return Template().%s(*args, **kw)R   s   def %s:s-   exec template_util.get_locals(self, locals())s   current, ancestors = None, []s=   for _e in template_util.generate_content(self.%s()): yield _e(   t	   QNAME_DEFt	   attr_nameRI   RF   RE   RH   t
+   QNAME_SLOTR,   t   old_codeR>   R?   t   argst   rfindt   posR	   t   self_t
+   class_declR    R1   R0   R2   R   R%   RJ   R&   t
+   match_procR8   (   R   R8   RI   R,   RE   R?   RV   RW   RT   RY   RZ   R[   (    (    R   RK      s<    	
+
+c         C   s   | i t  } | d  j	 o | t =| } t d d  } | i d  | i	 d  | i	 d  |  i | | |  | i   | i	 d |  |  i i |  n |  i | | |  d  S(   NR   i   s#   def _match_func(self, item, apply):s-   exec template_util.get_locals(self, locals())s   current, ancestors = None, []s7   _match_templates.append((lambda item: %s, _match_func))(   RI   RF   t   QNAME_MATCHt   exprRH   R,   RV   R    R1   R0   R   t   for_procR8   R2   R&   RJ   (   R   R8   RI   R,   RV   R^   (    (    R   R\      s    
+c         C   sl   | i t  } | d  j	 o9 | i d |  | t =|  i | | |  | i
+   n |  i | | |  d  S(   Ns   for %s:(   RI   RF   t	   QNAME_FORR^   RH   R,   R1   R   t   if_procR8   R2   (   R   R8   RI   R,   R^   (    (    R   R_      s    c         C   sl   | i t  } | d  j	 o9 | i d |  | t =|  i | | |  | i
+   n |  i | | |  d  S(   Ns   if %s:(   RI   RF   t   QNAME_IFR^   RH   R,   R1   R   t   replace_procR8   R2   (   R   R8   RI   R,   R^   (    (    R   Ra      s    c         C   sR   | i t  } | d  j	 o | t =d | t <| | t <n |  i | | |  d  S(   NR/   (   RI   RF   t   QNAME_REPLACER^   RH   t   QNAME_STRIPt   QNAME_CONTENTR   t
+   strip_procR8   R,   (   R   R8   RI   R,   R^   (    (    R   Rc      s    
+c   
+      C   s  |  i | | |  } | i t  t } } | d  j o | i t  t } } n | i | i } } | i }	 | d  j	 oD | | =| d j o, | d |  |  i | | |  |   q n |  i | | |  | o< | i d  |	 d  |	 d  | i   |  i i   n, |  i d 7_ |  i |  |  i d 8_ | o- | d |  |	 d  |	 d  |   n& | d j o |	 d  |	 d  n d  S(	   NR/   s   if not (%s):s9   for _e in template_util.generate_content(_cont, current):s   yield _es   del _ei   s   yield (END, current)s   current = ancestors.pop(0)(   R   t   content_procR8   RI   R,   t   has_contentRF   Re   R^   t   attrRH   t
+   QNAME_OMITR1   R2   R0   t   attrib_procR   t   eatR   R)   (
+   R   R8   RI   R,   R2   Rj   R1   R^   Ri   R0   (    (    R   Rg     s>    	
+
+
+
+
+
+c         C   su  d } | i }	 d } t | d d } xg | i   D]Y \ } } t |  } t |  t |  j o( | | | <t | t  o
+ d } q q4 q4 W| i t  }
+ |
+ d  j	 o1 | t =d | |
+ i d d  f } d | } n3 | o% | o d | } qt |  } n d	 } |	 d
+  |	 d | i | f  t |  o) | i d |  |	 d  | i   n |	 d  d  S(   Ni    t   removei   s8   template_util.update_dict(%r, "%s", globals(), locals())t   "s   \"s9   template_util.make_attrib(%s,self._get_assume_encoding())s9   template_util.make_attrib(%r,self._get_assume_encoding())s   {}s   ancestors.insert(0, current)s   current = Element(%r, %s)s   for _p, _u in %r.items():s7   if not _u in omit_namespaces: yield (START_NS, (_p,_u))s   yield (START, current)(   t   interpR,   R0   t   need_interpolationt
+   namespacesR8   t   namesRI   t   itemst   kt   vt   interpolatet   subt   idt
+   isinstancet   listRF   t   QNAME_ATTRIBUTESR^   RH   R   t	   attr_textt   reprR:   t   lenR1   R2   (   R   R8   RI   R,   Rp   Rs   Rx   R}   Rv   R0   R^   Ru   Rq   (    (    R   Rl   /  s8    	 
+
+
+c         C   s@   | i t  } | d  j	 o  | t =| i d |  d Sn d  S(   Ns
+   _cont = %si   (   RI   RF   Rf   R^   RH   R,   R0   (   R   R8   RI   R,   R^   (    (    R   Rh   Q  s
+    c         C   si   d } | i } t |  } t | t  o, | i d |  | i d  | i	   n | d |  d  S(   Ni    s   for _e in %r:s8   for _e2 in template_util.generate_content(_e): yield _e2s   yield (TEXT, %r)(
+   Rp   R,   R0   Rw   R<   Rx   Rz   R{   R1   R2   (   R   R7   R<   R,   Rx   Rp   R0   (    (    R   RN   X  s    	(   t   __name__t
+   __module__RH   R'   R   R(   R*   R)   RK   R\   R_   Ra   Rc   Rg   Rl   Rh   RN   (    (    (    R   R   =   s   		&		3	%		
+	
+		)	"	t   SubExpressionc           B   s   t  Z d   Z RS(   Nc         C   s   d d i  |   S(   Ns   [%s]s   , (   R.   R   (   R   (    (    R   t   __repr__d  s    (   R   R   R   (    (    (    R   R   c  s   s   (?<!\$)\$\{(.+?)\}s"   (?<!\$)\$([a-zA-Z][a-zA-Z0-9_\.]*)c         C   s@  t  i |   } t |  d j oF t i |   } t |  d j o |  i d d  Sqn t |  } n d } t   } d } x | t |  j  o | | } | d d j o | i |  no | og | | j o7 t i |  } | | | | d +| t |  } q q-| i t | i d d    n | d 7} q W| S(   Ni   s   $$t   $ii    i   (   t	   _sub_exprR>   R<   R+   R   t   _sub_expr_shortR   t   last_checkedR   t	   new_partst   it   partRJ   t
+   more_partsR~   (   R<   R   R   R   R+   R   R   (    (    R   Rw   j  s.    	 
+#R    c           B   s_   t  Z d  Z d Z d Z e d d d  Z d   Z d   Z d e	 d  Z
+ d   Z d	   Z RS(
+   s   A simple Python code generator.i    s   	c         C   sN   | p g  |  _  | |  i j o | |  _ n | |  i j o | |  _ n d  S(   N(   R,   R   R   t   tab(   R   R,   R   R   (    (    R   R'     s
+    c         C   s(   |  i i d |  i |  i | f  d  S(   Ns   %s%s(   R   R,   RJ   R   R   R<   (   R   R<   (    (    R   R0     s    c         C   s    |  i |  |  i d 7_ d  S(   Ni   (   R   R0   R<   R   (   R   R<   (    (    R   R1     s    i   c         C   sB   x; t  |  D]- } | o |  i d  n |  i d 8_ q Wd  S(   Nt   passi   (   t   ranget   nblockst   nt	   with_passR   R0   R   (   R   R   R   R   (    (    R   R2     s
+     c         C   sk   |  i } | i   } t |  d j o | | d i    n( x$ t | |  i	  D] } | |  qS Wd  S(   Ni   i    (
+   R   R0   t   output_linet   blockt
+   splitlinest   linesR   R	   t   _adjust_python_blockR   (   R   R   R   R   R0   (    (    R   RD     s    	 c         C   s    |  i i d  d i |  i  S(   NR/   s   
+(   R   R,   RJ   R.   (   R   (    (    R   t   __str__  s    (   R   R   t   __doc__R   R   RH   R'   R0   R1   t   FalseR2   RD   R   (    (    (    R   R      s    			s   	c   	      C   s(  |  d i   g g  } |  d D] } | | i   q ~ }  d } x |  d D] } | d j oq | i   } | d d j oP t	 |  t	 |  } | d j p | | j  o | } | d j o Pq q q qM qM W| d j	 p | d j o? g  } |  d D] } | | |  i   | | q ~ |  d )n |  d o |  d d d j o y t |  d d d  Wq$t j
+ o y' d i |   d } t | d d  Wq t j
+ oa |  d  g  } |  d D] } | | | q~ } d i |  d } t | d d  | }  q q Xq$q$Xn |  S(	   s)   Adjust the indentation of a Python block.i    i   R/   t   #s   <string>t   execs   
+N(   R   R	   t   _[1]R0   t   rstripRH   t   indt   lstript   sR   R   t   compilet   SyntaxErrorR.   R   t   IndentationErrorR   t   lines2(	   R   R   R   R   R   R   R   R0   R   (    (    R   R     s@     < ?!1
+c         c   s:   x3 t  t t |    |   D] \ } } | | f Vq Wd  S(   N(   t   zipR   R   t   seqR   t   elem(   R   R   R   (    (    R   t	   enumerate  s     (/   R   t
+   __future__t
+   generatorst   __revision__t   __date__t
+   __author__t   __copyright__t   __license__t   ret   kid.pullt   kid.etRr   R   t	   Namespacet	   KID_XMLNSt
+   KID_PREFIXt   kidnsR`   Rb   RS   RU   Rf   Rd   R]   Re   R|   RG   Rk   t   QNAME_REPEATRA   RB   RC   RH   R   R   t   objectR   R{   R   R   R   R   Rw   R    R   R   t	   NameError(%   Re   R|   R   R   R   R   R   R   R   Rk   RU   R   Rd   RS   R   R   R   RG   R   R`   R   RA   R   Rw   R   R   R   Rr   Rb   Rf   R   R   R    R]   R   RB   RC   (    (    R   t   ?   sT   	
+
+
+
+
+
+
+
+
+
+
+
+ '	+(
\ No newline at end of file
diff -Naur kid-0.8/kid/pull.py kid-0.8svn249/kid/pull.py
--- kid-0.8/kid/pull.py	2005-12-02 01:57:39.000000000 -0500
+++ kid-0.8svn249/kid/pull.py	2006-01-11 11:14:35.000000000 -0500
@@ -11,7 +11,7 @@
 from kid.et import *  # ElementTree
 from kid.util import open_resource, QuickTextReader
 
-import xml.parsers.expat
+from xml.parsers import expat
 
 # This is the default entity map.
 import htmlentitydefs
@@ -275,7 +275,7 @@
             filename = '<string>'
         self._filename = filename
         self._source = source
-        self._parser = parser = xml.parsers.expat.ParserCreate(encoding, "}")
+        self._parser = parser = expat.ParserCreate(encoding, "}")
         self._queue = []
         
         # callbacks
@@ -308,7 +308,7 @@
         self.external_dtd = default_external_dtd
         # setup entity handling
         self._parser.SetParamEntityParsing(
-            xml.parsers.expat.XML_PARAM_ENTITY_PARSING_ALWAYS)
+            expat.XML_PARAM_ENTITY_PARSING_ALWAYS)
         self._parser.ExternalEntityRefHandler = self._buildForeign
         self._parser.UseForeignDTD()
     
@@ -397,7 +397,7 @@
     def feed(self, data):
         try:
             self._parser.Parse(data, 0)
-        except xml.parsers.expat.ExpatError, e:
+        except expat.ExpatError, e:
             e.filename = self._filename
             if hasattr(self, '_sourcetext'):
                 line = e.lineno
diff -Naur kid-0.8/kid/pull.pyc kid-0.8svn249/kid/pull.pyc
--- kid-0.8/kid/pull.pyc	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/pull.pyc	2006-01-11 14:31:37.000000000 -0500
@@ -0,0 +1,119 @@
+m
+.Cc           @   s  d  Z  d Z d Z d Z d Z d Z d k l Z d k Td k	 l
+ Z
+ l Z d	 k l Z d
+ k Z h  Z g  Z xD e i i   D]3 \ Z Z e e  e e <e i d e e f  q} Wd i e  Z d e f d     YZ d d
+ d  Z d
+ d
+ d  Z d e f d     YZ d   Z d d  Z  d Z! d Z" d Z# d Z$ d Z% d Z& d Z' d Z( d Z) d
+ d  Z* d e f d      YZ+ d! d" d# d$ d d% d& d' d d( d) d* d+ d, d- d. g Z, d
+ S(/   s%   Pull-style interface for ElementTree.s   $Rev$s5   $Date: 2005-02-16 15:43:38 -0500 (Wed, 16 Feb 2005) $s!   Ryan Tomayko (rtomayko@gmail.com)s!   Copyright 2004-2005, Ryan Tomaykos8   MIT <http://www.opensource.org/licenses/mit-license.php>(   s
+   generators(   t   *(   s   open_resources   QuickTextReader(   s   expatNs   <!ENTITY %s "&#%d;">s   
+t   InvalidStreamStatec           B   s   t  Z d d  Z RS(   Ns   Invalid stream state.c         C   s   t  i |  |  d  S(   N(   t	   Exceptiont   __init__t   selft   msg(   R   R   (    (    t1   /home/scott/scratch/kid/kid-0.8svn249/kid/pull.pyR      s    (   t   __name__t
+   __module__R   (    (    (    R   R      s   i   c         C   s  |  i d  p |  i d  o
+ d } n | oq d |  }  t |  t  o d } |  i |  }  n t t |   |  } |  | _
+ t t | d |  i   Sn^ t |  t  o d } |  i |  }  n t t |   |  } |  | _
+ t t | d |  Sd S(   s*   Element generator that reads from a strings   <?xml s
+   <!DOCTYPE i    s   <xml>%s</xml>s   utf-16t   encodingN(   t   textt
+   startswitht   fragmentt
+   isinstancet   unicodeR	   t   encodet   Parsert   QuickTextReadert   pt   _sourcetextt   ElementStreamt	   _coalescet   strip(   R
+   R   R	   R   (    (    R   t   XML   s"      
+
+	 	c         C   s   t  |  d  p* | d  j o
+ |  } n t |  d  }  n | d  j o
+ d } n t |  |  } | | _ t	 t
+ | d |  S(   Nt   readt   rbs   <string>R	   (   t   hasattrt   filet   filenamet   Nonet   open_resourceR   R	   R   t	   _filenameR   R   (   R   R	   R   R   (    (    R   t   document2   s    
+
+	R   c           B   sq   t  Z d  Z e d  Z d   Z d   Z d d  Z d   Z d d  Z	 e d	  Z
+ e d
+  Z e e  Z RS(   s   Provides a pull/streaming interface to ElementTree.
+    
+    Instances of this class are iterable. Most methods of the class act on
+    the Element that is currently being visited.
+    
+    c         C   sa   t  | d  o) t  | d  o |  i | d d } n d |  _ |  i t |  |  |  _ d S(   s   Create an ElementStream.
+        
+        stream - an iterator that returns ElementStream events.
+        current - If an Element is provided in this parameter than
+                  it is yielded as the first element in the stream.
+
+        t   tagt   attribt   taili   N(	   R   t   streamR   t   _pullR   t   currentt   _trackt   itert   _iter(   R   R$   R&   (    (    R   R   G   s
+      	c         C   s   |  i S(   N(   R   R)   (   R   (    (    R   t   __iter__T   s    c         C   s<  |  i } | d j o
+ g  } n | g } d } x |  i D] \ } } | t j oE | } t	 |  d j o | d i
+ |  n d } | i
+ |  q9 | t j o< | i   } | | j p t  t	 |  d j o Pqq9 | t j o' | d j	 o | | _ q| | _ q9 q9 Wt | t  o | d Sn | Sd S(   s4   Expand the current item in the stream as an Element.i    iN(   R   R&   R   t   stackt   lastR)   t   evt   itemt   STARTt   lent   appendt   ENDt   popt   AssertionErrort   TEXTR#   R
+   R   t   list(   R   R,   R&   R.   R-   R+   (    (    R   t   expandW   s4     	
+	
+ 	i   c         c   s   |  i d  j	 o d p d } x |  i D] \ } } | t j o | d 7} n | | j p  | | j o! | t t	 f j o | | f Vn | t	 j o: | d 8} | d j o Pq | d j  o t
+    q q' q' Wd  S(   Ni   i    (   R   R&   R   t   depthR)   R-   R.   R/   t   levelsR2   R   (   R   R9   R.   R8   R-   (    (    R   R   u   s    
+ -
+c         C   s   |  i d j	 o d p d } x_ |  i D]T \ } } | t j o | d 7} q' | t j o  | d 8} | d j o Pq{ q' q' W|  S(   s0   Eat the current element and all decendant items.i   i    N(	   R   R&   R   R8   R)   R-   R.   R/   R2   (   R   R.   R8   R-   (    (    R   t   eat   s     
+ 
+i    c         c   s   | } t | i t | i   } | i t t f j o | i | _ d  | _ n t
+ | f V| i o t | i f Vn x8 | i   D]* } x! |  i | d d D]
+ } | Vq Wq Wt | f V| o | i o t | i f Vn d  S(   NR#   i   (   t   elemt   origt   ElementR!   t   dictR"   t   Commentt   ProcessingInstructionR
+   R   R/   R5   t   getchildrent   childR   R%   t   eventR2   R#   (   R   R;   R#   RB   RC   R<   (    (    R   R%      s     
+
+  
+c         c   s   | d  j	 o | |  _  t | f Vn xX | D]P } | \ } } | t j o | |  _  n | t j o d  |  _  n | | f Vq+ Wd  S(   N(	   R&   R   R   R/   R$   R   R-   R.   R2   (   R   R$   R&   R   R.   R-   (    (    R   R'      s    	 c         C   s)   t  | |   o | Sn |  | |  Sd  S(   N(   R   R$   t   clsR&   (   RD   R$   R&   (    (    R   t   ensure   s    (   R   R   t   __doc__R   R   R*   R7   R   R:   R%   R'   RE   t   classmethod(    (    (    R   R   >   s    			c         C   sE   t  |  t  o |  Sn t  |  t  p t |   }  n t |  |  S(   N(   R   t   valueR   t   strR	   (   RH   R	   (    (    R   t
+   to_unicode   s
+    c         c   s  g  } g  } d } d }
+ d } d g }	 xl|  D]d\ } } | t
+ j o | i |  t
+ } q. n | t
+ j oI d } x! | D] } | t | |  7} q{ Wg  } | o t
+ | f Vq n | t j o` | i } x7 | D]/ \ } } | o | | d | <q | | d <q Wg  } | } |	 i |  ne | t j o |	 i   } nH | t j o& | \ } } | i | | f  q. n | t j o q. n | | f Vq. W| t
+ j oC d } x! | D] } | t | |  7} qW| o t
+ | f Vqn d S(   s   Coalesces TEXT events and namespace events.
+    
+    Fold multiple sequential TEXT events into a single event.
+    
+    The 'encoding' attribute is for the source strings.
+    u    s   xmlns:%st   xmlnsN(   t   textbuft
+   namespacesR   t   last_evR,   R&   R+   R$   R-   R.   R5   R1   R
+   RH   RJ   R	   R/   R"   t   prefixt   uriR2   R3   t   START_NSt   END_NS(   R$   R	   t   extendedRO   R-   R&   R
+   RL   RM   R+   R,   RP   RH   R.   RN   R"   (    (    R   R      s^     	  	  i   i   i   i   i
+   i   i   i   c         C   s
+   t  |   S(   N(   t   ExpatParsert   source(   RU   R	   (    (    R   R      s    RT   c           B   s   t  Z d  d  Z d   Z d   Z d   Z d   Z d   Z d   Z	 d   Z
+ d	   Z d
+   Z d   Z d   Z d   Z d   Z d   Z d   Z d   Z d   Z RS(   Nc         C   s  t  | d  p | } t | d  } n d } | |  _ | |  _ t i | d  |  _
+ } g  |  _ |  i | _ |  i | _ |  i | _ |  i | _ |  i | _ |  i | _ |  i | _ |  i | _ |  i | _ |  i | _  y d |  i
+ _! Wn t" j
+ o n Xy( d |  i
+ _# d |  i
+ _$ |  i% | _ Wn t" j
+ o n Xd  |  _' t( |  _) t* |  _+ |  i
+ i, t i-  |  i. |  i
+ _/ |  i
+ i0   d  S(   NR   R   s   <string>t   }i   (1   R   RU   R   t   openR   R   t   _sourcet   expatt   ParserCreateR	   t   _parsert   parsert   _queuet   _defaultt   DefaultHandlert   _startt   StartElementHandlert   _endt   EndElementHandlert   _datat   CharacterDataHandlert   _pit   ProcessingInstructionHandlert   _commentt   CommentHandlert	   _start_nst   StartNamespaceDeclHandlert   _end_nst   EndNamespaceDeclHandlert   _xmldecl_handlert   XmlDeclHandlert   _doctype_handlert   StartDoctypeDeclHandlert   buffer_textt   AttributeErrort   ordered_attributest   specified_attributest   _start_listR   t   _doctypet   default_entity_mapt   entityt   default_external_dtdt   external_dtdt   SetParamEntityParsingt   XML_PARAM_ENTITY_PARSING_ALWAYSt   _buildForeignt   ExternalEntityRefHandlert   UseForeignDTD(   R   RU   R	   R\   R   (    (    R   R     sD    						c         C   sS   d  k  } | i  t  } |  i } |  i i |  |  _ |  i i |  | |  _ d S(   Ni   (	   t   StringIORz   t   parseableFileR   R[   t   original_parsert   ExternalEntityParserCreatet   contextt	   ParseFile(   R   R   t   baset   systemIdt   publicIdR   R   R   (    (    R   R~   ;  s    			c         C   s   |  i i | | f  d  S(   N(   R   R]   R1   R-   t   stuff(   R   R-   R   (    (    R   t   pushD  s    c         c   s   d d } |  i } |  i i } d } x xZ | oQ t |  i  d j o; | |  } | d j o |  i	   d } q+ | |  q+ Wx |  i D]
+ } | Vq Wg  |  _ | o Pq( q( Wd  S(   Ni   i   i    i   t    (   t   bufsizeR   t   feedRX   R   t   doneR0   R]   t   datat   closet   i(   R   R   R   R   R   R   R   (    (    R   t   _expat_streamG  s&    
+	   
+
+
+ 	c      	   #   s  h    d  d      d   }	 g  } d  } d  } x|  i	   D]\ } } | t j o t | f VqC | t j o | \ } } |	 |  } h  } | o1 x. | i   D] \ }
+ } | | |	 |
+  <q Wn | } t | |  } | i |  t | f VqC | t j oU | i   } |	 |  | i j p t  t |  o | d p d  } t | f VqC | t j o$ t |  } t | f Vt | f VqC | t j o/ t | d | d  } t | f Vt | f VqC | | f VqC Wd  S(   Ns   http://naeblis.cx/ns/kid#s   http://purl.org/kid/ns#c            s   |  i   o# d i   |  t   g  }  n y  |  } Wn> t j
+ o2 |  } d | j o d | } n |  |  <n X| S(   NR   RV   t   {(	   t   keyR   t   old_nst   joint   new_nsR0   t   namest   namet   KeyError(   R   R   (   R   R   R   (    R   t   fixname`  s    #ii    i   (   R   R   R   R   R+   R   t   parentR&   R   R   R-   R   R5   R/   R!   t	   attrib_inR"   t   itemsR   RH   R=   R1   R2   R3   R4   R0   t   COMMENTR?   t   PIR@   (   R   R!   R   R-   R   R   R&   R   R   R   R   R+   RH   R   R"   (    (   R   R   R   R   R*   Z  sJ      
+
+c         C   s   y |  i i | d  Wnl t i j
+ o] } |  i | _ t	 |  d  o) | i
+ } |  i i d |  d | _ n
+ d | _ |  n Xd  S(   Ni    R   s   
+is   ???(   R   R[   t   ParseR   RY   t
+   ExpatErrort   eR   R   R   t   linenot   lineR   t   splitRU   (   R   R   R   R   (    (    R   R     s    	 	c         C   s1   t  |  d  o |  i i d d  |  ` n d  S(   NR[   R   i   (   R   R   R[   R   (   R   (    (    R   R     s    c         C   s    |  i i t | | f f  d  S(   N(   R   R]   R1   R/   R!   R   (   R   R!   R   (    (    R   R`     s    c         C   sp   d  } | oC h  } x: t d t |  d  D] } | | d | | | <q, Wn |  i i t	 | | f f  d  S(   Ni    i   i   (   R   R"   R   t   rangeR0   R   R   R]   R1   R/   R!   (   R   R!   R   R   R"   (    (    R   Rv     s     c         C   s   |  i i t | f  d  S(   N(   R   R]   R1   R5   R
+   (   R   R
+   (    (    R   Rd     s    c         C   s   |  i i t | f  d  S(   N(   R   R]   R1   R2   R!   (   R   R!   (    (    R   Rb     s    c         C   s   | d  } | d j ow y( |  i i t |  i | d d !f  Wq t j
+ o< d k l	 } | i
+ d | |  i i |  i i f   q Xn d  S(   Ni   t   &i(   s   expats'   undefined entity %s: line %d, column %d(   R
+   RO   R   R]   R1   R5   Ry   R   t   xml.parsersRY   t   errorR[   t   ErrorLineNumbert   ErrorColumnNumber(   R   R
+   RY   RO   (    (    R   R^     s    
+(c         C   s    |  i i t | | f f  d  S(   N(   R   R]   R1   R   t   targetR   (   R   R   R   (    (    R   Rf     s    c         C   s   |  i i t | f  d  S(   N(   R   R]   R1   R   R
+   (   R   R
+   (    (    R   Rh     s    c         C   se   | d j o1 d } d k l } | d | | f  | } n |  i i t | p d | f f  d  S(   Ns   http://naeblis.cx/ns/kid#s   http://purl.org/kid/ns#(   s   warnsD   Document uses old kid namespace [%s] this should be changed to [%s].R   (	   RP   t   newurit   warningst   warnR   R]   R1   RQ   RO   (   R   RO   RP   R   R   (    (    R   Rj     s    
+c         C   s!   |  i i t | p d f  d  S(   NR   (   R   R]   R1   RR   RO   (   R   RO   (    (    R   Rl     s    c         C   s#   |  i i t | | | f f  d  S(   N(   R   R]   R1   t   XML_DECLt   versionR	   t
+   standalone(   R   R   R	   R   (    (    R   Rn     s    c         C   s#   |  i i t | | | f f  d  S(   N(   R   R]   R1   t   DOCTYPER   t   pubidt   sysid(   R   R   R   R   t   has_internal_subset(    (    R   Rp     s    (   R   R   R   R   R~   R   R   R*   R   R   R`   Rv   Rd   Rb   R^   Rf   Rh   Rj   Rl   Rn   Rp   (    (    (    R   RT     s$   -					3												R=   t
+   SubElementR?   R@   R   R    R   R/   R2   R5   R   R   R   R   (-   RF   t   __revision__t   __date__t
+   __author__t   __copyright__t   __license__t
+   __future__t
+   generatorst   kid.ett   kid.utilR   R   R   RY   t   htmlentitydefsRx   Rz   t   name2codepointR   t   kt   vt   unichrR1   R   R   R   R   R   R    t   objectR   RJ   R   R/   R2   R5   R   R   RQ   RR   R   R   R   RT   t   __all__(    RJ   R5   RY   R   R   R   R   R   R   R   R   RQ   R   R    R   R   R2   R   R   Rz   R   R/   RT   Rx   R   R   RR   R   R   R   R   R   (    (    R   t   ?   sF   	 v	
+6
\ No newline at end of file
diff -Naur kid-0.8/kid/serialization.py kid-0.8svn249/kid/serialization.py
--- kid-0.8/kid/serialization.py	2005-12-02 03:01:01.000000000 -0500
+++ kid-0.8svn249/kid/serialization.py	2006-01-11 11:14:35.000000000 -0500
@@ -52,11 +52,18 @@
         return ''.join(text)
     
     def write(self, stream, file, encoding=None, fragment=0):
+        needs_closed = False
         if not hasattr(file, 'write'):
+            needs_closed = True
             file = open(file, 'wb')
-        write = file.write
-        for text in self.generate(stream, encoding, fragment):
-            write(text)
+        try:
+            write = file.write
+            for text in self.generate(stream, encoding, fragment):
+                write(text)
+        finally:
+            # only close a file if it was opened locally
+            if needs_closed:
+                file.close()
 
     def generate(self, stream, encoding=None, fragment=0):
         pass
@@ -91,7 +98,8 @@
                 hops+=1
                 # pre-tag indentation was used.
                 # Make sure it's not used again for #PCDATA-sensitive elements
-                if ev == START and self.has_only_pcdata(item.tag):
+                if ev == START and (self.has_only_pcdata(item.tag)
+                        or item.tag == Comment):
                     text = ''
             else:
                 yield (ev, item)
@@ -116,7 +124,7 @@
             self.decl = decl
         if doctype is not None:
             self.doctype = doctype
-        if isinstance(self.doctype, (str, unicode)):
+        if isinstance(self.doctype, basestring):
             # allow doctype strings
             self.doctype = doctypes[self.doctype]
         if namespaces:
@@ -265,14 +273,14 @@
         Serializer.__init__(self, encoding)
         if doctype:
             self.doctype = doctype
-        if isinstance(self.doctype, (str, unicode)):
+        if isinstance(self.doctype, basestring):
             # allow doctype strings
             self.doctype = doctypes[self.doctype]
         if transpose:
             self.transpose = transpose
 
     def has_only_pcdata(self, tagname):
-	if isinstance(tagname, (str,unicode)) and tagname[0] == '{':
+        if isinstance(tagname, basestring) and tagname[0] == '{':
             tagname = tagname.split('}')[1] 
 	    return tagname in self.elements_with_pcdata
 
diff -Naur kid-0.8/kid/serialization.pyc kid-0.8svn249/kid/serialization.pyc
--- kid-0.8/kid/serialization.pyc	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/serialization.pyc	2006-01-11 14:31:37.000000000 -0500
@@ -0,0 +1,140 @@
+m
+.Cc           @   s  d  Z  d k l Z d Z d Z d Z d Z d Z d k Z d k	 Td k
+ Td	 k
+ l Z d k i Z d
+ d d d g Z h  d d( <d d) <d d* <d d+ <Z d e f d     YZ d e f d     YZ y e WnC e j
+ o7 y d k l Z Wqe j
+ o d   Z qXn Xd k i Z e i i Z d k Z d e f d     YZ d  e f d!     YZ d" e f d#     YZ d$ f  d%     YZ d& k	 l Z e i  Z  e i! Z! d'   Z" d S(,   s5   Infoset serialization formats (XML, XHTML, HTML, etc)(   s
+   generatorss   $Rev$s5   $Date: 2005-02-16 15:43:38 -0500 (Wed, 16 Feb 2005) $s!   Ryan Tomayko (rtomayko@gmail.com)s!   Copyright 2004-2005, Ryan Tomaykos8   MIT <http://www.opensource.org/licenses/mit-license.php>N(   t   *(   s	   _coalescet   doctypest
+   Serializert   XMLSerializert   HTMLSerializers   html-strictt   HTMLs   -//W3C//DTD HTML 4.01//ENs%   http://www.w3.org/TR/html4/strict.dtdt   htmls&   -//W3C//DTD HTML 4.01 Transitional//ENs$   http://www.w3.org/TR/html4/loose.dtds   xhtml-stricts    -//W3C//DTD XHTML 1.0 Strict//ENs1   http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtdt   xhtmls&   -//W3C//DTD XHTML 1.0 Transitional//ENs7   http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtdc           B   s   t  Z e i Z d Z d Z d Z d  d d  Z d   Z	 d  d d  Z
+ d  d d  Z d  d d  Z d	   Z d
+   Z d   Z RS(   Ns   utf-8i   i    c         C   s'   | d  j	 o | |  _  n | |  _ d  S(   N(   t   encodingt   Nonet   selft   src_encoding(   R
+   R   R   (    (    t:   /home/scott/scratch/kid/kid-0.8svn249/kid/serialization.pyt   __init__*   s    c         C   s   t  S(   N(   t   False(   R
+   t   tagname(    (    R   t   has_only_pcdata/   s    c         C   s(   t  |  i | | |   } d i |  S(   Nt    (   t   listR
+   t   generatet   streamR   t   fragmentt   textt   join(   R
+   R   R   R   R   (    (    R   t	   serialize2   s    c         C   s   t  } t | d  p t } t | d  } n z7 | i } x' |  i | | |  D] } | |  qQ WWd  | o | i   n Xd  S(   Nt   writet   wb(   R   t   needs_closedt   hasattrt   filet   Truet   openR   R
+   R   R   R   R   R   t   close(   R
+   R   R   R   R   R   R   R   (    (    R   R   6   s    	  c         C   s   d  S(   N(    (   R
+   R   R   R   (    (    R   R   D   s    c         C   sP   t  | |  i  } |  i o |  i |  } n |  i o |  i |  } n | S(   N(   t	   _coalesceR   R
+   R   t   strip_whitespacet   whitespace_filtert   balanced_blockst   balancing_filter(   R
+   R   (    (    R   t   apply_filtersG   s    
+
+c         c   sY  t  i d  } d } d } x7| D]/\ } } | t j o | } d } q" | t	 t
+ f j o | i t j o | d j o8 | o- | i   d j o t | i d |  f Vq nC | o; | i   d j o t | i d |  f Vq t | f Vn | | f V| d 7} | t	 j o- |  i | i  p | i t j o
+ d } qQq" | | f Vq" Wd  S(   Ns   
+{2,}R   i    s   
+i   (   t   ret   compilet   line_collapseR   t   hopsR   t   evt   itemt   TEXTt   STARTt   ENDt   tagt   Fragmentt   stript   subR
+   R   t   Comment(   R
+   R   R)   R,   R*   R   R+   (    (    R   R%   P   s*     
+#
+
+0c         c   sF   x? | D]7 \ } } | t j o t | i   f Vq | | f Vq Wd  S(   N(   R   R+   R,   R-   R2   (   R
+   R   R,   R+   (    (    R   R#   k   s
+     (   t   __name__t
+   __module__t	   namespacet
+   namespacesR   R$   R"   R	   R   R   R   R   R   R&   R%   R#   (    (    (    R   R   #   s   					c           B   sw   t  Z d Z d  Z g  Z d  d  d  d  d  Z d   Z d  d d  Z d  d  Z	 e
+ e	  Z	 d  d  Z e
+ e  Z RS(   Ni   c         C   s   t  i |  |  | d  j	 o | |  _ n | d  j	 o | |  _ n t |  i t  o t	 |  i |  _ n | o | |  _
+ n d  S(   N(   R   R   R
+   R   t   declR	   t   doctypet
+   isinstancet
+   basestringR   R8   (   R
+   R   R9   R:   R8   (    (    R   R   x   s    c         C   s   t  S(   N(   R   (   R
+   t   ns_stackt	   item_name(    (    R   t   can_be_empty_element   s    i    c         c   s  | p |  i  p d } t i }
+ t i } d } t |  } t	 |  i
+  } | p? |  i o d | Vn |  i d j	 o t |  i  d Vq n d } x|  i |  D]\ }	 } |	 t t f j o | i t j o q nA |	 t j o3 | d j	 o d i | | g  } q | } q n | t j ob |	 t j oM | p | i   o7 |  i | | i  o! d Vt } d } | i   q n d Vn | o |
+ | |  Vd } n |	 t j ov| i t j o! d | i i |  Vt } q q| i t  j o! d | i i |  Vt! } q q| i } | i" t
+ | d	 d
+  | i# | d d
+ } d | i |  V| i$ i%   } | oP xM | D]A \ } } | i# | d d } d | i |  | | |  f Vq}Wn x | i) i%   D]N \ } } | d j o d | | |  Vqd | i |  | | |  f VqWn[ |	 t j oM | i t t  f j o7 | i# | i d d
+ } d | i |  V| i   n |	 } q Wd S(   s   Serializes an event stream to bytes of the specified encoding.
+        
+        This function yields an encoded string over and over until the
+        stream is exhausted.
+        
+        s   utf-8s$   <?xml version="1.0" encoding="%s"?>
+s   
+u    s    />t   >s	   <!--%s-->s   <?%s?>t   removei   t   defaultt   <i    s    %s="%s"R   s    xmlns="%s"s    xmlns:%s="%s"s   </%s>N(,   R   R
+   R   t   escape_cdatat   escape_attribR	   t   lastevt   iterR   t   NamespaceStackR8   t   namesR   R9   R:   t   serialize_doctypeR   R&   R+   R,   R.   R/   R0   R1   R-   R   R2   R?   t   popR4   t   encodet   COMMENTt   ProcessingInstructiont   PIt   pusht   qnamet   attribt   itemst   attrst   kt   vt   currentt   prefixt   uri(   R
+   R   R   R   R   RY   RX   R0   RI   R+   RD   RU   RQ   R,   RV   RF   RT   RE   (    (    R   R      s~     		
+ #9
+
+	 ( (#
+c         C   s   yj | o7 y |  i |  }  WqA t j
+ o t |   SqA Xn |  i d d  }  |  i d d  }  |  SWn# t t f j
+ o t |   n Xd S(   s   Escape character data.t   &s   &amp;RC   s   &lt;N(	   R   R   RL   t   UnicodeErrort   _encode_entityt   replacet	   TypeErrort   AttributeErrort   _raise_serialization_error(   R   R   (    (    R   RD      s     c         C   s   y| | o7 y |  i |  }  WqA t j
+ o t |   SqA Xn |  i d d  }  |  i d d  }  |  i d d  }  |  SWn# t t f j
+ o t |   n Xd S(   s   Escape attribute value.RZ   s   &amp;RC   s   &lt;s   "s   &quot;N(	   R   R   RL   R[   R\   R]   R^   R_   R`   (   R   R   (    (    R   RE      s     (   R5   R6   R9   R	   R:   t   cdata_elementsR   R?   R   RD   t   staticmethodRE   (    (    (    R   R   r   s   	J(   s   Setc         C   s   |  S(   N(   t   seq(   Rc   (    (    R   t   set   s    c           B   s  t  Z e d Z e i Z e e  Z d Z e	 d d d d d d d	 d
+ d d d d d g  Z
+ e	 d d d d g  Z e	 d d g  Z e	 d d d d d d d d d d d  d! g  Z d" d  d  d#  Z d$   Z d  d% d&  Z d  d d'  Z e e  Z d  d(  Z e e  Z RS()   NR   i   t   areat   baset   basefontt   brt   colt   framet   hrt   imgt   inputt   isindext   linkt   metat   paramt   optiont   textareat   fieldsett   titlet   scriptt   stylet   selectedt   checkedt   compactt   declaret   defert   disabledt   ismapt   multiplet   nohreft   noresizet   noshadet   nowraps   utf-8c         C   sc   t  i |  |  | o | |  _ n t |  i t  o t |  i |  _ n | o | |  _ n d  S(   N(	   R   R   R
+   R   R:   R;   R<   R   t	   transpose(   R
+   R   R:   R   (    (    R   R     s    c         C   sI   t  | t  o5 | d d j o$ | i d  d } | |  i j Sn d  S(   Ni    t   {t   }i   (   R;   R   R<   t   splitR
+   t   elements_with_pcdata(   R
+   R   (    (    R   R     s    !i    c      	   #   s  | p   i  p d } t i } t i }   i }   i }   i } t   i	      d   }   i o"   i d  }   i d  } n d } | g } t |  } | o%   i d j	 o t   i  d Vn x  i |  D]\ }
+ } |
+ t j o' | o  | | j } | | | |  Vq |
+ t j o| i t j o! d | i i  |  Vt! } q q| i t# j o! d | i i  |  Vt$ } q q| i t% j o q q i& t	 | d d	  | i } | |  \ } }	 } | i*   } | i+ |  d
+ | i  |  V| i, i-   } | o x | D] \ } } | |  \ } } } | i*   } | d j o q*n | | j o d | i  |  Vq*d | i  |  | | |  f Vq*Wn d V  i5 oG | d j o6 | d  \ } }	 } d | i  |  | | | f Vq
+qq |
+ t6 j o} | i t t# t% f j od | i7   } | | j o3 | i } | |  \ } }	 } d | i  |  Vn | d }  i7   q q Wd S(   s   Serializes an event stream to bytes of the specified encoding.
+        
+        This function yields an encoded string over and over until the
+        stream is exhausted.
+        
+        s   utf-8c            s   |  d d j o  |  d i d d  \ } } n d  |  } } | o& | t j o  i |  d d } n* | }   i	 d  j	 o   i	 |  } n | | | f S(   Ni    R   i   R   RB   (
+   R0   R   RY   t	   localnameR	   R   RI   RQ   R
+   R   (   R0   RQ   RY   R   (   R
+   RI   (    R   t	   grok_name1  s     s
+   http-equivt   contents   
+s	   <!--%s-->s   <?%s>RA   i   RC   s   xml:langs    %ss    %s="%s"R@   t   headRp   s1   <%s %s="text/html; charset=%s" %s="Content-Type">s   </%s>iN(8   R   R
+   R   RD   RE   t   noescape_elementst   boolean_attributest   empty_elementsRH   R8   RI   R   R   t   attr_http_equivt   attr_contentR	   RW   t   stackRG   R   R   R:   RJ   R&   R+   R,   R-   t   escapeR.   R0   R4   R   RL   RM   RF   RN   RO   R1   RP   RY   R   RQ   t   lowert   appendRR   RS   RT   RU   RV   t   ut   lt   qt   lqt   inject_typeR/   RK   (   R
+   R   R   R   R   R   R0   RE   R   R   R+   R   RD   R   RW   R   R   R   RV   R   R   RU   RY   R   R,   R   RQ   RF   RT   RI   (    (   R
+   RI   R   R     s     					
+	 	  (
+)&	
+c         C   s   yu | o7 y |  i |  }  WqA t j
+ o t |   SqA Xn | o( |  i d d  }  |  i d d  }  n |  SWn# t t f j
+ o t	 |   n Xd S(   s   Escape character data.RZ   s   &amp;RC   s   &lt;N(
+   R   R   RL   R[   R\   R   R]   R^   R_   R`   (   R   R   R   (    (    R   RD     s     c         C   s   yj | o7 y |  i |  }  WqA t j
+ o t |   SqA Xn |  i d d  }  |  i d d  }  |  SWn# t t f j
+ o t |   n Xd S(   s   Escape attribute value.RZ   s   &amp;s   "s   &quot;N(	   R   R   RL   R[   R\   R]   R^   R_   R`   (   R   R   (    (    R   RE     s     (   R5   R6   R   R:   t   stringt   upperR   Rb   R   Rd   R   R   R   R   R	   R   R   R   RD   RE   (    (    (    R   R      s   
+	30
+	et   XHTMLSerializerc           B   sz   t  Z g  Z e i D] Z e e i i e  q [ Z g  Z e i	 D] Z e e i i e  qD [ Z	 d   Z
+ d   Z RS(   Nc         C   s   | |  i j S(   N(   R   R
+   R   (   R
+   R=   R   (    (    R   R?     s    c         C   s   | |  i j S(   N(   R   R
+   R   (   R
+   R   (    (    R   R     s    (   R5   R6   t   _[1]R   R   t   nameR7   R   t	   clarknameR   R?   R   (    (    (    R   R     s   00	t   PlainSerializerc           B   s   t  Z d  d d  Z RS(   Ni    c         c   sP   | p |  i  p d } x2 |  i |  D]! \ } } | t j o | Vq' q' Wd  S(   Ns   utf-8(   R   R
+   R&   R   R+   R,   R-   (   R
+   R   R   R   R,   R+   (    (    R   R     s
+     (   R5   R6   R	   R   (    (    (    R   R     s   RH   c           B   s\   t  Z d  Z e i d  Z e d  Z d   Z d d  Z	 d   Z
+ d d  Z d	   Z RS(
+   s6   Maintains a stack of namespace prefix to URI mappings.c         C   s)   g  |  _ | |  _ |  i   d |  _ d  S(   Ni    (   R
+   R   t   default_mapRP   t   ns_count(   R
+   R   (    (    R   R     s    		
+c         C   s:   | d  j o
+ h  } n | |  _ |  i i d |  i  d  S(   Ni    (   RI   R	   R
+   RW   R   t   insert(   R
+   RI   (    (    R   RP     s    
+	c         C   s2   |  i d =t |  i  o |  i d |  _ n d  S(   Ni    (   R
+   R   t   lenRW   (   R
+   (    (    R   RK     s    
+i   c         C   s  | d j o d Sn d } d } x |  i D] } x | i   D] \ } } | oD | d j o7 | d j o* | | j } | o | p | o Pq n | | j o) | d j o | } | d j o Pq q> q> Wq+ W| o | d j o d Sn | o | Sn d Sd S(   s   Figure out prefix given a URI.s$   http://www.w3.org/XML/1998/namespacet   xmliR   i   N(   RY   t
+   is_defaultR	   RX   R
+   R   RI   RS   RU   RV   RB   (   R
+   RY   RB   R   RX   RI   RV   RU   (    (    R   t   resolve_prefix  s,     
+  !	c         C   sK   | d j o d Sn x/ |  i D]$ } | i |  } | o | Sq q Wd S(   s   Figure out URI given a prefix.R   s$   http://www.w3.org/XML/1998/namespaceN(   RX   R
+   R   RI   t   getRY   R	   (   R
+   RX   RY   RI   (    (    R   t   resolve_uri  s     
+ i    c         C   s'  t  | t  o | i } n | d d j o | Sn | d i d d  \ } } |  i | |  } | d  j o |  i i |  } | d  j	 o | |  i | <q | o+ |  i i d  o d } | |  i | <q |  i d 7_ d |  i } | |  i | <n | d j o d | | f Sn | Sd  S(   Ni    R   i   R   R   s   ns%ds   %s:%s(   R;   t   cnamet   QNameR   R   RY   R   R
+   R   RB   RX   R	   R   R   RW   t   has_keyR   (   R
+   R   RB   RY   RX   R   (    (    R   RQ     s&    c         C   s(   | d  j o
+ d } n | |  i | <d  S(   NR   (   RX   R	   RY   R
+   RW   (   R
+   RX   RY   (    (    R   Rd     s    
+(   R5   R6   t   __doc__R7   R8   R   R	   RP   RK   R   R   RQ   Rd   (    (    (    R   RH     s    		(   s   ETc         C   s   d |  S(   Ns   <!DOCTYPE %s PUBLIC "%s" "%s">(   R:   (   R:   (    (    R   RJ     s    (   R   s   -//W3C//DTD HTML 4.01//ENs%   http://www.w3.org/TR/html4/strict.dtd(   R   s&   -//W3C//DTD HTML 4.01 Transitional//ENs$   http://www.w3.org/TR/html4/loose.dtd(   s   htmls    -//W3C//DTD XHTML 1.0 Strict//ENs1   http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd(   s   htmls&   -//W3C//DTD XHTML 1.0 Transitional//ENs7   http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd(#   R   t
+   __future__t
+   generatorst   __revision__t   __date__t
+   __author__t   __copyright__t   __license__R'   t   kid.ett   kid.pullR!   t   kid.namespaceR7   t   __all__R   t   objectR   R   Rd   t	   NameErrort   setst   Sett   ImportErrorR   RY   R   R   R   R   RH   t   ETR\   R`   RJ   (   Rd   R   RH   R   R   R   R   R   R\   R7   R   R'   R   R   R!   R`   R   R   RJ   R   R   R   R   R   (    (    R   t   ?   sB   	*O	
+
+]		
\ No newline at end of file
diff -Naur kid-0.8/kid/template_util.py kid-0.8svn249/kid/template_util.py
--- kid-0.8/kid/template_util.py	2005-11-20 00:54:04.000000000 -0500
+++ kid-0.8svn249/kid/template_util.py	2006-01-11 11:14:35.000000000 -0500
@@ -1,8 +1,8 @@
 """Utility functions used by generated kid modules.
 """
 
-__revision__ = "$Rev: 213 $"
-__date__ = "$Date: 2005-11-20 00:54:03 -0500 (Sun, 20 Nov 2005) $"
+__revision__ = "$Rev: 239 $"
+__date__ = "$Date: 2006-01-02 02:08:46 -0500 (Mon, 02 Jan 2006) $"
 __author__ = "Ryan Tomayko (rtomayko@gmail.com)"
 __copyright__ = "Copyright 2004-2005, Ryan Tomayko"
 __license__ = "MIT <http://www.opensource.org/licenses/mit-license.php>"
@@ -24,19 +24,22 @@
 class TemplateNotFound(Exception): pass
 
 _local_excludes = ['generate', 'module', 'pull', 'serialize', 'transform', 'write']
-def get_locals(inst):
+def get_locals(inst, _locals=None):
+    if _locals is None:
+        _locals = {}
     ls = []
+    local_excludes = _local_excludes # local copy
     for var, value in inspect.getmembers(inst):
-        if not var.startswith('_') and not var in _local_excludes:
-            ls.append('%s=self.%s' % (var,var))
+        if not var.startswith('_') and not var in local_excludes \
+                and var not in _locals:
+            ls.append('%s=self.%s' % (var, var))
     return ';'.join(ls)
 
 def get_base_class(thing, from_file):
     if thing is None or thing is kid.BaseTemplate:
         cls = kid.BaseTemplate
-    elif isinstance(thing, (str, unicode)):
+    elif isinstance(thing, basestring):
         path = kid.path.find(thing, from_file)
-        #path = abspath(join(dirname(from_file), normpath(thing)))
         cls = kid.load_template(path).Template
     elif isinstance(thing, TypeType):
         cls = thing
@@ -51,25 +54,22 @@
         return {}
     if encoding is None:
         encoding = sys.getdefaultencoding()
-    del_attrs = []
 
-    for (k,v) in attrib.items():
+    for (k, v) in attrib.items():
         if isinstance(v, list):
             ls = [to_unicode(i, encoding) for i in v if i is not None]
             if not ls:
-                del_attrs.append(k)
+                del attrib[k]
             else:
                 attrib[k] = ''.join(ls)
         else:
             attrib[k] = to_unicode(v, encoding)
-    for k in del_attrs:
-        del attrib[k]
     return attrib
 
 def generate_content(content, parent=None):
     if content is None:
         return []
-    if isinstance(content, (str, unicode)):
+    if isinstance(content, basestring):
         return [(TEXT, content)]
     elif hasattr(content, 'tag') and hasattr(content, 'attrib'):
         return ElementStream(content)
diff -Naur kid-0.8/kid/template_util.pyc kid-0.8svn249/kid/template_util.pyc
--- kid-0.8/kid/template_util.pyc	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/template_util.pyc	2006-01-11 14:31:37.000000000 -0500
@@ -0,0 +1,39 @@
+m
+.Cc           @   s  d  Z  d Z d Z d Z d Z d Z d k l Z d k Z d k	 Z	 d k
+ l Z l Z d	 k l Z l Z l Z l Z d k Z d
+ k l Z l Z l Z l Z l Z l Z l Z l Z l Z l Z l Z l Z l  Z  l! Z! l" Z" l# Z# d e$ f d     YZ% d d d d d d g Z& d d  Z( d   Z) d d  Z* d d  Z+ d   Z, d   Z- d d d d d d d d  d! d" d# d$ d% d& d' g Z. d S((   s1   Utility functions used by generated kid modules.
+s   $Rev: 239 $s5   $Date: 2006-01-02 02:08:46 -0500 (Mon, 02 Jan 2006) $s!   Ryan Tomayko (rtomayko@gmail.com)s!   Copyright 2004-2005, Ryan Tomaykos8   MIT <http://www.opensource.org/licenses/mit-license.php>(   s
+   generatorsN(   s   TypeTypes
+   ModuleType(   s   joins   normpaths   abspaths   dirname(   s   XMLs   documents   ElementStreams   Elements
+   SubElements   Comments   ProcessingInstructions   STARTs   ENDs   TEXTs   START_NSs   COMMENTs   PIs   DOCTYPEs   XML_DECLs
+   to_unicodet   TemplateNotFoundc           B   s   t  Z RS(   N(   t   __name__t
+   __module__(    (    (    t:   /home/scott/scratch/kid/kid-0.8svn249/kid/template_util.pyR       s    t   generatet   modulet   pullt	   serializet	   transformt   writec         C   s   | d  j o
+ h  } n g  } t } xc t i |   D]R \ } } | i
+ d  o5 | | j o( | | j o | i d | | f  q3 q3 Wd i |  S(   Nt   _s
+   %s=self.%st   ;(   t   _localst   Nonet   lst   _local_excludest   local_excludest   inspectt
+   getmemberst   instt   vart   valuet
+   startswitht   appendt   join(   R   R   R   R   R   R   (    (    R   t
+   get_locals   s    
+ +c         C   s   |  d  j p |  t i j o t i } n t |  t  o+ t i i |  |  } t i
+ |  i } nH t |  t  o
+ |  } n. t |  t  o |  i } n t d |    | S(   Ns   Could not find template: %r(   t   thingR   t   kidt   BaseTemplatet   clst
+   isinstancet
+   basestringt   patht   findt	   from_filet   load_templatet   Templatet   TypeTypet
+   ModuleTypeR    (   R   R"   R    R   (    (    R   t   get_base_class&   s    
+c         C   s   |  d  j o h  Sn | d  j o t i   } n x |  i   D] \ } } t | t	  od g  } | D]' } | d  j	 o | t | |  qf qf ~ } | p |  | =q d i |  |  | <q? t | |  |  | <q? W|  S(   Nt    (   t   attribR   t   encodingt   syst   getdefaultencodingt   itemst   kt   vR   t   listt   _[1]t   it
+   to_unicodeR   R   (   R)   R*   R1   R2   R.   R   R/   (    (    R   t   make_attrib4   s     ;c         C   s   |  d  j o g  Sn t |  t  o t |  f g Sn t |  d  o t |  d  o t |   SnS t |  t  o d   } | |   Sn, t |  d  o |  Sn t t	 |   f g Sd  S(   Nt   tagR)   c         c   s<   x5 |  D]- } x$ t |  D] \ } } | | f Vq Wq Wd  S(   N(   R   R2   t   generate_contentt   evt   item(   R   R2   R8   R7   (    (    R   t   flattenM   s
+      t   __iter__(
+   t   contentR   R   R   t   TEXTt   hasattrt   ElementStreamR0   R9   t   unicode(   R;   t   parentR9   (    (    R   R6   E   s     	c         C   s3   x, |  i   D] } | | j o |  | =q q W|  S(   N(   t   namest   keyst   nst	   omit_list(   RA   RD   RC   (    (    R   t   filter_namesX   s
+     c         C   s  y t  d | | |  }	 Wnt t f j
+ oy d k l } Wn  t	 j
+ o d k l } n Xd k
+ l } d k l }
+ l } d g  g  } } } x{| | |  i  D]d} | d  \ } } | | j o'| d j o | d j o t |  d j o | d |
+ j o | d o t |  d j o` | d	 | j oO | d	 d
+ j o> | d |
+ j o- | d o" d d i | d  g | d )n d | d | d <d
+ } qqq| d j o | d 7} q| d j o | d j o | d 8} qn | i |  | i |  q Wt  d d i |  | |  }	 n XxH |	 i   D]: } |	 | d j o# |	 | =| |  j o |  | =qqHqHW|  i |	  |  S(   s3   Update dictionary a from keyword argument string s.s   dict(%s)(   s   StringIO(   s   generate_tokens(   s   NAMEs   OPi    i   t   =iit   :is   '%s'R(   s   ([{i   s   )]}s   {%s}N(   t   evalt   st   globalst   localst   bt	   TypeErrort   SyntaxErrort	   cStringIOt   StringIOt   ImportErrort   tokenizet   generate_tokenst   tokent   NAMEt   OPt   deptht   typest   stringst   readlinet   typet   stringt   lenR   R   RB   R.   R   t   at   update(   R^   RI   RJ   RK   RT   RS   R[   R\   RX   RL   RU   RP   R.   RW   RY   RV   (    (    R   t   update_dict^   sJ      /Q"$ t   XMLt   documentR>   t   Elementt
+   SubElementt   Commentt   ProcessingInstructiont   STARTt   ENDR<   t   START_NSt   COMMENTt   PIt   DOCTYPEt   XML_DECL(/   t   __doc__t   __revision__t   __date__t
+   __author__t   __copyright__t   __license__t
+   __future__t
+   generatorsR   R+   RX   R%   R&   t   os.pathR   t   normpatht   abspatht   dirnameR   t   kid.pullRa   Rb   R>   Rc   Rd   Re   Rf   Rg   Rh   R<   Ri   Rj   Rk   Rl   Rm   R3   t	   ExceptionR    R   R   R   R'   R4   R6   RE   R`   t   __all__((   R3   R'   R%   R<   Rl   R>   Rm   Ry   R   Rj   Ro   R|   R6   Ri   Ru   R&   Rb   Ra   Rh   Rs   Rx   R   Rq   R+   Rg   R    R   Rc   R4   R   Re   Rr   Rk   R   Rf   R`   RE   Rw   Rp   Rd   (    (    R   t   ?   s*   			g			/
\ No newline at end of file
diff -Naur kid-0.8/kid/test/__init__.pyc kid-0.8svn249/kid/test/__init__.pyc
--- kid-0.8/kid/test/__init__.pyc	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/test/__init__.pyc	2006-01-11 14:31:37.000000000 -0500
@@ -0,0 +1,11 @@
+m
+.Cc           @   s   d  Z  d Z d Z d Z d Z d Z d k Z d k l Z l	 Z	 l
+ Z
+ l Z e e
+ e e  d   Z e Z d	 Z d
+ d d d d d g Z d Z d Z d   Z d k l Z d d d d d g Z e d j o e   n d S(   s   Kid test package.s
+   $Rev: 59 $s5   $Date: 2005-02-16 15:43:38 -0500 (Wed, 16 Feb 2005) $s!   Ryan Tomayko (rtomayko@gmail.com)s!   Copyright 2004-2005, Ryan Tomaykos8   MIT <http://www.opensource.org/licenses/mit-license.php>N(   s   dirnames   basenames   joins   abspaths
+   ../../tests   test.t   test_namespacet	   test_pullt   test_compilert   test_parsert   test_kidt   test_serializationi    c          C   s@   d k  l } g  }  t D] } |  d | q ~  } | |  d  S(   N(   s	   run_testss   kid.test.%s(   t   kid.test.utilt	   run_testst   _[1]t   test_modulest   mt   tests(   R   R
+   R   R   (    (    t:   /home/scott/scratch/kid/kid-0.8svn249/kid/test/__init__.pyR      s    %(   s   dott   dotR   t   template_packaget
+   output_dirt   template_dirt   __main__(   t   __doc__t   __revision__t   __date__t
+   __author__t   __copyright__t   __license__t   ost   os.patht   dirnamet   basenamet   joint   abspatht   __file__R   R   R   R	   t   additional_testst   basic_testsR   R   R   t   __all__t   __name__(   R   R   R   R   R   R   R   R    R   R   R   R   R   R	   R   R   R   R   R!   (    (    R   t   ?   s$   		
\ No newline at end of file
diff -Naur kid-0.8/kid/test/test_comment.py kid-0.8svn249/kid/test/test_comment.py
--- kid-0.8/kid/test/test_comment.py	2005-12-02 01:57:38.000000000 -0500
+++ kid-0.8svn249/kid/test/test_comment.py	2006-01-11 11:14:35.000000000 -0500
@@ -1,12 +1,13 @@
 """Unit Tests for the XML comments."""
 
-__revision__ = "$Rev: 217 $"
+__revision__ = "$Rev: 228 $"
 __author__ = "David Stanek <dstanek@dstanek.com>"
 __copyright__ = "Copyright 2005, David Stanek"
 
 import os
 import py
 import kid
+from kid.serialization import serialize_doctype, doctypes
 
 tmpdir = py.test.ensuretemp("test_comments")
 kid.path.paths.insert(0, str(tmpdir))
@@ -40,3 +41,21 @@
     """
     t = kid.Template(file="page.kid")
     t.serialize()
+
+def test_comment_removal():
+    """Comments that start with an '!' character should not be output."""
+    t = kid.Template('<html><!-- !comment --></html>')
+    assert t.serialize(output='html') == \
+            serialize_doctype(doctypes['html']) + '\n<HTML></HTML>'
+    assert t.serialize(output='xhtml') == \
+            serialize_doctype(doctypes['xhtml']) + '\n<html></html>'
+    assert t.serialize(output='xml') == \
+            '<?xml version="1.0" encoding="utf-8"?>\n<html />'
+
+    t = kid.Template('<html><!--!comment--></html>')
+    assert t.serialize(output='html') == \
+            serialize_doctype(doctypes['html']) + '\n<HTML></HTML>'
+    assert t.serialize(output='xhtml') == \
+            serialize_doctype(doctypes['xhtml']) + '\n<html></html>'
+    assert t.serialize(output='xml') == \
+            '<?xml version="1.0" encoding="utf-8"?>\n<html />'
diff -Naur kid-0.8/kid/test/test_compiler.pyc kid-0.8svn249/kid/test/test_compiler.pyc
--- kid-0.8/kid/test/test_compiler.pyc	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/test/test_compiler.pyc	2006-01-11 14:31:37.000000000 -0500
@@ -0,0 +1,17 @@
+m
+.Cc           @   s   d  Z  d Z d Z d Z d Z d Z d k Z d k Z d k l	 Z	 l
+ Z
+ l Z d k Z d k Z d k Z e i i i Z d   Z d	   Z d
+   Z d   Z d   Z d   Z e e e g Z d S(   s   kid package tests.s
+   $Rev: 59 $s5   $Date: 2005-02-16 15:43:38 -0500 (Wed, 16 Feb 2005) $s!   Ryan Tomayko (rtomayko@gmail.com)s!   Copyright 2004-2005, Ryan Tomaykos8   MIT <http://www.opensource.org/licenses/mit-license.php>N(   s   joins   dirnames   existsc         C   s   t  i i i |   d  S(   N(   t   kidt   testt   test_kidt   setup_modulet   module(   R   (    (    t?   /home/scott/scratch/kid/kid-0.8svn249/kid/test/test_compiler.pyR      s    c         C   s   t  i i i |   d  S(   N(   R    R   R   t   teardown_moduleR   (   R   (    (    R   R      s    c         C   s`   t  |  d  p t  t  |  d  p t  t  |  d  p t  t  |  d  p t  d  S(   Nt   pullt   generatet   writet	   serialize(   t   hasattrt   tt   AssertionError(   R   (    (    R   t   assert_template_interface   s    c          C   s>   t  i   d  k }  t |  i  t i i d  p t	  d  S(   Ns   test.test_if(
+   R    t   enable_importt   test.test_ifR   R   t   test_ift   syst   modulest   has_keyR   (   R   (    (    R   t   test_import_hook   s    
+	c          C   sy   d k  l }  t i   t t |  d   p t  d  k } t t |  d   p t  t	 i
+ i d  p t  d  S(   N(   s   template_dirs   test_content.pycs   test.test_content(   t   kid.testt   template_dirR    R   t   existst   joinR   t   test.test_contentR   R   R   R   (   R   R   (    (    R   t   test_pyc_generation$   s    
+	c          C   s   d k  l } l } t i   d  k i } | i }  t
+ | d  } |  d d d d  } | i   } x | D] } qi W| i |  t |  d  S(   N(   s   template_dirs
+   output_dirs   context.outt   fooi
+   t   bars   bla bla(   R   R   t
+   output_dirR    R   t   test.contextt   contextt   ct   Templatet   CR   t   outR   R   t   itt   eR	   t   check_test_file(   R#   R   R!   R   R   R%   R&   R$   (    (    R   t   test_import_and_expand.   s    
+	 (   t   __doc__t   __revision__t   __date__t
+   __author__t   __copyright__t   __license__t   osR   t   os.pathR   t   dirnameR   R    t   kid.compilert   kid.test.test_kidR   R   R'   R   R   R   R   R   R(   t	   __tests__(   R   R-   R*   R   R   R.   R'   R   R   R(   R   R,   R+   R4   R   R1   R/   R   R    (    (    R   t   ?   s&   										
+	
\ No newline at end of file
diff -Naur kid-0.8/kid/test/test_kid.py kid-0.8svn249/kid/test/test_kid.py
--- kid-0.8/kid/test/test_kid.py	2005-11-20 00:49:40.000000000 -0500
+++ kid-0.8svn249/kid/test/test_kid.py	2006-01-11 11:14:35.000000000 -0500
@@ -188,6 +188,15 @@
     for elm1, elm2 in zip(ch1, ch2):
         diff_elm(elm1, elm2)
 
+def test_string_templates():
+    """Test for bug reported it ticket #70 where collisions occured in
+    templates created with a string.
+    """
+    t1 = kid.Template(source="<xx/>")
+    t2 = kid.Template(source="<yy/>")
+    assert str(t1) ==  '<?xml version="1.0" encoding="utf-8"?>\n<xx />'
+    assert str(t2) ==  '<?xml version="1.0" encoding="utf-8"?>\n<yy />'
+
 __tests__ = [test_import_and_expand,
              test_import_template_func,
              test_load_template_func,
diff -Naur kid-0.8/kid/test/test_kid.pyc kid-0.8svn249/kid/test/test_kid.pyc
--- kid-0.8/kid/test/test_kid.pyc	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/test/test_kid.pyc	2006-01-11 14:31:37.000000000 -0500
@@ -0,0 +1,45 @@
+m
+.Cc           @   sv  d  Z  d Z d Z d Z d Z d Z d k Z d k Z d k l	 Z	 l
+ Z
+ l Z d k l Z d	 k l Z d k Z d k Z d
+ k Td k i Z d   Z d   Z d   Z d   Z d   Z d   Z d   Z d   Z d   Z d   Z d   Z d   Z d   Z  d   Z! d   Z" d   Z# d   Z$ d   Z% d d  Z& d   Z' e e e e e e e e e  e! e" e# e$ g Z( d S(    s   kid package tests.s
+   $Rev: 59 $s5   $Date: 2005-02-16 15:43:38 -0500 (Wed, 16 Feb 2005) $s!   Ryan Tomayko (rtomayko@gmail.com)s!   Copyright 2004-2005, Ryan Tomaykos8   MIT <http://www.opensource.org/licenses/mit-license.php>N(   s   dirnames   abspaths   join(   s   glob(   s   StringIO(   t   *c          C   sj   d d g } x* t t t d   D] }  t i |   q" Wx* t t t d   D] }  t i |   qO Wd  S(   Ns   __init__.pys	   blocks.pys   *.outs   *.pyc(   t
+   dont_cleant   globt   joinpatht
+   output_dirt   ft   ost   unlinkt   template_dir(   R   R   (    (    t:   /home/scott/scratch/kid/kid-0.8svn249/kid/test/test_kid.pyt   cleanup   s      c         C   s   t    d  S(   N(   R
+   (   t   module(    (    R	   t   setup_module   s    c         C   s"   t  i i d  p t   n d  S(   Nt   KID_NOCLEANUP(   R   t   environt   getR
+   (   R   (    (    R	   t   teardown_module    s    c         C   s`   t  |  d  p t  t  |  d  p t  t  |  d  p t  t  |  d  p t  d  S(   Nt   pullt   generatet   writet	   serialize(   t   hasattrt   tt   AssertionError(   R   (    (    R	   t   assert_template_interface$   s    c          C   s{   t  i   d  k i }  |  i } t t d  } | d d d d  } | i   } x | D] } qV W| i |  t |  d  S(   Ns   context.outt   fooi
+   t   bars   bla bla(   t   kidt   enable_importt   test.contextt   contextt   ct   Templatet   CR   R   t   outR   R   t   itt   eR   t   check_test_file(   R   R$   R!   R   R#   R"   (    (    R	   t   test_import_and_expand*   s    
+	 c          C   s^   t  i i t d  p t  t i t d  }  t |   t  i i t d  p t  d  S(   Nt   test_def(	   t   syst   modulest   has_keyt   template_packageR   R   t   import_templateR   R   (   R   (    (    R	   t   test_import_template_func6   s    
+c          C   s   t  i t t d  d d d d } t |  t  i t t d  d t d d d }  | |  j	 p t  t  i t t d  d t d d d } | |  j p t  d  S(   Ns   test_if.kidt   namet    t   cachei    t   test_ifi   (
+   R   t   load_templateR   R   R   R   R+   t   t2R   t   t3(   R3   R4   R   (    (    R	   t   test_load_template_func<   s    $
+
+
+c          C   s>   t  i d t d  }  t |   t |  t  i  p t  d  S(   NR.   R1   (   R   R    R+   R   R   t
+   isinstancet   BaseTemplateR   (   R   (    (    R	   t   test_template_funcH   s    
+c          C   sC   d   }  |  t i d t d   |  t i t t d    d  S(   Nc         C   sH   xA |  i d d  D]- } | d  j	 o t |  d j p t  q Wd  S(   Nt   encodingt   asciii    (   t   oR   t   st   Nonet   lenR   (   R;   R<   (    (    R	   t   run_testN   s     R.   R1   s   test_if.kid(   R?   R   R    R+   R2   R   R   (   R?   (    (    R	   t   test_generate_funcM   s    	c          C   se   d f  d     Y} t i d t d  i d |    t i t t d   }  |  i d |    d  S(   Nt   FOc           B   s   t  Z d   Z RS(   Nc         C   s   d  S(   N(    (   t   selft   text(    (    R	   R   V   s    (   t   __name__t
+   __module__R   (    (    (    R	   RA   U   s   R.   R1   t   files   test_if.kid(	   RA   R   R    R+   R   R2   R   R   t   m(   RG   RA   (    (    R	   t   test_write_funcT   s    #c          C   sC   d   }  |  t i d t d   |  t i t t d    d  S(   Nc         C   sv   |  i d d  } | d  j	 o t |  d j p t  |  i d d  } | d  j	 o t |  d j p t  d  S(   NR9   s   utf-8i    R:   (   R;   R   R"   R=   R>   R   (   R;   R"   (    (    R	   R?   ]   s    'R.   R1   s   test_if.kid(   R?   R   R    R+   R2   R   R   (   R?   (    (    R	   t   test_serialize_func\   s    	c          C   sO   d }  t i d |   } | i   i   } | |  j p t d | |  f  d  S(   Ns=   <?xml version="1.0" encoding="utf-8"?>
+<test><short /></test>RF   s   %r != %r(   RC   R   R    t   templateR   t   stript   actualR   (   RC   RL   RJ   (    (    R	   t   test_short_forme   s    c          C   s   d } t i d d d |  } | i d d  } | d j p t  d } t i d d d |  } | i d d  }  d	 } |  | j p t d
+ |  | f  d  S(   Nu&   some plain "text" with &amp; entities.t   sources   <p>${XML(text)}</p>RC   t   fragmenti   s-   <p>some plain "text" with &amp; entities.</p>s   something <p>something else</p>s&   <p>something <p>something else</p></p>s   %r != %r(	   RC   R   R    R   R   t   rsltR   RL   t   expected(   RL   RC   R   RQ   RP   (    (    R	   t   test_XML_func_fragmentn   s    c          C   s3   d }  t i d d d |   } t | i    GHd  S(   Nu   asdf  qwerRN   s   <p>${XML(s)}</p>R<   (   R<   R   R    R   t   reprR   (   R<   R   (    (    R	   t   test_XML_func_unicodez   s    c          C   s   d  k  } t i d d  } | i i d  | _ d }  | i	 d d  |  j p t
+  t i | i  GH| i	 d d  |  j p t
+  d  S(   NRN   s   <a>$xml</a>s    <b>some<c>nested</c>elements</b>s'   <a><b>some<c>nested</c>elements</b></a>RO   i   (   t   elementtree.ElementTreet   elementtreeR   R    R   t   ElementTreet
+   fromstringt   xmlRQ   R   R   t   dump(   RQ   RV   R   (    (    R	   t   test_dont_modify_trees   s    	 c          C   sA   t  i d d  } | i d d  }  |  GH|  d j p t  d  S(   NRN   s   <doc><!-- bla --></doc>RO   i   (   R   R    R   R   RP   R   (   RP   R   (    (    R	   t   test_comments   s    c          C   s   t  t t d   } xq | D]i }  yM |  d d !d } t i d |  d d  } d | _	 | i
+ |  t |  Wq d	 |  GH  q Xq Wd  S(
+   Ns
+   test_*.kidi    is   .outRF   R0   i   s   utf-8s   
+Template: %s(   R   R   R   t
+   test_filesR   R"   R   R    RJ   t   assume_encodingR   R%   (   R   RJ   R]   R"   (    (    R	   t   test_kid_files   s     		c         C   s   t  i i } t i |   i   } | i d j p t	  x | i
+ d  D] } | i d  } | i d  } | i d  d j o, t i | i  } | i |  d | _ n y t | | d d	 Wn t	 j
+ o
+   n	 X|   t  i i d
+ 7_ qH Wd  S(   Nt   testdoct   testt   attemptt   expectt   typeRC   R/   t	   diff_thisi    i   (   R   Ra   t   dotRW   t   parseRF   t   getroott   doct   tagR   t   findallR   t   findRb   Rc   R   t   XMLRC   t   appendt   diff_elmt   additional_tests(   RF   Rb   Ri   Rc   R   Rf   (    (    R	   R%      s"     i   c         C   sR  xZ |  | g D]L } | i o | i i   p d  | _ | i o | i i   p d  | _ q W| oR |  i | i j p t	  |  i
+ | i
+ j p t	  |  i | i j p t	  n | i } |  i } | | j p t	 d | | f  |  i   } | i   } t |  t |  j p t	  x* t | |  D] \ }  } t |  |  q1Wd  S(   Ns   %r != %r(   t   elm1t   elm2R$   t   tailRK   R=   RC   Re   Rj   R   t   attribRQ   RL   t   getchildrent   ch1t   ch2R>   t   zipRo   (   Rq   Rr   Re   R$   Rv   Rw   RL   RQ   (    (    R	   Ro      s"     #'		!  c          C   s\   t  i d d  } t  i d d  }  t |  d j p t  t |   d j p t  d S(   si   Test for bug reported it ticket #70 where collisions occured in
+    templates created with a string.
+    RN   s   <xx/>s   <yy/>s-   <?xml version="1.0" encoding="utf-8"?>
+<xx />s-   <?xml version="1.0" encoding="utf-8"?>
+<yy />N(   R   R    t   t1R3   t   strR   (   R3   Ry   (    (    R	   t   test_string_templates   s
+     ()   t   __doc__t   __revision__t   __date__t
+   __author__t   __copyright__t   __license__R   R(   t   os.patht   dirnamet   abspatht   joinR   R   t   StringIOR   t   kid.testt   kid.ett   etRW   R
+   R   R   R   R&   R-   R5   R8   R@   RH   RI   RM   RR   RT   R[   R\   R_   R%   Ro   R{   t	   __tests__(#   RM   R   R[   R   R5   RI   RW   RT   R}   R%   R
+   RR   R   R-   R8   R_   R\   R   RH   R   R   R   R   R(   R   R   R   R   R&   R~   R@   Ro   R{   R   R   (    (    R	   t   ?   sD   			
+																						
\ No newline at end of file
diff -Naur kid-0.8/kid/test/test_match.py kid-0.8svn249/kid/test/test_match.py
--- kid-0.8/kid/test/test_match.py	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/test/test_match.py	2006-01-11 11:14:35.000000000 -0500
@@ -0,0 +1,108 @@
+"""Unit Tests for the template matching."""
+
+__revision__ = "$Rev: 243 $"
+__author__ = "David Stanek <dstanek@dstanek.com>"
+__copyright__ = "Copyright 2005, David Stanek"
+
+import os
+import py
+import kid
+from kid.serialization import serialize_doctype, doctypes
+
+tmpdir = py.test.ensuretemp("test_matching")
+kid.path.paths.insert(0, str(tmpdir))
+
+def test_match0():
+    tfile0 = tmpdir.join("match0_base.kid")
+    tfile0.write("""
+    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+    <html xmlns="http://www.w3.org/1999/xhtml"
+        xmlns:py="http://purl.org/kid/ns#">
+    
+        <head py:match="item.tag=='{http://www.w3.org/1999/xhtml}head'">
+            <meta content="text/html; charset=UTF-8"
+                http-equiv="content-type" py:replace="''" />
+            <title py:replace="''">Your title goes here</title>
+            <meta py:replace="item[:]" />
+        </head>
+    
+        <body py:match="item.tag=='{http://www.w3.org/1999/xhtml}body'">
+            <p align="center">
+                <img src="http://www.turbogears.org/tgheader.png" />
+            </p>
+            <div py:replace="item[:]" />
+        </body>
+    </html>
+    """)
+    tfile1 = tmpdir.join("match0_page.kid")
+    tfile1.write("""
+    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+    <html xmlns="http://www.w3.org/1999/xhtml"
+        xmlns:py="http://purl.org/kid/ns#" py:extends="'match0_base.kid'">
+        
+        <head>
+            <meta content="text/html; charset=UTF-8"
+                http-equiv="content-type" py:replace="''" />
+            <title>Welcome to TurboGears</title>
+        </head>
+        
+        <body>
+            <strong py:match="item.tag == '{http://www.w3.org/1999/xhtml}b'"
+                py:content="item.text.upper()" />
+                
+            <p>My Main page with <b>bold</b> text</p>
+        </body>
+    </html>
+    """)
+
+    t = kid.Template(file="match0_page.kid")
+    html = t.serialize()
+    assert '<title>Welcome to TurboGears</title>' in html
+    assert '<strong>BOLD</strong>' in html
+
+def test_match1():
+    tfile0 = tmpdir.join("match1_base.kid")
+    tfile0.write("""
+    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+    <html xmlns:py="http://purl.org/kid/ns#"
+         xmlns="http://www.w3.org/1999/xhtml" lang="en">
+
+        <head py:match="item.tag == '{http://www.w3.org/1999/xhtml}head'">
+            <title>Some title here</title>
+        </head>
+        
+        <span py:match="item.tag == '{http://www.w3.org/1999/xhtml}a' and item.get('href').startswith('http://') and 'noicon' not in str(item.get('class')).split(' ')" class="link-external" py:content="item"></span>
+        <span py:match="item.tag == '{http://www.w3.org/1999/xhtml}a' and item.get('href').startswith('mailto:') and 'noicon' not in str(item.get('class')).split(' ')" class="link-mailto" py:content="item"></span>
+        <span py:match="item.tag == '{http://www.w3.org/1999/xhtml}a' and item.get('href').startswith('/members/') and item.get('href').count('/') == 2 and 'noicon' not in str(item.get('class')).split(' ')" class="link-person" py:content="item"></span>
+
+        <body py:match="item.tag == '{http://www.w3.org/1999/xhtml}body'">
+            <div id="header">...</div>
+            <div py:replace="item[:]">Real content would go here.</div>
+            <div id="footer">...</div>
+        </body>
+    </html>
+    """)
+    tfile1 = tmpdir.join("match1_page.kid")
+    tfile1.write("""
+    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+    <html xmlns="http://www.w3.org/1999/xhtml"
+        xmlns:py="http://purl.org/kid/ns#" py:extends="'match1_base.kid'">
+        <head />
+        <body>
+            <p>This is a <a href="http://www.google.ca/">test link</a>,
+            or an <a href="mailto:foo@bar.baz">e-mail address</a>.</p>
+        </body>
+    </html>
+    """)
+
+    t = kid.Template(file="match1_page.kid")
+    html = t.serialize()
+    assert '<div id="header">...</div>' in html
+    assert '<span class="link-external"><a href="http://www.google.ca/">test link</a></span>' in html
+    assert '<span class="link-mailto"><a href="mailto:foo@bar.baz">e-mail address</a></span>' in html
+    assert '<div id="footer">...</div>' in html
+    assert '<div>Real content would go here.</div>' not in html
diff -Naur kid-0.8/kid/test/test_namespace.pyc kid-0.8svn249/kid/test/test_namespace.pyc
--- kid-0.8/kid/test/test_namespace.pyc	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/test/test_namespace.pyc	2006-01-11 14:31:37.000000000 -0500
@@ -0,0 +1,5 @@
+m
+.Cc           @   s:   d  Z  d Z d Z d Z d Z d Z d   Z e g Z d S(   s   kid.namespace tests.s
+   $Rev: 59 $s5   $Date: 2005-02-16 15:43:38 -0500 (Wed, 16 Feb 2005) $s!   Ryan Tomayko (rtomayko@gmail.com)s!   Copyright 2004-2005, Ryan Tomaykos8   MIT <http://www.opensource.org/licenses/mit-license.php>c          C   s   d k  l } | d d d d  }  |  i d j p t  |  d d j p t  |  i d  d j p t  | d d   }  |  i d j p t  |  d d j p t  |  i d  d j p t  d  S(	   N(   s	   Namespacet   uris   urn:testt   prefixt   tests   {urn:test}namet   names	   test:name(   t   kid.namespacet	   Namespacet   nsR   t   AssertionErrort   qnamet   None(   R   R   (    (    t@   /home/scott/scratch/kid/kid-0.8svn249/kid/test/test_namespace.pyt   test_namespace_module	   s    N(   t   __doc__t   __revision__t   __date__t
+   __author__t   __copyright__t   __license__R   t	   __tests__(   R   R   R   R   R   R   R   (    (    R
+   t   ?   s   	
\ No newline at end of file
diff -Naur kid-0.8/kid/test/test_parser.pyc kid-0.8svn249/kid/test/test_parser.pyc
--- kid-0.8/kid/test/test_parser.pyc	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/test/test_parser.pyc	2006-01-11 14:31:37.000000000 -0500
@@ -0,0 +1,25 @@
+m
+.Cc           @   st   d  Z  d Z d Z d Z d Z d Z d k Z d k l Z d   Z	 d	   Z
+ d
+   Z d   Z e	 e
+ e e g Z d S(   s   kid.parser tests.s
+   $Rev: 59 $s5   $Date: 2005-02-16 15:43:38 -0500 (Wed, 16 Feb 2005) $s!   Ryan Tomayko (rtomayko@gmail.com)s!   Copyright 2004-2005, Ryan Tomaykos8   MIT <http://www.opensource.org/licenses/mit-license.php>N(   s   ElementTreec          C   s  d k  l } d d d d g f d d d d g f d d f d d f d	 d
+ d g f d d
+ d g f d d d g f d d d g f d d d g f d d d g f d d
+ d d g f d d
+ d d g f d d
+ d d g f d d
+ d d g f d d d d g f d d  d! g f d" d# d$ g f d% d
+ d& d g f d' d
+ d& d g f d( d) f d* d* f g } x4 | D], \ }  } | |   } | | j p t  qXWd  S(+   N(   s   interpolates   foo ${bar} bazs   'foo 't   bars   ' baz's   foo $bar bazs   foo $${bar} bazs   foo $$bar bazs   ${foo} bar bazt   foos
+   ' bar baz's   $foo bar bazs   foo bar ${baz}s
+   'foo bar 't   bazs   foo bar $bazs   foo $${bar}${baz}s   'foo ${bar}'s   foo $$bar$bazs
+   'foo $bar's   ${foo} bar ${baz}s   ' bar 's   $foo bar $bazs   ${foo}$${bar}${baz}s   '${bar}'s   $foo$$bar$bazs   '$bar's   foo $object.attr bars   object.attrs   ' bar's   $ foo ${bar baz}s   '$ foo 's   bar bazs   foo$ ${bar.baz}s   'foo$ 's   bar.bazs   $foo $100 $bars   ' $100 's   $foo $$100 $bars   $$foos   $foot    (   t
+   kid.parsert   interpolatet   testst   testt   expectt   actualt   AssertionError(   R   R   R	   R   R   (    (    t=   /home/scott/scratch/kid/kid-0.8svn249/kid/test/test_parser.pyt   test_interpolate_expr   s     E c          C   sW   d k  l } | d  }  t |   d j p t  t | d   d j p t  d  S(   N(   s   interpolates   foo ${bar} bazs   ['foo ', bar, ' baz']s   $foos   [foo](   R   R   t   exprt   reprR
+   (   R   R   (    (    R   t   test_interpolate_object(   s    c          C   s   d k  l }  d k l } xd |  D]\ \ } } t | | i     } d i	 |  } | | j o d | GHd | GHd  q! q! Wd  S(   N(   s   blocks(   s   _adjust_python_blocks   
+s   Expected: %rs   Got: %rs   test_adjust_block failed.(
+   t   test.blockst   blocksR   t   _adjust_python_blockR   R   t   listt
+   splitlinest   rsltt   join(   R   R   R   R   R   (    (    R   t   test_adjust_block0   s     		c           B   s    d d Ue  d j p t  d S(   s   Guido may break this some day..s   x = 10Ni
+   (   t   xR
+   (    (    (    R   t   test_exec_hack;   s     (   t   __doc__t   __revision__t   __date__t
+   __author__t   __copyright__t   __license__t   kidt   elementtreet   ElementTreeR   R   R   R   t	   __tests__(   R   R   R   R   R   R   R   R   R   R"   R#   R    (    (    R   t   ?   s   					
\ No newline at end of file
diff -Naur kid-0.8/kid/test/test_pull.pyc kid-0.8svn249/kid/test/test_pull.pyc
--- kid-0.8/kid/test/test_pull.pyc	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/test/test_pull.pyc	2006-01-11 14:31:37.000000000 -0500
@@ -0,0 +1,7 @@
+m
+.Cc           @   sH   d  Z  d Z d Z d Z d Z d Z d k Td k Td   Z e g Z	 d S(	   s   kid.pull testss
+   $Rev: 59 $s5   $Date: 2005-02-16 15:43:38 -0500 (Wed, 16 Feb 2005) $s!   Ryan Tomayko (rtomayko@gmail.com)s!   Copyright 2004-2005, Ryan Tomaykos8   MIT <http://www.opensource.org/licenses/mit-license.php>(   t   *c          C   so   t  d d d }  |  i   }  |  i d j p t  |  d i d j p t  |  d i d j p t  d  S(   Ns   <doc><hello>world</hello></doc>t   fragmenti    t   doct   hellot   world(   t   XMLR   t   expandt   tagt   AssertionErrort   text(   R   (    (    t;   /home/scott/scratch/kid/kid-0.8svn249/kid/test/test_pull.pyt   test_expand   s
+    N(
+   t   __doc__t   __revision__t   __date__t
+   __author__t   __copyright__t   __license__t   kid.ett   kid.pullR   t	   __tests__(   R   R   R   R   R   R   R   (    (    R
+   t   ?   s   	
\ No newline at end of file
diff -Naur kid-0.8/kid/test/test_scope.py kid-0.8svn249/kid/test/test_scope.py
--- kid-0.8/kid/test/test_scope.py	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/test/test_scope.py	2006-01-11 11:14:35.000000000 -0500
@@ -0,0 +1,28 @@
+"""Unit Tests for Python scope."""
+
+__revision__ = "$Rev: 227 $"
+__author__ = "David Stanek <dstanek@dstanek.com>"
+__copyright__ = "Copyright 2005, David Stanek"
+
+import py
+import kid
+
+tmpdir = py.test.ensuretemp("test_scope")
+kid.path.paths.insert(0, str(tmpdir))
+
+def test_scope_101():
+    """Test for scoping issue reported in ticket #101.
+    
+    Parameters passed into the Template constructor override the
+    parameters of functions created with py:def.
+    """
+    
+    tfile = tmpdir.join("scope.kid")
+    tfile.write("""
+        <foo xmlns:py="http://purl.org/kid/ns#">
+            <bar py:def="foo(bar)" py:content="bar"/>
+            <bar py:replace="foo(0)" />
+        </foo>
+    """)
+    t = kid.Template(file="scope.kid", bar=1)
+    assert "<bar>0</bar>" in t.serialize()
diff -Naur kid-0.8/kid/test/test_serialization.py kid-0.8svn249/kid/test/test_serialization.py
--- kid-0.8/kid/test/test_serialization.py	2005-03-14 19:18:48.000000000 -0500
+++ kid-0.8svn249/kid/test/test_serialization.py	2006-01-11 11:14:35.000000000 -0500
@@ -22,6 +22,17 @@
     print rslt
     assert rslt == expected
     
+def test_xhtml_output_method():
+    t = kid.Template('<html xmlns="http://www.w3.org/1999/xhtml">'
+            '<p>test</p><img src="some.gif" /><br /></html>')
+    rslt = t.serialize(output='xhtml')
+    expected = serialize_doctype(doctypes['xhtml']) \
+               + '\n<html xmlns="http://www.w3.org/1999/xhtml"><p>test</p>' \
+               + '<img src="some.gif" /><br /></html>'
+    
+    print rslt
+    assert rslt == expected
+    
 def test_html_strict_output_method():
     t = kid.Template('<html><p>test</p><br /></html>')
     rslt = t.serialize(output='html-strict')
@@ -123,6 +134,22 @@
     rslt = t.serialize()
     assert rslt == expected
 
+def test_comment_whitespace():
+    """Ticket #107 reported an issue where comments add an additional
+    newline.
+    """
+    expected = '<?xml version="1.0" encoding="utf-8"?>\n<html>\n' \
+            '<!-- a comment -->\n<element />\n</html>'
+    assert kid.Template(expected).serialize(output='xml') == expected
+
+    expected = serialize_doctype(doctypes['html']) + '\n<HTML>\n' \
+            '<!-- a comment -->\n<ELEMENT>\n</ELEMENT>\n</HTML>'
+    assert kid.Template(expected).serialize(output='html') == expected
+
+    expected = serialize_doctype(doctypes['xhtml']) + '\n<html>\n' \
+            '<!-- a comment -->\n<element>\n</element>\n</html>'
+    assert kid.Template(expected).serialize(output='xhtml') == expected
+
 __tests__ = [test_xml_output_method,
              test_html_output_method,
              test_html_strict_output_method,
diff -Naur kid-0.8/kid/test/test_serialization.pyc kid-0.8svn249/kid/test/test_serialization.pyc
--- kid-0.8/kid/test/test_serialization.pyc	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/test/test_serialization.pyc	2006-01-11 14:31:38.000000000 -0500
@@ -0,0 +1,51 @@
+m
+.Cc        
+   @   s'  d  Z  d Z d Z d Z d Z d Z d k Z d k l Z d k	 l
+ Z
+ l Z e e  Z d	   Z d
+   Z d   Z d   Z d k	 l Z e   Z d e _ d e _ d   Z d   Z d   Z d   Z d   Z d   Z d k Z d   Z d   Z d   Z  e e e e e e e e e e g
+ Z! d S(   s   kid.serialization tests.s
+   $Rev: 59 $s5   $Date: 2005-02-16 15:43:38 -0500 (Wed, 16 Feb 2005) $s!   Ryan Tomayko (rtomayko@gmail.com)s!   Copyright 2004-2005, Ryan Tomaykos8   MIT <http://www.opensource.org/licenses/mit-license.php>N(   s   xhtml(   s   serialize_doctypes   doctypesc          C   sR   t  i d  }  |  i d d  } t t d  d } | GH| | j p t  d  S(   Ns   <html><p>test</p><br /></html>t   outputt   htmls   
+<HTML><P>test</P><BR></HTML>(	   t   kidt   Templatet   tt	   serializet   rsltt   serialize_doctypet   doctypest   expectedt   AssertionError(   R   R	   R   (    (    tD   /home/scott/scratch/kid/kid-0.8svn249/kid/test/test_serialization.pyt   test_html_output_method   s
+    c          C   sV   t  i d  }  |  i d d  } t t d  d d } | GH| | j p t  d  S(   NsY   <html xmlns="http://www.w3.org/1999/xhtml"><p>test</p><img src="some.gif" /><br /></html>R    t   xhtmls7   
+<html xmlns="http://www.w3.org/1999/xhtml"><p>test</p>s#   <img src="some.gif" /><br /></html>(	   R   R   R   R   R   R   R   R	   R
+   (   R   R	   R   (    (    R   t   test_xhtml_output_method   s
+    c          C   sR   t  i d  }  |  i d d  } t t d  d } | GH| | j p t  d  S(   Ns   <html><p>test</p><br /></html>R    s   html-stricts   
+<HTML><P>test</P><BR></HTML>(	   R   R   R   R   R   R   R   R	   R
+   (   R   R	   R   (    (    R   t   test_html_strict_output_method$   s
+    c          C   sD   t  i d  } | i d d  } d }  | GH| |  j p t  d  S(   Ns   <html><p>test</p><br/></html>R    t   xmlsE   <?xml version="1.0" encoding="utf-8"?>
+<html><p>test</p><br /></html>(   R   R   R   R   R   R	   R
+   (   R	   R   R   (    (    R   t   test_xml_output_method-   s
+    (   s   HTMLSerializeri    c         K   s"   t  i d |  |  } t | _ | S(   Nt   source(   R   R   t   textt   kwR   t
+   serializer(   R   R   R   (    (    R   t   HTMLTemplate;   s    	c          C   s9   t  d t  } | i   }  |  GH|  d j p t  d  S(   Ns   <html xmlns='%s'><br/></html>s   <HTML><BR></HTML>(   R   t   xhtml_namespaceR   R   R   R
+   (   R   R   (    (    R   t   test_html_empty_elements@   s    c          C   s;   t  d  } d }  | i   } | GH| |  j p t  d  S(   NsN   <html><head><script><![CDATA[less than: < and amp: &]]></script></head></html>sB   <HTML><HEAD><SCRIPT>less than: < and amp: &</SCRIPT></HEAD></HTML>(   R   R   R	   R   R   R
+   (   R	   R   R   (    (    R   t   test_html_noescape_elementsF   s
+    c          C   s?   t  d t  } d }  | i   } | GH| |  j p t  d  S(   Ns9   <html xmlns='%s'><option selected='1'>Bla</option></html>s*   <HTML><OPTION SELECTED>Bla</OPTION></HTML>(   R   R   R   R	   R   R   R
+   (   R	   R   R   (    (    R   t   test_html_boolean_attributesO   s
+    c          C   sn   t    } t d | _ d | _ t i d d  }  | |  _ d } | GH|  i	   } | GH| | j p t  d  S(   Ns   html-stricti   R   s   <html><head /></html>s   <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
+<HTML><HEAD><META CONTENT="text/html; charset=utf-8" HTTP-EQUIV="Content-Type"></HEAD></HTML>(   t   HTMLSerializerR   R   t   doctypet   inject_typeR   R   R   R	   R   R   R
+   (   R   R	   R   R   (    (    R   t   test_doctype_and_injectionW   s    			c          C   se   t    } t d | _ t i d d  }  | |  _ d } | GH|  i   } | GH| | j p t
+  d  S(   Ns   html-strictR   s    <html xml:lang='en' lang='en' />sr   <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
+<HTML LANG="en"></HTML>(   R   R   R   R   R   R   R   R	   R   R   R
+   (   R   R	   R   R   (    (    R   t   test_strip_langf   s    		c          C   sl   t    } d  | _ d | _ t i | _ t i	 d d  }  | |  _ d } |  i   } | | j p t  d  S(   Ni    R   s   <HTML><HEAD /></HTML>s   <html><head></head></html>(   R   R   t   NoneR   R   t   stringt   lowert	   transposeR   R   R   R	   R   R   R
+   (   R   R	   R   R   (    (    R   t   test_transpose_lowers   s    				c          C   si   t    } d  | _ d | _ d  | _ t i d d  }  | |  _ d } |  i
+   } | | j p t  d  S(   Ni    R   s   <HTML><HEAD /></HTML>s   <HTML><HEAD></HEAD></HTML>(   R   R   R    R   R   R#   R   R   R   R	   R   R   R
+   (   R   R	   R   R   (    (    R   t   test_transpose_off~   s    					c          C   s   d }  t i |   i d d  |  j p t  t t d  d }  t i |   i d d  |  j p t  t t d  d }  t i |   i d d  |  j p t  d S(	   sP   Ticket #107 reported an issue where comments add an additional
+    newline.
+    sT   <?xml version="1.0" encoding="utf-8"?>
+<html>
+<!-- a comment -->
+<element />
+</html>R    R   R   s7   
+<HTML>
+<!-- a comment -->
+<ELEMENT>
+</ELEMENT>
+</HTML>R   s7   
+<html>
+<!-- a comment -->
+<element>
+</element>
+</html>N(   R	   R   R   R   R
+   R   R   (   R	   (    (    R   t   test_comment_whitespace   s     ))("   t   __doc__t   __revision__t   __date__t
+   __author__t   __copyright__t   __license__R   t   kid.namespaceR   t   kid.serializationR   R   t   strR   R   R   R   R   R   R   R    R   R   R   R   R   R   R   R   R!   R$   R%   R&   t	   __tests__(   R%   R   R   R!   R&   R(   R,   R   R   R0   R   R   R   R   R   R   R   R*   R$   R   R   R+   R   R   R)   R   R   (    (    R   t   ?   s8   																						
\ No newline at end of file
diff -Naur kid-0.8/kid/test/test_templatepath.py kid-0.8svn249/kid/test/test_templatepath.py
--- kid-0.8/kid/test/test_templatepath.py	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/test/test_templatepath.py	2006-01-11 11:14:35.000000000 -0500
@@ -0,0 +1,117 @@
+"""
+Unit tests for the kid.TemplatePath class.
+
+The testing directory structure looks something like this:
+
+::
+    test_templatepath0/
+                      /index.kid
+                     /members/
+                             /index.kid
+                             /stuff.kid
+                             /master.kid
+                     /nonmembers/
+                             /index.kid
+                             /garbage.kid
+                             /master.kid
+                     /shared/
+                            /message.kid
+                            /error.kid
+                            /errors/
+                                   /error1.kid
+                                   /error2.kid
+                                   /error3.kid
+    test_templatepath1/
+                      /index.kid
+                      /master.kid
+                     /members/
+                             /master.kid
+                             /stuff.kid
+"""
+
+from os.path import join
+import py
+import kid
+
+kfind = kid.path.find
+
+tmpdir0 = None
+tmpdir1 = None
+files = {}
+
+def setup_module(m):
+    """Create a testing directory structure."""
+    global files, tmpdir0, tmpdir1
+
+    def _create(dir, files):
+        """Create files."""
+        for file in files:
+            dir.join(file).write("nothing")
+
+    # create the directory structure
+    tmpdir0 = py.test.ensuretemp("test_templatepath0")
+    _create(tmpdir0, ["index.kid"])
+
+    members = tmpdir0.mkdir("members")
+    _create(members, ["index.kid", "stuff.kid", "master.kid"])
+
+    nonmembers = tmpdir0.mkdir("nonmembers")
+    _create(nonmembers, ["index.kid", "garbage.kid", "master.kid"])
+
+    shared = tmpdir0.mkdir("shared")
+    _create(shared, ["message.kid", "error.kid"])
+
+    errors = shared.mkdir("errors")
+    _create(errors, ["error1.kid", "error2.kid", "error3.kid"])
+
+    tmpdir1 = py.test.ensuretemp("test_templatepath1")
+    _create(tmpdir1, ["index.kid", "indexz.kid", "master.kid"])
+
+    members = tmpdir1.mkdir("members")
+    _create(members, ["stuff.kid", "master.kid"])
+
+    tmpdir0 = str(tmpdir0)
+    kid.path.append(tmpdir0)
+    tmpdir1 = str(tmpdir1)
+    kid.path.append(tmpdir1)
+
+def test_simple_file_in_root():
+    assert kfind("index.kid") == join(tmpdir0, "index.kid")
+    assert kfind("indexz.kid") == join(tmpdir1, "indexz.kid")
+
+def test_file_in_directory():
+    assert kfind("members/index.kid") == join(tmpdir0, "members/index.kid")
+
+    path = "shared/errors/error1.kid"
+    assert kfind(path) == join(tmpdir0, path)
+
+def test_no_exist():
+    assert kfind("noexist.kid") == None
+
+def test_find_relative():
+    rel = join(tmpdir0, "shared/error.kid")
+    expected = join(tmpdir0, "shared/message.kid")
+    assert kfind("message.kid", rel=rel) == expected
+
+    rel = join(tmpdir0, "nonmembers/stuff.kid")
+    expected = join(tmpdir0, "nonmembers/master.kid")
+    assert kfind("master.kid", rel=rel) == expected
+
+def test_mod_python_bug():
+    """This recreates the problem reported in tickit #110."""
+    
+    tmpdir = py.test.ensuretemp("test_templatepath")
+    tmpdir.join("test.kid").write("nothing")
+    tmpdir.join("base.kid").write("nothing")
+    assert kfind("base.kid", rel=join(str(tmpdir), "test.kid")) \
+            == join(str(tmpdir), "base.kid")
+
+def test_find_relative_extended():
+    rel = join(tmpdir0, "shared/errors/error1.kid")
+    expected = join(tmpdir0, "shared/message.kid")
+    assert kfind("../message.kid", rel=rel) == expected
+
+def test_bad_relative():
+    rel = join(tmpdir1, "members/stuff.kid")
+    expected = join(tmpdir1, "members/master.kid")
+    assert kfind("master.kid", rel=rel) == expected
diff -Naur kid-0.8/kid/test/util.pyc kid-0.8svn249/kid/test/util.pyc
--- kid-0.8/kid/test/util.pyc	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/test/util.pyc	2006-01-11 14:31:37.000000000 -0500
@@ -0,0 +1,41 @@
+m
+.Cc           @   s   d  Z  d Z d Z d Z d Z d Z d k Z d k Z d k Z d k	 Z
+ y d k l Z Wn  e j
+ o d k l Z n Xd f  d	     YZ d
+   Z d   Z d d  Z d S(   s   Utility stuff for tests..s
+   $Rev: 59 $s5   $Date: 2005-02-16 15:43:38 -0500 (Wed, 16 Feb 2005) $s!   Ryan Tomayko (rtomayko@gmail.com)s!   Copyright 2004-2005, Ryan Tomaykos8   MIT <http://www.opensource.org/licenses/mit-license.php>N(   s   StringIOt   stdoldc           B   s    t  Z d  Z e i Z e i Z RS(   s#   Original sys.stderr and sys.stdout.(   t   __name__t
+   __module__t   __doc__t   syst   stdoutt   outt   stderrt   err(    (    (    t6   /home/scott/scratch/kid/kid-0.8svn249/kid/test/util.pyR       s    	c           C   s   t  i i d  d  S(   Nt   .(   R    R   t   write(    (    (    R	   t   dot   s    c         C   sC   t  |   } |  i d  } x! | d D] } t | |  } q& W| S(   NR
+   i   (   t
+   __import__t   namet   modt   splitt
+   componentst   compt   getattr(   R   R   R   R   (    (    R	   t    come_on_guido_this_is_just_wrong   s     i   c         C   s  y t  i t i i  Wn@ t j
+ o4 t i   d } t	 | i
+  d j o   qZ n Xg  } d t i _ d } d k l } |   } x|  D]	} t |  }
+ t |
+ d  p d |  n t |
+ d  o |
+ i |
+  n x{|
+ i D]p} | d 7} t   t   t _ t _ y |   Wn2t t i   d t  } | o d p d	 } t   }	 t i  d
+ |	  t! i" i# |  | i$ | | t i   t i i%   t i i%   f f  | o t! i' t! i" t _ t _ t i i# d |  | d d d | d d d } } | o t i i# d |  n | o t i i# d |  n   qZq Xt)   q Wt! i' t! i" t _ t _ t |
+ d  o |
+ i* |
+  q q W|   } x | D] \ } } } \ } } t i i# d h  d d <d	 d <| | i, f  t i- | d | d | d d t i  | o t i i# d |  n | o t i i# d |  n t i i# d  qWt i i# d | t i i. | | f  d S(   sA   Run tests given a list of modules that export __test__ variables.i   i   i    (   s   timet	   __tests__s(   %r does not export a __tests__ variable.t   setup_modulet   Ft   Et   files    *(bailing after %d tests)*
+ii   s   -- sys.stdout:
+%s
+s   -- sys.stderr:
+%s
+t   teardown_modules   %s: %s
+t   Failuret   Errori   i   s   -- sys.stdout:
+ %s
+s   -- sys.stderr:
+ %s
+s   =========================
+s)   
+%d Tests (+%d extended) OK (%f seconds)
+N(/   t   ost   mkdirt   kidt   testt
+   output_dirt   OSErrorR   t   exc_infot   et   intt   errnot   badt   basic_testst   test_cntt   timet   startt   testst   module_nameR   R   t   hasattrR   R   t   StringIOR   R   t
+   isinstancet   AssertionErrort   asserrt   ftypet   buft	   tracebackt	   print_excR    R   R   t   appendt   getvaluet
+   stop_firstR   t   oR   R   t   doneR   t   print_exceptiont   additional_tests(   R,   R9   R;   R)   R+   R3   R    R2   R#   R4   R   R$   R:   R'   R*   R-   (    (    R	   t	   run_tests"   sr     	  
+ 
+ 	7%   	 3  (   R   t   __revision__t   __date__t
+   __author__t   __copyright__t   __license__R   R   R5   t   kid.testR   t	   cStringIOR/   t   ImportErrorR    R   R   R>   (   R   R   RB   R?   RC   R/   R5   R>   RA   R@   R    R   R   R   (    (    R	   t   ?   s"   						
\ No newline at end of file
diff -Naur kid-0.8/kid/util.pyc kid-0.8svn249/kid/util.pyc
--- kid-0.8/kid/util.pyc	1969-12-31 19:00:00.000000000 -0500
+++ kid-0.8svn249/kid/util.pyc	2006-01-11 14:31:37.000000000 -0500
@@ -0,0 +1,9 @@
+m
+.Cc           @   s<   d  e  f d     YZ d   Z d k l Z d d  Z d S(   t   QuickTextReaderc           B   s   t  Z d   Z d   Z RS(   Nc         C   s   | |  _  d  S(   N(   t   textt   self(   R   R   (    (    t1   /home/scott/scratch/kid/kid-0.8svn249/kid/util.pyt   __init__   s    c         C   s   |  i } d |  _ | S(   Nt    (   R   R   t   t(   R   t   amountR   (    (    R   t   read   s    		(   t   __name__t
+   __module__R   R   (    (    (    R   R       s   	c         C   sB   x; |  D]3 } | d j o q q | d j o d Sq d Sq Wd S(   se   Sniff text to see if it looks like XML.
+    Return 1 if text looks like XML, otherwise return 0.
+    s   	
+ t   <i   i    N(   R   t   x(   R   R   (    (    R   t	   xml_sniff
+   s      (   s	   splittypet   rbc         C   sh   t  |   \ } } | p# t |  d j o! | i d  o t |  |  Sn d k } | i	 |   Sd S(   s   Generic resource opener.i   s   \N(
+   t	   splittypet   urit   schemet   restt   lent
+   startswitht   opent   modet   urllib2t   urlopen(   R   R   R   R   R   (    (    R   t   open_resource   s     +	N(   t   objectR    R   t   urllibR   R   (   R   R   R   R    (    (    R   t   ?   s   		
\ No newline at end of file
diff -Naur kid-0.8/PKG-INFO kid-0.8svn249/PKG-INFO
--- kid-0.8/PKG-INFO	2005-12-02 03:02:18.000000000 -0500
+++ kid-0.8svn249/PKG-INFO	1969-12-31 19:00:00.000000000 -0500
@@ -1,27 +0,0 @@
-Metadata-Version: 1.0
-Name: kid
-Version: 0.8
-Summary: A simple and pythonic XML template language
-Home-page: http://kid.lesscode.org/
-Author: Ryan Tomayko
-Author-email: rtomayko@lesscode.org
-License: MIT
-Download-URL: http://kid.lesscode.org/dist/0.8/kid-0.8.tar.gz
-Description: Kid is a simple, Python-based template language for generating and
-        transforming XML vocabularies. Kid was spawned as a result of a kinky love
-        triangle between XSLT, TAL, and PHP. We believe many of the best features
-        of these languages live on in Kid with much of the limitations and
-        complexity stamped out (well, eventually :).
-Keywords: xml template html web
-Platform: UNKNOWN
-Classifier: Development Status :: 4 - Beta
-Classifier: Environment :: Console
-Classifier: Environment :: Web Environment
-Classifier: Intended Audience :: Developers
-Classifier: License :: OSI Approved :: MIT License
-Classifier: Operating System :: OS Independent
-Classifier: Programming Language :: Python
-Classifier: Topic :: Internet :: WWW/HTTP
-Classifier: Topic :: Internet :: WWW/HTTP :: Dynamic Content
-Classifier: Topic :: Software Development :: Libraries :: Python Modules
-Classifier: Topic :: Text Processing :: Markup :: XML
diff -Naur kid-0.8/README kid-0.8svn249/README
--- kid-0.8/README	2005-03-05 23:51:27.000000000 -0500
+++ kid-0.8svn249/README	2006-01-11 11:14:36.000000000 -0500
@@ -80,3 +80,4 @@
 * Ryan Tomayko (Primary author/contact and maintainer of the Kid project.)
 * Christoph Zwerschke (Coding)
 * Ross Burton (Debian package maintainer)
+* David Stanek (Coding)
diff -Naur kid-0.8/test/test_backward.kid kid-0.8svn249/test/test_backward.kid
--- kid-0.8/test/test_backward.kid	2005-02-28 19:41:50.000000000 -0500
+++ kid-0.8svn249/test/test_backward.kid	2006-01-11 11:14:35.000000000 -0500
@@ -1,5 +1,5 @@
 <?xml version='1.0' encoding='utf-8'?>
-<testdoc xmlns:py="http://naeblis.cx/ns/kid#">
+<testdoc xmlns:py="http://purl.org/kid/ns#">
   <test>
     <attempt py:content="'test'" />
     <expect>test</expect>
diff -Naur kid-0.8/test/test_content.kid kid-0.8svn249/test/test_content.kid
--- kid-0.8/test/test_content.kid	2005-11-20 00:41:24.000000000 -0500
+++ kid-0.8svn249/test/test_content.kid	2006-01-11 11:14:35.000000000 -0500
@@ -86,5 +86,15 @@
     <attempt>wrapped with ${unicode(msg2, 'iso8859-1')} other text</attempt>
     <expect>wrapped with &#xe2; other text</expect>
   </test>
+  
+  <test>
+    <attempt py:content="defined('fizzyfish')"></attempt>
+    <expect>False</expect>
+  </test>
+  
+  <test>
+    <attempt>${value_of("fizzyfish", "extra fizzy")}</attempt>
+    <expect>extra fizzy</expect>
+  </test>
 
 </testdoc>
