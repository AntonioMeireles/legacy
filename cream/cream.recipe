#
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Cream(PackageRecipe):

    name = 'cream'
    version = '0.38'

    buildRequires = [
        'desktop-file-utils:config', 'gtk:config', 'vim:runtime', 'which:runtime'
    ]

    def setup(r):

        r.addArchive('mirror://sourceforge/cream/')

        r.Replace('VRT=`.+`', 'VRT=%(datadir)s/vim/vim`vim --version | head -n 1 | cut -f5 -d" " | tr -d "."`',
                  'INSTALL.sh')
        r.Run("DESTDIR='%(destdir)s' /bin/sh INSTALL.sh %(prefix)s")

        r.SetModes('%(bindir)s/cream', 04755)

