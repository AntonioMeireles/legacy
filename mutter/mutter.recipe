#
# Copyright (c) 2009 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('gnomepackage')
class Mutter(GnomePackageRecipe):
    name = 'mutter'
    version = '2010.02.03'

    buildRequires = [
        'GConf:devel',
        'GConf:runtime',
        'ORBit2:devel',
        'clutter:devel',
        'desktop-file-utils:runtime',
        'gir-repository:data',
        'gobject-introspection:devellib',
        'gobject-introspection:runtime',
        'libXcomposite:devel',
        'libXcursor:devel',
        'libXdamage:devel',
        'libXfixes:devel',
        'libXrandr:devel',
        'startup-notification:devel',
        'zenity:runtime',
    ]

    GnomePackageRecipe.extraConfig += ' --with-clutter'
    gitUrl = 'git://git.gnome.org/mutter'
    def unpack (r):
        GnomePackageRecipe.unpack(r)
        r.macros.cflags += ' -fno-strict-aliasing'
