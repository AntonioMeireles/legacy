#
# Copyright (c) 2009 Filip Brcic <brcha@gna.org>
# Distributed under the terms of the GNU General Public License v3
#

class Djbfft(CPackageRecipe):
    name = 'djbfft'
    version = '0.76'

    buildRequires = []

    def setup(r):
    	
        r.addArchive('http://cr.yp.to/djbfft/')
        r.addPatch('djbfft-0.76-glibc2.4-1.patch')
        r.addPatch('djbfft-0.76-testsuite-1.patch')

        r.Replace('/usr/local/djbfft', '%(destdir)s%(prefix)s', 'conf-home')

        r.Replace('auto', 'ppro', 'conf-opt') # optimize for pentium pro (valid for 64bit as well)
	r.Make()
	r.Make('setup check')
