#
# Copyright (c) 2004-2005 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class VorbisTools(AutoPackageRecipe):
    name = 'vorbis-tools'
    version = '1.0.1'

    buildRequires = [ 'libogg:devel', 'libvorbis:devel',
                      # curl and libao are needed to build ogg123,
                      # without which vorbis's flac-related autoconf is broken
                      'curl:runtime', 'curl:devel', 'libao:devel', 'flac:devel' ]

    def unpack(r):
        r.addArchive('http://www.vorbis.com/files/%(version)s/unix/%(name)s-%(version)s.tar.gz')

        r.Replace('-O20', '%(cflags)s', 'configure')
        r.Replace('-ffast-math', '', 'configure')

