loadSuperClass('javapackage=conary.rpath.com@rpl:2-devel')
class MyApp(JavaPackageRecipe):
    name = 'blogbridge'
    version = '6.7'

    buildRequires = [ 'desktop-file-utils:runtime' ]

    def upstreamUnpack(r):
        r.addArchive('http://www.blogbridge.com/install/releases/',
            dir='/opt/%(name)s/')

        r.addSource('blogbridge.desktop')
        r.Desktopfile('blogbridge.desktop')

    def policy(r):
        r.SetModes('/opt/blogbridge/%(name)s-%(version)s/blogbridge.sh', 0755) 
        r.Requires(exceptDeps=r'java.*')
