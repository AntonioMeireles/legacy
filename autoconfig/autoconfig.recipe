#
# Copyright (c) 2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class AutoConfig(CPackageRecipe):

    buildRequires = [ 'glibc:devel', 'chkconfig:runtime' ]

    name = 'autoconfig'
    version = '0.1'

    def setup(r):
        r.addArchive('http://www.sidux.com/debian/pool/main/d/ddcxinfo-sidux/ddcxinfo-sidux_0.6.21.tar.gz')
        r.Make()
        r.MakeDirs('%(sbindir)s')
        r.Install('ddcxinfo-sidux', '%(sbindir)s/ddcxinfo')
        r.Remove('CHANGES','README')
        r.addSource('autoconfig.init', dest='%(initdir)s/autoconfig')
        r.addSource('autoconfig.sbin', dest='%(sbindir)s/autoconfig')
        r.addSource('mkxorgconfig', dest='%(sbindir)s/')
        r.addSource('xorg.conf.in', dest='%(sysconfdir)s/X11/')
