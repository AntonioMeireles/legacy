#
# Copyright (c) 2012 Adam Chasen (achasen@rpath.com)
#

class Mosh(AutoPackageRecipe):
    name = 'mosh'
    version = '1.1.3'

    buildRequires = [ 'boost:devel', 'autoconf:runtime',
                      'automake:runtime', 'gcc-c++:runtime',
                      'zlib:devel', 'utempter:devel',
                      'ncurses:devel', 'protobuf:devel',
                      'pkgconfig:devel', 'protobuf:runtime',
                      'perl:devel',]

    def unpack(r):
        r.addGitSnapshot('git://github.com/keithw/mosh.git',
                         tag='mosh-%(version)s')
        r.Run('autoreconf -fi')

    def policy(r):
        r.Requires('perl-IO-Tty:perl',
                   '%(bindir)s/')
