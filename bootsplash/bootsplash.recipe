# Gil Hamlin
# 2coolforschool@gmail.com
# 16th April 2005

class bootsplash(PackageRecipe):
    buildRequires = [ "glibc:devel" ]
    name = "bootsplash"
    version = "3.1"

    def setup(r):
        r.addArchive('ftp://ftp.openbios.org/pub/bootsplash/rpm-sources/%(name)s/%(name)s-%(version)s.tar.bz2')
        r.mainDir('%(name)s-%(version)s/Utilities/')
        r.Make('splash','splashpbm','fbresolution','fbtruetype','fbmngplay')
        r.Install('splash', '/sbin/')
        r.Install('splashpbm', '/sbin/')
        r.Install('fbresolution', '/sbin/')
        r.Install('fbtruetype', '/sbin/')
        r.Install('fbmngplay', '/sbin/')
        r.addSource('bootanim')
        r.Install('bootanim', '/sbin/', mode=0755)
	r.addSource('sysconfig.bootsplash')
        r.Install('sysconfig.bootsplash', '%(sysconfdir)s/sysconfig/bootsplash')
	r.addSource('init.bootsplash')
        r.Install('init.bootsplash', '%(initdir)s/bootsplash')

#       Install the splash screens

        r.addSource('bootsplash-1024x768.jpg')
        r.addSource('bootsplash-1024x768.cfg')
        r.addSource('silent-1024x768.jpg')
	r.addSource('animations.cfg')
	r.addSource('throbber.mng')
        r.Install('bootsplash-1024x768.jpg', '%(datadir)s/bootsplash/themes/FDL/images/')
        r.Install('bootsplash-1024x768.cfg', '%(datadir)s/bootsplash/themes/FDL/config/')
        r.Install('silent-1024x768.jpg', '%(datadir)s/bootsplash/themes/FDL/images/')
        r.Install('animations.cfg', '%(datadir)s/bootsplash/themes/FDL/config/')
        r.Install('throbber.mng', '%(datadir)s/bootsplash/themes/FDL/animations/')
        r.addSource('bootsplash-800x600.jpg')
        r.addSource('bootsplash-800x600.cfg')
        r.addSource('silent-800x600.jpg')
        r.Install('bootsplash-800x600.jpg', '%(datadir)s/bootsplash/themes/FDL/images/')
        r.Install('bootsplash-800x600.cfg', '%(datadir)s/bootsplash/themes/FDL/config/')
        r.Install('silent-800x600.jpg', '%(datadir)s/bootsplash/themes/FDL/images/')

#       Here are the docs

        r.Doc('COPYING', 'README.fbmngplay',
              'README.fbtruetype')
