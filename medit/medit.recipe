#
# Copyright (c) 2007-2012 The Foresight Linux Project
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Medit(CPackageRecipe):

    name = 'medit'
    version = '1.1.1'

    buildRequires = ['desktop-file-utils:runtime', 'pygobject:python', 'pygtk:python', 
	'python:devel', 'expat:devel', 'libxml2:devel', 'gettext:runtime', 'gamin:devel', 'vte:python',
	'atk:devel', 'cairo:devel', 'fontconfig:devel', 'freetype:devel', 'gdk-pixbuf:devel', 
	'gdk-pixbuf:runtime', 'glib:devel', 'gtk:devel', 'intltool:runtime', 'libICE:devel', 
	'libSM:devel', 'libX11:devel', 'libXext:devel', 'libXrender:devel', 'libpng:devel', 
	'libstdc++:devel', 'pango:devel', 'pkgconfig:devel']

    def setup(r):
	r.macros.ldflags += ' -L%(libdir)s/ '
        r.addArchive('http://sourceforge.net/projects/mooedit/files/medit/%(version)s/')
        r.Configure('--enable-shared --prefix=%(prefix)s')
	r.Make()
	r.MakeInstall()
        r.Remove('%(datadir)s/mime/', recursive=True)
        r.Remove('%(datadir)s/icons/hicolor/icon-theme.cache')
	r.NonMultilibComponent(exceptions='%(libdir)s/')

