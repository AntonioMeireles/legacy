#
# Copyright (c) 2004-2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Oprofile(AutoPackageRecipe):
    name = 'oprofile'
    version = '0.9.2'

    buildRequires = [ 'glibc:devel', 'gtk:devel', 'libxslt:lib', 'popt:devel',
        'libstdc++:devel', 'libICE:devel', 'libSM:devel', 'libX11:devel',
        'libXt:devel', 'freetype:devel', 'binutils:devel', ]

    def unpack(r):
        r.addArchive('mirror://sourceforge/oprofile/')
        r.addPatch('oprofile-0.4-guess2.patch')

    def configure(r):
        r.Configure('--with-kernel-support --enable-abi')
