#
# Copyright (c) 2008 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class whaawmp(PackageRecipe):
    name = 'whaawmp'
    version = '425svn'
    buildRequires = [ 'dbus-python:python', 'desktop-file-utils:runtime',
                      'gst-python:python', 'pygtk:python', 
                      'python-setuptools:python', 'python-ctypes:python', 
                      'python:devel', 'pyxdg:python'
                    ]

    def setup(r):
        r.macros.rev = r.version[0:-3]
        r.addSvnSnapshot('http://svn.gna.org/svn/whaawmp/branches/python2.4/',revision='%(rev)s')
        r.Run('./make.py install --root=%(destdir)s --prefix=%(prefix)s')

    def policy(r):
        r.Requires('gst-plugins-base:lib','%(bindir)s/whaawmp')
        r.Requires('gst-plugins-good:runtime','%(bindir)s/whaawmp')
        r.Requires('gst-plugins-good:lib','%(bindir)s/whaawmp')
        r.Requires('gst-plugins-ugly:lib','%(bindir)s/whaawmp')
        r.Requires('gst-plugins-bad:lib','%(bindir)s/whaawmp')
