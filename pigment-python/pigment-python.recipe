#
# Copyright (c) 2008 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class PigmentPython(AutoPackageRecipe):
    name = 'pigment-python'
    version = '0.3.9'
 
    buildRequires = [ 'Mesa:devel', 'PIL:python', 'cairo:devel', 'expat:devel', 'freetype:devel', 'glib:devel', 'gst-plugins-base:devel', 'gst-python:python', 'libX11:devel', 'libXdmcp:devel', 'libXext:devel', 'libXrandr:devel', 'libXrender:devel', 'pkgconfig:devel', 'pygobject:python', 'zlib:devel', 'python:devel', 'pygobject:devel', 'gtk:devel', 'pigment:devel', 'pycairo:python', 'pygtk:python' ]
 
    def unpack(r):
        r.addArchive('http://elisa.fluendo.com/static/download/pigment/')

    def configure(r):
        r.Configure()
        if Arch.x86_64:
            r.Replace('\-L\/usr\/lib ','-L%(libdir)s ', 'pgm/Makefile')

    def policy(r):
        r.Move('%(prefix)s/lib/python2.4/site-packages/pgm', '%(libdir)s/python2.4/site-packages/')
