#
# Copyright (c) 2012 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class SshKeys(PackageRecipe):
    name = 'ssh-keys'
    version = '1.1'

    packageSummary = "SSH key management"
    packageDescription = """\
To deploy a key in user bob's authorized_keys, drop the key in
/etc/ssh/keys.d/bob/key.pub
"""

    def setup(r):
        r.addSource('%(name)s.tagdescription',
                    dest='%(tagdescriptiondir)s/%(name)s',
                    macros=True)
        r.addSource('%(name)s.taghandler',
                    dest='%(taghandlerdir)s/%(name)s',
                    mode=0755, macros=False)
        r.Requires('coreutils:runtime', '%(taghandlerdir)s/%(name)s')
