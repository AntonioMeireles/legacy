#
# Copyright (c) 2004-2006 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('gnomepackage.recipe')
class Dasher(GnomePackageRecipe):
    name = 'dasher'
    version = '4.5.2'

    buildRequires = [ 'atk:devel', 'at-spi:devel', 'expat:devel', 'gcc:devel',
        'GConf:devel', 'glib:devel', 'gnome-vfs:devel', 'intltool:runtime',
        'libart_lgpl:devel', 'libbonobo:devel', 'libbonoboui:devel',
        'libglade:devel', 'libgnomecanvas:devel', 'libgnome:devel',
        'libgnomeui:devel', 'libwnck:devel', 'libxml2:devel', 'ORBit2:devel',
        'pango:devel', 'popt:devel', 'scrollkeeper:runtime', 'cairo:devel',
        'fontconfig:devel', 'freetype:devel', 'gnome-keyring:devel',
        'libpng:devel', 'gettext:runtime', 'perl:runtime',
        'desktop-file-utils:runtime', 'gtk:runtime', 'libstdc++:devel',
        'gnome-doc-utils:devel', 'libXtst:devellib', 'GConf:runtime', 'libglade:devel',
    ]
    # Qt support appears to be broken
    #if Use.qt:
    #    buildRequires.append('qt:devel')

    # speech also seems broken
    extraConfig = '--without-speech'

    if Arch.x86_64:
        extraConfig += ' --x-libraries=%(libdir)s'

    if Use.gnome: extraConfig += ' --with-gnome'
#    if Use.qt:    extraConfig += ' --with-qte'

