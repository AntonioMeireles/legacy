# Gil Hamlin
# gil@foresightlinux.com
# 2nd October 2005

loadSuperClass('gnomepackage.recipe')
class mailnotification(GnomePackageRecipe):
    name = 'mail-notification'
    version = '3.0'

    buildRequires = ['GConf:devel', 'GConf:runtime', 'ORBit2:devel',
                     'atk:devel', 'cairo:devel', 'cyrus-sasl:devel',
                     'desktop-file-utils:runtime', 'eel:devel',
                     'evolution-data-server:devel', 'evolution:devel',
                     'fontconfig:devel', 'freetype:devel', 'gail:devel',
                     'gettext:runtime', 'glib:devel', 'gmime:devel',
                     'gnome-keyring:devel', 'gnome-vfs:devel',
                     'libart_lgpl:devel', 'libbonobo:devel',
                     'libbonoboui:devel', 'libglade:devel', 'libgnome:devel',
                     'libgnomecanvas:devel', 'libgnomeui:devel',
                     'libpng:devel', 'libxml2:devel', 'openssl:devel',
                     'pango:devel', 'popt:devel', 'scrollkeeper:runtime']

    externalArchive = 'http://savannah.nongnu.org/download/mailnotify/' \
                      '%(name)s-%(version)s.tar.gz'

    def unpack(r):
        r.macros.cflags = '-I/usr/kerberos/include/'
        GnomePackageRecipe.unpack(r)
        r.addPatch('mail-notification.desktop-eol.patch', level = 0)
