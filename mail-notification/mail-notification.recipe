# Gil Hamlin
# gil@foresightlinux.com
# 2nd October 2005

loadRecipe('gnomepackage')
class mailnotification(GnomePackageRecipe):
    name = 'mail-notification'
    version = '5.2'
    buildRequires = [ 'GConf:devel', 'GConf:runtime', 'ORBit2:devel', 'cyrus-sasl:devel', 'desktop-file-utils:runtime', 'eel:devel', 'esound:devel', 'evolution-data-server:devel', 'evolution:devel', 'gail:devel', 'gmime:devel', 'gnome-keyring:devel', 'gnome-vfs:devel', 'gob2:runtime', 'libart_lgpl:devel', 'libbonobo:devel', 'libbonoboui:devel', 'libglade:devel', 'libgnome:devel', 'libgnomecanvas:devel', 'libgnomeui:devel', 'libnotify:devel', 'openssl:devel', 'popt:devel', 'rarian:devel', 'rarian:runtime', 'dbus-glib:runtime' ]

    externalArchive = 'http://savannah.nongnu.org/download/mailnotify/'
    extraConfig = '-disable-hotmail --disable-yahoo'

    def setup(r):
        GnomePackageRecipe.unpack(r)
        r.Run('./jb configure                   \
            prefix=%(prefix)s                   \
            destdir=%(destdir)s                 \
            bindir=%(bindir)s                   \
            libdir=%(libdir)s                   \
            libexecdir=%(libexecdir)s           \
            datadir=%(datadir)s                 \
            sysconfdir=%(sysconfdir)s           \
            localstatedir=%(localstatedir)s     \
            cflags=-I/usr/kerberos/include/')
        r.Run('./jb build')
        r.Run('./jb install')

