#
# Copyright (c) 2004-2005 Specifix, Inc.
# All rights reserved
#
class Gaim(PackageRecipe):
    name = 'gaim'
    version = '1.2.1'
   
    buildRequires = [ 'libao:devel', 'startup-notification:devel', 
		      'audiofile:devel', 'gtkspell:devel', 'aspell:devel',
		      'mozilla:devel', 'gtk:devel' ] 
               
    def setup(r):
	r.addArchive('http://easynews.dl.sourceforge.net/sourceforge/gaim/gaim-%(version)s.tar.bz2')
	r.addPatch('logging.patch')
	r.Configure('--disable-tcl --disable-tk --enable-gnutls=no --enable-nss=yes')
	r.disableParallelMake()
	r.Make()
	r.MakeInstall()
	r.Run('find %(destdir)s -name "*.a" | xargs rm -f')
	r.Remove('%(libdir)s/gaim/relnot.so')
	r.Doc('doc/CREDITS', 'NEWS', 'COPYING', 'AUTHORS', 'doc/FAQ', 'README',
	      'ChangeLog', 'doc/PERL-HOWTO.dox')
