#
# Copyright (c) 2004 Specifix, Inc.
# All rights reserved
#
 
loadSuperClass('gnomepackage.recipe')
class GnomeGames(GnomePackageRecipe):

    # disable gnometris in deference to trademark claim, see
    # http://en.wikipedia.org/wiki/Tetris and
    # http://lists.debian.org/debian-devel/1997/09/msg00417.html
    disable_gnometris = True
    
    buildRequires = GnomePackageRecipe.buildRequires
    buildRequires.extend( ['libglade:devel', 'libgnome:devel', 'libgnomeui:devel',
                           'GConf:devel', 'gnome-vfs:devel', 'gtk:devel',
                           'librsvg:devel', 'guile:devel', 
                           'scrollkeeper:devel'] )
                           
    name = 'gnome-games'
    version = '2.10.2'

    def setup(r):
        GnomePackageRecipe.setup(r)

    def install(r):
	r.Run('echo >> libgames-support/libgnomegames.schemas')
        GnomePackageRecipe.install(r)
        r.ComponentSpec('runtime', '%(libdir)s/gnome-stones/objects/.*')

        if r.disable_gnometris:
            r.Remove('%(bindir)s/gnometris',
                     '%(datadir)s/applications/gnometris.desktop',
                     '%(datadir)s/pixmaps/gnometris',
                     '%(sysconfdir)s/gconf/schemas/gnometris.schemas',
                     recursive=True)
