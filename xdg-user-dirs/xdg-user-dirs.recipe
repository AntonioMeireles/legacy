#
# Copyright (c) 2004-2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadRecipe('gnomepackage')
class XDGUD(GnomePackageRecipe):
    name = 'xdg-user-dirs'
    version = '0.12'
    externalArchive='http://user-dirs.freedesktop.org/releases/%(name)s-%(version)s.tar.gz'

    #FL-937 'Projects folder in home directory'
    patches = ['FL-Projects-folder.patch']

    def policy(r):
        r.MakeDirs('%(sysconfdir)s/X11/xinit/xinitrc.d')
        r.Run(""" echo "#!/bin/sh" >> %(destdir)s%(sysconfdir)s/X11/xinit/xinitrc.d/xdg-user-dirs.sh """)
        r.Run(""" echo "/usr/bin/xdg-user-dirs-update" >> %(destdir)s%(sysconfdir)s/X11/xinit/xinitrc.d/xdg-user-dirs.sh  """)
        r.SetModes('%(sysconfdir)s/X11/xinit/xinitrc.d/xdg-user-dirs.sh', 0755)
