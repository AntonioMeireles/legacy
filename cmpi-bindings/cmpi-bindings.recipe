#
# Copyright (c) 2008 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class CmpiBindings(AutoPackageRecipe):
    name = 'cmpi-bindings'
    version = '0.4.0'

    buildRequires = [
        'perl:devel',
        'python:devel',
        'pywbem:python',
        'ruby:devellib',
    ]

    def unpack(r):
        r.addArchive('mirror://sourceforge/omc/%(name)s-%(version)s.tar.bz2')
        r.Replace(r'\$self', 'self', 'swig/cmpi_callbacks.i',
            'swig/cmpi_defs.i', 'swig/cmpi_types.i')

    def configure(r):
        r.CMake(objDir = 'build')

    def make(r):
        r.Make(dir = 'build')

    def makeinstall(r):
        r.MakeInstall(dir = 'build')
