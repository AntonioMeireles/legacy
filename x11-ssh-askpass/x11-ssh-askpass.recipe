#
# Copyright (c) 2004-2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class X11SshAskPass(CPackageRecipe):
    name = 'x11-ssh-askpass'
    version = '1.2.4.1'

    buildRequires = [ 'openssh:runtime', 'libICE:devel', 'libSM:devel',
                      'libX11:devel', 'libXt:devel', 'imake:runtime',
                      'gccmakedep:runtime', ]

    def setup(r):
        r.addArchive('http://www.pobox.com/~jmknoble/software/%(name)s/')
        r.Configure('--prefix=%(prefix)s --libdir=%(libdir)s'
                    ' --libexecdir=%(libexecdir)s/openssh')
        r.Run('xmkmf -a')
        r.Make()
        r.Install('x11-ssh-askpass',
                  '%(libexecdir)s/openssh/x11-ssh-askpass', mode=0755)
        r.Symlink('x11-ssh-askpass',
                  '%(libexecdir)s/openssh/ssh-askpass')
