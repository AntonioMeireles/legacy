#
# Copyright (c) 2004-2005 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Hwbrowser(PackageRecipe):
    name = 'hwbrowser'
    version = '0.21'

    # perl, perl-XML-Parser needed for intltool
    buildRequires = [ 'perl:runtime', 'perl-XML-Parser:perl',
                      'desktop-file-utils:runtime' ]

    def setup(r):
        srpm = 'ftp://download.fedora.redhat.com/pub/fedora/linux/core/4/SRPMS/hwbrowser-%(version)s-1.src.rpm'
        r.addArchive('%(name)s-%(version)s.tar.gz' , rpm=srpm)

        r.Configure('--enable-more-warnings=no')
        r.Make()
        r.MakePathsInstall()

        r.Requires('/usr/bin/consolehelper', '%(bindir)s/hwbrowser')
        r.Requires('kudzu:python', '%(datadir)s/hwbrowser/hwbrowser')
        r.Requires('pyparted:python', '%(datadir)s/hwbrowser/hwbrowser')
        r.Requires('gnome-python:python', '%(datadir)s/hwbrowser/hwbrowser')
        r.Requires('gnome-python:python', '%(datadir)s/hwbrowser/hwbrowser')
