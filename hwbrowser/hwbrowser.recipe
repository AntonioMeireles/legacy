#
# Copyright (c) 2004 Specifix, Inc.
# All rights reserved
#

class Hwbrowser(PackageRecipe):

    # perl, perl-XML-Parser needed for intltool
    buildRequires = [ 'perl:runtime', 'perl-XML-Parser:perl' ]
    
    name = 'hwbrowser'
    version = '0.20'

    def setup(r):
	srpm = 'ftp://download.fedora.redhat.com/pub/fedora/linux/core/test/3.90/SRPMS/hwbrowser-%(version)s-1.src.rpm'
	r.addArchive('%(name)s-%(version)s.tar.gz' , rpm=srpm)  
	r.Replace('Exec=hwbrowser','Exec=gksudo hwbrowser','hwbrowser.deskto*')

	r.Configure('--enable-more-warnings=no')
	r.Make()
	r.MakePathsInstall()

	r.Doc('README', 'AUTHORS', 'COPYING')
        r.Requires('/usr/bin/consolehelper', '%(bindir)s/hwbrowser')
        r.Requires('kudzu:python', '%(datadir)s/hwbrowser/hwbrowser')
        r.Requires('pyparted:python', '%(datadir)s/hwbrowser/hwbrowser')
        r.Requires('gnome-python:runtime', '%(datadir)s/hwbrowser/hwbrowser')
        r.Requires('gnome-python:runtime', '%(datadir)s/hwbrowser/hwbrowser')
