class Lua(PackageRecipe):
	buildRequires = [ 'gcc:devel' ]
	name='lua'
	version='5.0.2'

	def setup(r):
		r.addArchive('http://www.lua.org/ftp/lua-%(version)s.tar.gz')
		r.Replace('INSTALL_ROOT.*', 'INSTALL_ROOT = %(destdir)s','config')
		r.Replace('INSTALL_BIN.*', 'INSTALL_BIN = %(destdir)s/%(bindir)s','config')
		r.Replace('INSTALL_INC.*', 'INSTALL_INC = %(destdir)s/%(includedir)s','config')
		r.Replace('INSTALL_LIB.*', 'INSTALL_LIB = %(destdir)s/%(libdir)s','config')
		r.Replace('INSTALL_MAN.*', 'INSTALL_MAN = %(destdir)s/%(mandir)s/man1','config')
		r.Configure()
		r.Make()
		r.Make('so')
		r.MakeInstall()
		r.MakeInstall('soinstall')
