#
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class I7z(CPackageRecipe):
    name = 'i7z'
    # changeset = '53'
    version = '0.27' # +r' + changeset
    revision = version.split('+')[-1][1:]

    buildRequires = [ 'ncurses:devel',
    ]

    def setup(r):
        r.addArchive('http://i7z.googlecode.com/files/')
        # r.addSvnSnapshot('http://i7z.googlecode.com/svn/trunk/',
        #                 revision = r.changeset)
        r.Replace('/usr/sbin',
                  '%(destdir)s/%(sbindir)s/',
                  'Makefile')
        # FIXME get GUI to build ...
        # r.Replace('\-std\=gnu\+\+0x', '', 'GUI/Makefile')
        r.MakeDirs('%(sbindir)s/')
        r.Make()
        # r.Make(dir='GUI')
        r.MakeInstall()
        # r.MakeInstall(dir='GUI')
        
