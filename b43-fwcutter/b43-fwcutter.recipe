#
# Copyright (c) 2009 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#
class B43Fwcutter(CPackageRecipe):
    name = 'b43-fwcutter'
    version = '012'
    buildRequires = ['make:runtime', 'gcc:runtime']
 
    def setup(r):
        r.addArchive('http://bu3sch.de/b43/fwcutter/b43-fwcutter-012.tar.bz2')
	r.Replace('/usr/local', '%(prefix)s', 'Makefile')
	r.Make()
	r.Move('b43-fwcutter', '%(bindir)s/b43-fwcutter', mode=0755)
	r.Move('fwcutter.o', '%(libdir)s/fwcutter.o', mode=0644)
	r.Move('md5.o', '%(libdir)s/md5.o', mode=0644)
	r.addArchive('http://mirror2.openwrt.org/sources/broadcom-wl-4.150.10.5.tar.bz2')
	r.Move('../broadcom-wl-4.150.10.5/driver/wl_apsta_mimo.o', '%(libdir)s/wl_apsta_mimo.o')
