#
# Copyright (c) 2007 - 2011 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class ClawsMailExtraPlugins(CPackageRecipe):
    name = 'claws-mail-extra-plugins'
    version = '3.9.0'
    buildRequires = [
        'WebKit:devel',
        'atk:devel',
        'bison:runtime',
        'cairo:devel',
        'claws-mail:devel',
        'curl:devel',
        'dbus-glib:devel',
        'dbus:devel',
        'e2fsprogs:devel',
        'enchant:devel',
        'expat:devel',
        'ghostscript:runtime',
        'flex:runtime',
        'fontconfig:devel',
        'freetype:devel',
        'gcc-c++:runtime',
        'gettext:runtime',
        'glib:devel',
        'gnutls:devel',
        'gpgme:devel',
        'gtk:devel',
        'intltool:runtime',
        'krb5:devel',
        'libX11:devel',
        'libXrender:devel',
        'libarchive:devel',
        'libcanberra:devel',
        'libgdata:devel',
        'libgpg-error:devel',
        'libgtkhtml:devel',
        'libnotify:devel',
        'libpng:devel',
        'libsoup:devel',
        'libxml2:devel',
        'openssl:devel',
        'pango:devel',
        'perl:devel',
        'perl:runtime',
        'poppler-glib:devel',
        'poppler:devel',
        'pkgconfig:devel',
        'pygtk:devel',
        'python:devel',
        'zlib:devel',
    ]

    def setup(r):
        r.addArchive('http://downloads.sourceforge.net/project/sylpheed-claws/extra plugins/%(version)s/')

        plugins = (
            'acpi_notifier-1.0.28',
            'address_keeper-1.0.7',
            'archive-0.6.13',
            'attachwarner-1.0',
            'att_remover-1.0.15',
            #'bsfilter_plugin-1.0.9',
            'clamd-3.5.5',
            'fancy-0.9.17',
            'fetchinfo-plugin-0.4.25',
            'gdata_plugin-0.5',
            #'geolocation_plugin-0.0.8',
            'gtkhtml2_viewer-0.34',
            'mailmbox-1.15',
            'newmail-0.0.16',
            'notification_plugin-0.31',
            'pdf_viewer-0.9.3',
            #'perl_plugin-0.9.20', #doesn't build currently
            'python_plugin-0.11',
            'rssyl-0.34',
            'spam_report-0.3.17',
            'vcalendar-2.0.14'
        )
        for plugin in plugins:
            r.Configure(dir=plugin)
            r.MakeInstall(dir=plugin)
