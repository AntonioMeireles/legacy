#
# Copyright (c) 2007 - 2011 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class ClawsMailExtraPlugins(CPackageRecipe):
    name = 'claws-mail-extra-plugins'
    version = '3.8.1'
    buildRequires = [
        'WebKit:devel',
        'atk:devel',
        'bison:runtime',
        'cairo:devel',
        'claws-mail:devel',
        'curl:devel',
        'dbus-glib:devel',
        'dbus:devel',
        'e2fsprogs:devel',
        'enchant:devel',
        'expat:devel',
        'ghostscript:runtime',
        'flex:runtime',
        'fontconfig:devel',
        'freetype:devel',
        'gcc-c++:runtime',
        'gettext:runtime',
        'glib:devel',
        'gnutls:devel',
        'gpgme:devel',
        'gtk:devel',
        'intltool:runtime',
        'krb5:devel',
        'libX11:devel',
        'libXrender:devel',
        'libarchive:devel',
        'libcanberra:devel',
        'libgdata:devel',
        'libgpg-error:devel',
        'libgtkhtml:devel',
        'libindicate:devel',
        'libnotify:devel',
        'libpng:devel',
        'libsoup:devel',
        'libxml2:devel',
        'pango:devel',
        'perl:devel',
        'perl:runtime',
        'poppler-glib:devel',
        'poppler:devel',
        'pkgconfig:devel',
        'pygtk:devel',
        'python:devel',
        'zlib:devel',
    ]

    def setup(r):
        r.addArchive('http://downloads.sourceforge.net/project/sylpheed-claws/extra plugins/%(version)s/')

        plugins = (
            'acpi_notifier-1.0.27',
            'address_keeper-1.0.6',
            'archive-0.6.12',
            'attachwarner-0.2.24',
            'att_remover-1.0.14',
            #'bsfilter_plugin-1.0.8',
            'clamd-3.5.4',
            'fancy-0.9.16',
            'fetchinfo-plugin-0.4.25',
            'gdata_plugin-0.4',
            #'geolocation_plugin-0.0.8',
            'gtkhtml2_viewer-0.33',
            'mailmbox-1.14.7',
            'newmail-0.0.15',
            'notification_plugin-0.30',
            'pdf_viewer-0.9.2',
            'perl_plugin-0.9.19',
            'python_plugin-0.10',
            'rssyl-0.33',
            'spam_report-0.3.16',
            'vcalendar-2.0.13'
        )
        for plugin in plugins:
            r.Configure(dir=plugin)
            r.MakeInstall(dir=plugin)
