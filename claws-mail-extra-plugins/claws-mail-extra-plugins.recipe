#
# Copyright (c) 2007 - 2010 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class ClawsMailExtraPlugins(CPackageRecipe):
    name = 'claws-mail-extra-plugins'
    version = '3.7.5'
    buildRequires = [
        'WebKit:devel',
        'atk:devel',
        'bison:runtime',
        'cairo:devel',
        'claws-mail:devel',
        'curl:devel',
        'dbus-glib:devel',
        'dbus:devel',
        'e2fsprogs:devel',
        'enchant:devel',
        'expat:devel',
        'ghostscript:runtime',
        'flex:runtime',
        'fontconfig:devel',
        'freetype:devel',
        'gcc-c++:runtime',
        'gettext:runtime',
        'glib:devel',
        'gnutls:devel',
        'gpgme:devel',
        'gtk:devel',
        'intltool:runtime',
        'krb5:devel',
        'libX11:devel',
        'libXrender:devel',
        'libarchive:devel',
        'libcanberra:devel',
        'libgpg-error:devel',
        'libgtkhtml:devel',
        'libindicate:devel',
        'libnotify:devel',
        'libpng:devel',
        'libsoup:devel',
        'libxml2:devel',
        'pango:devel',
        'perl:devel',
        'perl:runtime',
        'pkgconfig:devel',
        'pygtk:devel',
        'python:devel',
        'zlib:devel',
    ]

    def setup(r):
        r.addArchive('mirror://sourceforge/sylpheed-claws/')

        plugins = (
            'acpi_notifier-1.0.22',
            'archive-0.6.6',
            'att_remover-1.0.11',
            'attachwarner-0.2.18',
            #'bsfilter_plugin',
            'cachesaver-0.10.9',
            'fancy-0.9.9',
            'fetchinfo-plugin-0.4.24',
            'gtkhtml2_viewer-0.26',
            'mailmbox-1.14.3',
            'newmail-0.0.15',
            'notification_plugin-0.24',
            # Removed due to licensing problems, might come back one day
            #'pdf_viewer-0.9.1',
            'perl_plugin-0.9.17',
            'python_plugin-0.3',
            'rssyl-0.26',
            'spam_report-0.3.10',
            #'synce_plugin-0.7.5',
            'vcalendar-2.0.7'
        )
        for plugin in plugins:
            r.Configure(dir=plugin)
            r.MakeInstall(dir=plugin)
