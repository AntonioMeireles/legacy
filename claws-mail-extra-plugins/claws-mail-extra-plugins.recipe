#
# Copyright (c) 2007 - 2011 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class ClawsMailExtraPlugins(CPackageRecipe):
    name = 'claws-mail-extra-plugins'
    version = '3.8.0'
    buildRequires = [
        'WebKit:devel',
        'atk:devel',
        'bison:runtime',
        'cairo:devel',
        'claws-mail:devel',
        'curl:devel',
        'dbus-glib:devel',
        'dbus:devel',
        'e2fsprogs:devel',
        'enchant:devel',
        'expat:devel',
        'ghostscript:runtime',
        'flex:runtime',
        'fontconfig:devel',
        'freetype:devel',
        'gcc-c++:runtime',
        'gettext:runtime',
        'glib:devel',
        'gnutls:devel',
        'gpgme:devel',
        'gtk:devel',
        'intltool:runtime',
        'krb5:devel',
        'libX11:devel',
        'libXrender:devel',
        'libarchive:devel',
        'libcanberra:devel',
        'libgdata:devel',
        'libgpg-error:devel',
        'libgtkhtml:devel',
        'libindicate:devel',
        'libnotify:devel',
        'libpng:devel',
        'libsoup:devel',
        'libxml2:devel',
        'pango:devel',
        'perl:devel',
        'perl:runtime',
        'pkgconfig:devel',
        'pygtk:devel',
        'python:devel',
        'zlib:devel',
    ]

    def setup(r):
        r.addArchive('mirror://sourceforge/sylpheed-claws/')

        plugins = (
            'acpi_notifier-1.0.26',
            'address_keeper-1.0.5',
            'archive-0.6.11',
            'att_remover-1.0.13',
            'attachwarner-0.2.23',
            #'bsfilter_plugin-1.0.7',
            'clamd-3.5.3',
            'fancy-0.9.15',
            'fetchinfo-plugin-0.4.24',
            'gdata_plugin-0.3',
            #'geolocation_plugin-0.0.7',
            'gtkhtml2_viewer-0.32',
            'mailmbox-1.14.6',
            'newmail-0.0.15',
            'notification_plugin-0.29',
            'perl_plugin-0.9.19',
            'python_plugin-0.9',
            'rssyl-0.32',
            'spam_report-0.3.15',
            'vcalendar-2.0.12'
        )
        for plugin in plugins:
            r.Configure(dir=plugin)
            r.MakeInstall(dir=plugin)
