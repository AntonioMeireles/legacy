#
# Copyright (c) 2004-2005 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Diffutils(CPackageRecipe):
    # For info-file taghandler
    buildRequires = [ 'install-info:runtime' ]

    name = 'diffutils'
    version = '2.8.7'
    manpages = ('cmp.1', 'diff.1', 'diff3.1', 'sdiff.1')

    def setup(r):
        r.addArchive('ftp://alpha.gnu.org/gnu/diffutils/diffutils-%(version)s.tar.gz', keyid='69A4726B')
        for manpage in r.manpages:
            r.addSource(manpage)

        r.Configure()
        r.Make('PR_PROGRAM=%(bindir)s/pri AR=%(target)s-ar')
        r.MakeInstall()
        r.Install(*(r.manpages + ('%(mandir)s/man1/',)))
