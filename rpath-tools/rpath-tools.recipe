#
# Copyright (c) 2010 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class RpathTools(PackageRecipe):
    name = 'rpath-tools'
    version = '1.0.2d35f9642904'

    buildRequires = [
        'make:runtime',
        'python:devel',
        'coreutils:runtime',
        'util-linux:runtime',
        'rpath-models:python',
        'chkconfig:runtime',
        'pywbem:python',
        'net-tools:runtime',
    ]

    def setup(r):
        r.addMercurialSnapshot('http://scc.eng.rpath.com//hg/products/rpath-tools/trunk/rpath-tools', tag='2d35f9642904')
        r.Make()
        r.MakeInstall()

        # r.Requires('%(bindir)s/slptool', '%(bindir)s/rpath')
        r.Requires('rpath-models:python', '%(bindir)s/rpath')
        r.Requires('conary-cim:lib', '%(bindir)s/rpath')
        r.Requires('sblim-cmpi-network:lib', '%(bindir)s/rpath')
        r.ExcludeDirectories(exceptions='/etc/conary/rpath-tools/config.d')
