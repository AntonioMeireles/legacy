class XMLTv(PackageRecipe):
    buildRequires = ['perl:runtime', 'coreutils:runtime', 'make:runtime',
        'perl-Compress-Zlib:perl',
        'perl-DateManip:perl',
        'perl-File-Slurp:perl',
        'perl-HTML-TableExtract:perl',
        'perl-HTML-Tree:perl',
        'perl-HTTP-Cache-Transparent:perl',
        'perl-PerlIO-gzip:perl',
        'perl-SOAP-Lite:perl',
        'perl-TermReadKey:perl',
        'perl-Term-ProgressBar:perl',
        'perl-WWW-Mechanize:perl',
        'perl-XML-Twig:perl',
        'perl-XML-Writer:perl',
    ]
    name = "xmltv"
    version = "0.5.53"

    def setup(r):
        r.addArchive('http://superb-east.dl.sourceforge.net/sourceforge/xmltv/xmltv-%(version)s.tar.bz2')

        r.Run('yes | perl Makefile.PL PREFIX=%(prefix)s')
        r.Replace('site_perl', 'vendor_perl', 'Makefile')
        r.Make()
        r.MakeInstall()
	r.Requires('perl-TermReadKey:perl','%(libdir)s/perl5/vendor_perl/5.8.3/XMLTV/Ask/Term.pm*')
	r.Requires('perl-XML-Writer:perl','%(libdir)s/perl5/vendor_perl/5.8.3/XMLTV.pm')
