#
# Copyright (c) 2005-2008 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('kernelpackage.recipe')
class Kernel(KernelPackageRecipe):

    name = 'kernel'
    version = '2.6.26.6'

    def unpack(r):
        r.addPatch('linux-2.6-upstream-reverts.patch', extraArgs='-R')
        r.addPatch('linux-2.6-sysrq-c.patch')
        r.addPatch('linux-2.6-sched-clock-fix-nohz-interaction.patch')
        r.addPatch('linux-2.6-x86-tune-generic.patch')
        r.addPatch('linux-2.6-x86-hpet-04-workaround-sb700-bios.patch')
        r.addPatch('linux-2.6-x86-pci-detect-end_bus_number.patch')
        r.addPatch('linux-2.6-x86-check-for-null-irq-context.patch')
        r.addPatch('linux-2.6-x86-improve-up-kernel-when-cpu-hotplug-and-smp.patch')
        r.addPatch('linux-2.6-x86-avoid-dereferencing-beyond-stack-THREAD_SIZE.patch')
        r.addPatch('linux-2.6-x86-Reserve-FIRST_DEVICE_VECTOR-in-used_vectors-bit.patch')
        r.addPatch('linux-2.6-x86-early_ioremap-fix-fencepost-error.patch')
        r.addPatch('linux-2.6-x86-sb450-skip-irq0-override-if-not-routed-to-INT2.patch')
        r.addPatch('linux-2.6-pci-disable-aspm-per-acpi-fadt-setting.patch')
        r.addPatch('linux-2.6-pci-disable-aspm-on-pre-1.1-devices.patch')
        r.addPatch('linux-2.6-pci-add-an-option-to-allow-aspm-enabled-forcibly.patch')
        r.addPatch('linux-2.6-pci-check-mapped-ranges-on-sysfs-resource-files.patch')
        r.addPatch('linux-2.6-usb-ehci-hcd-respect-nousb.patch')
        r.addPatch('linux-2.6-uvcvideo-return-sensible-min-max-values.patch')
        r.addPatch('linux-2.6-uvcvideo-dont-use-stack-based-buffers.patch')
        r.addPatch('linux-2.6-uvcvideo-fix-another-buffer-overflow.patch')
        r.addPatch('linux-2.6-cpuidle-1-do-not-use-poll_idle-unless-user-asks-for-it.patch')
        r.addPatch('linux-2.6-cpuidle-2-menu-governor-fix-wrong-usage-of-measured_us.patch')
        r.addPatch('linux-2.6-cpuidle-3-make-ladder-governor-honor-latency-requirements.patch')
        r.addPatch('linux-2.6-crash-driver.patch')
        r.addPatch('linux-2.6-defaults-pci_no_msi.patch')
        r.addPatch('linux-2.6-scsi-cpqarray-set-master.patch')
        r.addPatch('linux-2.6-fs-cifs-turn-off-unicode-during-session-establishment.patch')
        r.addPatch('linux-2.6-fs-cifs-fix-plaintext-authentication.patch')
        r.addPatch('linux-2.6-squashfs.patch')
        r.addPatch('linux-2.6-dont-allow-splice-to-files-opened-with-o_append.patch')
        r.addPatch('linux-2.6-net-silence-noisy-printks.patch')
        r.addPatch('linux-2.6-input-kill-stupid-messages.patch')
        r.addPatch('linux-2.6-input-fix_fn_key_on_macbookpro_4_1_and_mb_air.patch')
        r.addPatch('linux-2.6-hwmon-applesmc-remove-debugging-messages.patch')
        r.addPatch('linux-2.6-serial-460800.patch')
        r.addPatch('linux-2.6-silence-noise.patch')
        r.addPatch('linux-2.6-defaults-fat-utf8.patch')
        r.addPatch('linux-2.6-libata-pata_it821x-driver-updates-and-reworking.patch')
        r.addPatch('linux-2.6-sata-eeepc-faster.patch')
        r.addPatch('linux-2.6-libata-pata_marvell-play-nice-with-ahci.patch')
        r.addPatch('linux-2.6-libata-fix-a-large-collection-of-DMA-mode-mismatches.patch')
        r.addPatch('linux-2.6-libata-lba-28-48-off-by-one-in-ata.h.patch')
        r.addPatch('linux-2.6-libata-always-do-follow-up-SRST-if-requested.patch')
        r.addPatch('linux-2.6-libata-fix-EH-action-overwriting-in-ata_eh_reset.patch')
        r.addPatch('linux-2.6-libata-sata_nv-disable-swncq.patch')
        r.addPatch('linux-2.6-wireless-pending.patch')
        r.addPatch('linux-2.6-at76.patch')
        r.addPatch('linux-2.6-wireless-stable-backports.patch')
        r.addPatch('linux-2.6-rt2500usb-fix.patch')
        r.addPatch('linux-2.6-wireless-rt2500pci-restoring-missing-line.patch')
        r.addPatch('linux-2.6-wireless-p54-fix-regression-due-to-delete-NETDEVICES_MULTIQUEUE-option.patch')
        r.addPatch('linux-2.6-wireless-revert-b43-add-RFKILL_STATE_HARD_BLOCKED-support.patch')
        r.addPatch('linux-2.6-smarter-relatime.patch')
        r.addPatch('linux-2.6-nfs-client-mounts-hang.patch')
        r.addPatch('linux-2.6-default-mmf_dump_elf_headers.patch')
        r.addPatch('linux-2.6-lirc.patch')
        r.addPatch('linux-2.6-e1000-ich9.patch')
        r.addPatch('linux-2.6-netdev-e1000e-fix-drv-load-issues-amt.patch')
        r.addPatch('linux-2.6-e1000e-write-protect-nvm.patch')
        r.addPatch('linux-2.6-netdev-atl2.patch')
        r.addPatch('linux-2.6-netdev-atl1e.patch')
        r.addPatch('linux-2.6-net-tulip-interrupt.patch')
        r.addPatch('linux-2.6-netdev-e1000e-add-support-for-82567lm-4.patch')
        r.addPatch('linux-2.6-firewire-git-update.patch')
        r.addPatch('linux-2.6-merge-efifb-imacfb.patch')
        r.addPatch('linux-2.6-intel-msr-backport.patch')
        r.addPatch('linux-2.6-libata-sff-kill-spurious-WARN_ON-in-ata_hsm_move.patch')
        r.addPatch('linux-2.6-net-print-module-name-as-part-of-the-message.patch')
        r.addPatch('linux-2.6-warn-add-WARN-macro.patch')
        r.addPatch('linux-2.6-warn-Turn-the-netdev-timeout-WARN_ON-into-WARN.patch')
        r.addPatch('linux-2.6-warn-rename-WARN-to-WARNING.patch')
        r.addPatch('linux-2.6.22-rndis_host-wm5.patch')
        # r.addPatch('linux-2.6-alsa-ice17xx_update.patch')
        r.addPatch('ftp://download.filesystems.org/pub/unionfs/unionfs-2.x/unionfs-2.4_for_2.6.26.diff.gz')
        r.addPatch('linux-2.6-open-vm-tools.patch')
        # r.addPatch('linux-2.6-export_flush_tlb_page.patch')
