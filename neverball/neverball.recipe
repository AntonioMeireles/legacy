# Gil Hamlin
# 2coolforschool@gmail.com
# 25th March 2005

class neverball(PackageRecipe):
    buildRequires = [ "glibc:devel", "SDL:devel", "SDL_mixer:devel",
                      "SDL_ttf:devel", "desktop-file-utils:runtime" ]
    name = "neverball"
    version = "1.4.0"

    def setup(r):
        r.addArchive('http://0day.icculus.org/%(name)s/%(name)s-%(version)s.tar.gz')
        r.Make()

#       Neverball has no make install so this will move the binaries into a sane place

        r.Install('neverball', '%(bindir)s/')
        r.Install('neverputt', '%(bindir)s/')

#       Don't forget to move the data too!

        r.Install('data/*', '%(datadir)s/neverball/data/')
     
#       Neverball expects the data to be in the same directory as it's binary, so we need a symlink.

        r.Symlink('%(datadir)s/neverball/data/', '%(bindir)s/data')

#       Lastly, we should put the icons for Neverball in an appropriate place

        r.Install('icon/neverball.png', '%(datadir)s/pixmaps/')
        r.Install('icon/neverputt.png', '%(datadir)s/pixmaps/')
      
#       Here are the docs

        r.Doc('README', 'CHANGES', 'COPYING')

#       Here are our menu links

        r.addSource('neverball.desktop')
        r.Desktopfile('neverball.desktop')
        r.addSource('neverputt.desktop')
        r.Desktopfile('neverputt.desktop')

        

 
