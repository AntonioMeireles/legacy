#
# Copyright (c) 2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Rake(PackageRecipe):
    name = 'rake'
    version = '0.7.3'

    buildRequires = [ 'ruby:runtime' ]

    def setup(r):
        r.addArchive('http://rubyforge.org/frs/download.php/19879/')
        r.addPatch('addShebang.patch')

        # Install required libraries in site_ruby directory
        r.Install('lib/*', '%(libdir)s/ruby/site_ruby/')

        # Install 'binary' for rake (really just a wrapper script)
        r.Install('bin/*', '%(bindir)s/', mode=0755)

        # XXX: remove this line when Conary has this added to AutoDoc policy
        r.AutoDoc('MIT-LICENSE')
