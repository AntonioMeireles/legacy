#
# Copyright (c) 2004 Ken VanDine
# Written by Ken VanDine <ken@vandine.org>
#

loadSuperClass('kernelmodulepackage')
class Ndiswrapper(KernelModulePackageRecipe):

    name = 'ndiswrapper'
    version = '1.2'

    def unpack(r):
        r.addArchive('http://unc.dl.sourceforge.net/sourceforge/ndiswrapper/ndiswrapper-%(version)s.tar.gz')
        r.addAction("sed -i 's/\/sbin\/depmod/#\/sbin\/depmod/g' driver/Makefile")

    def build(r):
        r.Make('KVER=%(kver)s')
        r.MakeInstall('KVER=%(kver)s')
