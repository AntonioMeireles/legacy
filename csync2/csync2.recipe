#
# Copyright (c) 2013 The Foresight Linux Project
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Csync2(AutoPackageRecipe):
    name = 'csync2'
    tag = '4c8bf2e2'
    version = 'git_' + tag
 
    buildRequires = [
        'autoconf:runtime',
        'automake:runtime',
        'byacc:runtime',
        'flex:runtime',
        'gnutls:devel',
        'librsync:devel',
        'pkgconfig:devel',
        'sqlite:devel',
    ]
 
    def unpack(r):
        r.addGitSnapshot('http://git.linbit.com/csync2.git', tag=r.tag)
        r.Run('./autogen.sh')

    def policy(r):
        r.ExcludeDirectories(exceptions='/var/lib/csync2')
