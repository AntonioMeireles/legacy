diff -ur sonance.orig/Makefile sonance/Makefile
--- sonance.orig/Makefile	2005-08-03 17:18:27.000000000 -0400
+++ sonance/Makefile	2005-08-03 17:33:43.000000000 -0400
@@ -1,5 +1,5 @@
 # Makefile.in generated by automake 1.7.9 from Makefile.am.
-# Makefile.  Generated from Makefile.in by configure.
+# mediaengines/helix/Makefile.  Generated from Makefile.in by configure.
 
 # Copyright 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003
 # Free Software Foundation, Inc.
@@ -15,12 +15,12 @@
 
 
 srcdir = .
-top_srcdir = .
+top_srcdir = ../..
 
 pkgdatadir = $(datadir)/sonance
 pkglibdir = $(libdir)/sonance
 pkgincludedir = $(includedir)/sonance
-top_builddir = .
+top_builddir = ../..
 
 am__cd = CDPATH="$${ZSH_VERSION+.}$(PATH_SEPARATOR)" && cd
 INSTALL = /usr/bin/install -c
@@ -162,35 +162,64 @@
 target_cpu = i686
 target_os = linux-gnu
 target_vendor = pc
-SUBDIRS = \
-	data \
-	libsonance \
-	plugincore \
-	mediaengines \
-	burn-sharp \
-	entagged \
-	hal-sharp \
-	src 
-
-
-pkgconfigdir = $(libdir)/pkgconfig
-pkgconfig_DATA = sonance.pc
-
-EXTRA_DIST = \
-	sonance.mdp \
-	sonance.mds \
-	sonance.pc.in
-
-
-CLEANFILES = sonance.pc
-DISTCLEANFILES = config.guess config.sub configure install-sh missing depcomp Makefile.in *.bak *~ sonance.pidb Sonance.pws mkinstalldirs ltmain.sh aclocal.m4 config.h.in INSTALL
-subdir = .
+SUBDIRS = include
+
+MCS_FLAGS = -debug -nowarn:0169
+ASSEMBLY_NAME = helix-sharp
+ASSEMBLY = $(ASSEMBLY_NAME).dll
+
+INCLUDES = -I$(srcdir)/include -include HXCompat.h
+
+helixenginelibdir = $(pkglibdir)/mediaengines/helix
+helixenginelib_LTLIBRARIES = libhxplayer.la
+helixenginelib_DATA = libhxclient.a
+helixenginelib_SCRIPTS = $(ASSEMBLY)
+
+libhxplayer_la_SOURCES = \
+	HXPlayer.c
+
+
+libhxplayer_la_LIBADD = -L. -lstdc++ -lpthread -ldl -lhxclient
+
+ASSEMBLY_SOURCES = \
+	HxPlayer.cs    \
+	HxUnmanaged.cs \
+	HxEvents.cs    \
+	HxDefines.cs   \
+	HxCallbackDelegates.cs \
+	HelixPlayer.cs
+
+
+EXTRA_DIST = $(ASSEMBLY_SOURCES) HxPlayerTest.cs HXPlayer.h HXCompat.h libhxclient.a libhxclient.so
+DISTCLEANFILES = Makefile.in
+CLEANFILES = *.dll *.mdb *.exe
+subdir = mediaengines/helix
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
-CONFIG_HEADER = config.h
-CONFIG_CLEAN_FILES = sonance.pc
-DIST_SOURCES =
-DATA = $(pkgconfig_DATA)
+CONFIG_HEADER = $(top_builddir)/config.h
+CONFIG_CLEAN_FILES =
+LTLIBRARIES = $(helixenginelib_LTLIBRARIES)
+
+libhxplayer_la_LDFLAGS =
+libhxplayer_la_DEPENDENCIES =
+am_libhxplayer_la_OBJECTS = HXPlayer.lo
+libhxplayer_la_OBJECTS = $(am_libhxplayer_la_OBJECTS)
+SCRIPTS = $(helixenginelib_SCRIPTS)
+
+
+DEFAULT_INCLUDES =  -I. -I$(srcdir) -I$(top_builddir)
+depcomp = $(SHELL) $(top_srcdir)/depcomp
+am__depfiles_maybe = depfiles
+DEP_FILES = ./$(DEPDIR)/HXPlayer.Plo
+COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
+	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) \
+	$(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+CCLD = $(CC)
+LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
+	$(AM_LDFLAGS) $(LDFLAGS) -o $@
+DIST_SOURCES = $(libhxplayer_la_SOURCES)
+DATA = $(helixenginelib_DATA)
 
 
 RECURSIVE_TARGETS = info-recursive dvi-recursive pdf-recursive \
@@ -198,51 +227,110 @@
 	all-recursive install-data-recursive install-exec-recursive \
 	installdirs-recursive install-recursive uninstall-recursive \
 	check-recursive installcheck-recursive
-DIST_COMMON = README $(srcdir)/Makefile.in $(srcdir)/configure AUTHORS \
-	COPYING ChangeLog INSTALL Makefile.am NEWS aclocal.m4 \
-	config.guess config.h.in config.sub configure configure.ac \
-	depcomp install-sh ltmain.sh missing mkinstalldirs \
-	sonance.pc.in
+DIST_COMMON = $(srcdir)/Makefile.in Makefile.am
 DIST_SUBDIRS = $(SUBDIRS)
-all: config.h
-	$(MAKE) $(AM_MAKEFLAGS) all-recursive
+SOURCES = $(libhxplayer_la_SOURCES)
 
-.SUFFIXES:
+all: all-recursive
 
-am__CONFIG_DISTCLEAN_FILES = config.status config.cache config.log \
- configure.lineno
+.SUFFIXES:
+.SUFFIXES: .c .lo .o .obj
 $(srcdir)/Makefile.in:  Makefile.am  $(top_srcdir)/configure.ac $(ACLOCAL_M4)
 	cd $(top_srcdir) && \
-	  $(AUTOMAKE) --gnu  Makefile
+	  $(AUTOMAKE) --gnu  mediaengines/helix/Makefile
 Makefile:  $(srcdir)/Makefile.in  $(top_builddir)/config.status
-	cd $(top_builddir) && $(SHELL) ./config.status $@ $(am__depfiles_maybe)
+	cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)
+helixenginelibLTLIBRARIES_INSTALL = $(INSTALL)
+install-helixenginelibLTLIBRARIES: $(helixenginelib_LTLIBRARIES)
+	@$(NORMAL_INSTALL)
+	$(mkinstalldirs) $(DESTDIR)$(helixenginelibdir)
+	@list='$(helixenginelib_LTLIBRARIES)'; for p in $$list; do \
+	  if test -f $$p; then \
+	    f="`echo $$p | sed -e 's|^.*/||'`"; \
+	    echo " $(LIBTOOL) --mode=install $(helixenginelibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) $$p $(DESTDIR)$(helixenginelibdir)/$$f"; \
+	    $(LIBTOOL) --mode=install $(helixenginelibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) $$p $(DESTDIR)$(helixenginelibdir)/$$f; \
+	  else :; fi; \
+	done
 
-$(top_builddir)/config.status: $(srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
-	$(SHELL) ./config.status --recheck
-$(srcdir)/configure:  $(srcdir)/configure.ac $(ACLOCAL_M4) $(CONFIGURE_DEPENDENCIES)
-	cd $(srcdir) && $(AUTOCONF)
-
-$(ACLOCAL_M4):  configure.ac 
-	cd $(srcdir) && $(ACLOCAL) $(ACLOCAL_AMFLAGS)
-
-config.h: stamp-h1
-	@if test ! -f $@; then \
-	  rm -f stamp-h1; \
-	  $(MAKE) stamp-h1; \
-	else :; fi
-
-stamp-h1: $(srcdir)/config.h.in $(top_builddir)/config.status
-	@rm -f stamp-h1
-	cd $(top_builddir) && $(SHELL) ./config.status config.h
-
-$(srcdir)/config.h.in:  $(top_srcdir)/configure.ac $(ACLOCAL_M4) 
-	cd $(top_srcdir) && $(AUTOHEADER)
-	touch $(srcdir)/config.h.in
-
-distclean-hdr:
-	-rm -f config.h stamp-h1
-sonance.pc: $(top_builddir)/config.status sonance.pc.in
-	cd $(top_builddir) && $(SHELL) ./config.status $@
+uninstall-helixenginelibLTLIBRARIES:
+	@$(NORMAL_UNINSTALL)
+	@list='$(helixenginelib_LTLIBRARIES)'; for p in $$list; do \
+	    p="`echo $$p | sed -e 's|^.*/||'`"; \
+	  echo " $(LIBTOOL) --mode=uninstall rm -f $(DESTDIR)$(helixenginelibdir)/$$p"; \
+	  $(LIBTOOL) --mode=uninstall rm -f $(DESTDIR)$(helixenginelibdir)/$$p; \
+	done
+
+clean-helixenginelibLTLIBRARIES:
+	-test -z "$(helixenginelib_LTLIBRARIES)" || rm -f $(helixenginelib_LTLIBRARIES)
+	@list='$(helixenginelib_LTLIBRARIES)'; for p in $$list; do \
+	  dir="`echo $$p | sed -e 's|/[^/]*$$||'`"; \
+	  test "$$dir" = "$$p" && dir=.; \
+	  echo "rm -f \"$${dir}/so_locations\""; \
+	  rm -f "$${dir}/so_locations"; \
+	done
+libhxplayer.la: $(libhxplayer_la_OBJECTS) $(libhxplayer_la_DEPENDENCIES) 
+	$(LINK) -rpath $(helixenginelibdir) $(libhxplayer_la_LDFLAGS) $(libhxplayer_la_OBJECTS) $(libhxplayer_la_LIBADD) $(LIBS)
+helixenginelibSCRIPT_INSTALL = $(INSTALL_SCRIPT)
+install-helixenginelibSCRIPTS: $(helixenginelib_SCRIPTS)
+	@$(NORMAL_INSTALL)
+	$(mkinstalldirs) $(DESTDIR)$(helixenginelibdir)
+	@list='$(helixenginelib_SCRIPTS)'; for p in $$list; do \
+	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
+	  if test -f $$d$$p; then \
+	    f=`echo "$$p" | sed 's|^.*/||;$(transform)'`; \
+	    echo " $(helixenginelibSCRIPT_INSTALL) $$d$$p $(DESTDIR)$(helixenginelibdir)/$$f"; \
+	    $(helixenginelibSCRIPT_INSTALL) $$d$$p $(DESTDIR)$(helixenginelibdir)/$$f; \
+	  else :; fi; \
+	done
+
+uninstall-helixenginelibSCRIPTS:
+	@$(NORMAL_UNINSTALL)
+	@list='$(helixenginelib_SCRIPTS)'; for p in $$list; do \
+	  f=`echo "$$p" | sed 's|^.*/||;$(transform)'`; \
+	  echo " rm -f $(DESTDIR)$(helixenginelibdir)/$$f"; \
+	  rm -f $(DESTDIR)$(helixenginelibdir)/$$f; \
+	done
+
+mostlyclean-compile:
+	-rm -f *.$(OBJEXT) core *.core
+
+distclean-compile:
+	-rm -f *.tab.c
+
+include ./$(DEPDIR)/HXPlayer.Plo
+
+.c.o:
+	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" \
+	  -c -o $@ `test -f '$<' || echo '$(srcdir)/'`$<; \
+	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; \
+	else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; \
+	fi
+#	source='$<' object='$@' libtool=no \
+#	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' \
+#	$(CCDEPMODE) $(depcomp) \
+#	$(COMPILE) -c `test -f '$<' || echo '$(srcdir)/'`$<
+
+.c.obj:
+	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" \
+	  -c -o $@ `if test -f '$<'; then $(CYGPATH_W) '$<'; else $(CYGPATH_W) '$(srcdir)/$<'; fi`; \
+	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; \
+	else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; \
+	fi
+#	source='$<' object='$@' libtool=no \
+#	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' \
+#	$(CCDEPMODE) $(depcomp) \
+#	$(COMPILE) -c `if test -f '$<'; then $(CYGPATH_W) '$<'; else $(CYGPATH_W) '$(srcdir)/$<'; fi`
+
+.c.lo:
+	if $(LTCOMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" \
+	  -c -o $@ `test -f '$<' || echo '$(srcdir)/'`$<; \
+	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Plo"; \
+	else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; \
+	fi
+#	source='$<' object='$@' libtool=yes \
+#	depfile='$(DEPDIR)/$*.Plo' tmpdepfile='$(DEPDIR)/$*.TPlo' \
+#	$(CCDEPMODE) $(depcomp) \
+#	$(LTCOMPILE) -c -o $@ `test -f '$<' || echo '$(srcdir)/'`$<
 
 mostlyclean-libtool:
 	-rm -f *.lo
@@ -253,23 +341,23 @@
 distclean-libtool:
 	-rm -f libtool
 uninstall-info-am:
-pkgconfigDATA_INSTALL = $(INSTALL_DATA)
-install-pkgconfigDATA: $(pkgconfig_DATA)
+helixenginelibDATA_INSTALL = $(INSTALL_DATA)
+install-helixenginelibDATA: $(helixenginelib_DATA)
 	@$(NORMAL_INSTALL)
-	$(mkinstalldirs) $(DESTDIR)$(pkgconfigdir)
-	@list='$(pkgconfig_DATA)'; for p in $$list; do \
+	$(mkinstalldirs) $(DESTDIR)$(helixenginelibdir)
+	@list='$(helixenginelib_DATA)'; for p in $$list; do \
 	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
 	  f="`echo $$p | sed -e 's|^.*/||'`"; \
-	  echo " $(pkgconfigDATA_INSTALL) $$d$$p $(DESTDIR)$(pkgconfigdir)/$$f"; \
-	  $(pkgconfigDATA_INSTALL) $$d$$p $(DESTDIR)$(pkgconfigdir)/$$f; \
+	  echo " $(helixenginelibDATA_INSTALL) $$d$$p $(DESTDIR)$(helixenginelibdir)/$$f"; \
+	  $(helixenginelibDATA_INSTALL) $$d$$p $(DESTDIR)$(helixenginelibdir)/$$f; \
 	done
 
-uninstall-pkgconfigDATA:
+uninstall-helixenginelibDATA:
 	@$(NORMAL_UNINSTALL)
-	@list='$(pkgconfig_DATA)'; for p in $$list; do \
+	@list='$(helixenginelib_DATA)'; for p in $$list; do \
 	  f="`echo $$p | sed -e 's|^.*/||'`"; \
-	  echo " rm -f $(DESTDIR)$(pkgconfigdir)/$$f"; \
-	  rm -f $(DESTDIR)$(pkgconfigdir)/$$f; \
+	  echo " rm -f $(DESTDIR)$(helixenginelibdir)/$$f"; \
+	  rm -f $(DESTDIR)$(helixenginelibdir)/$$f; \
 	done
 
 # This directory's subdirectories are mostly independent; you can cd
@@ -348,7 +436,7 @@
 	       END { for (i in files) print i; }'`; \
 	mkid -fID $$unique
 
-TAGS: tags-recursive $(HEADERS) $(SOURCES) config.h.in $(TAGS_DEPENDENCIES) \
+TAGS: tags-recursive $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
 		$(TAGS_FILES) $(LISP)
 	tags=; \
 	here=`pwd`; \
@@ -363,7 +451,7 @@
 	      tags="$$tags $$include_option=$$here/$$subdir/TAGS"; \
 	  fi; \
 	done; \
-	list='$(SOURCES) $(HEADERS) config.h.in $(LISP) $(TAGS_FILES)'; \
+	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
@@ -374,11 +462,11 @@
 	     $$tags $$unique
 
 ctags: CTAGS
-CTAGS: ctags-recursive $(HEADERS) $(SOURCES) config.h.in $(TAGS_DEPENDENCIES) \
+CTAGS: ctags-recursive $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
 		$(TAGS_FILES) $(LISP)
 	tags=; \
 	here=`pwd`; \
-	list='$(SOURCES) $(HEADERS) config.h.in $(LISP) $(TAGS_FILES)'; \
+	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
@@ -397,22 +485,10 @@
 	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags
 DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
 
-top_distdir = .
-distdir = $(PACKAGE)-$(VERSION)
-
-am__remove_distdir = \
-  { test ! -d $(distdir) \
-    || { find $(distdir) -type d ! -perm -200 -exec chmod u+w {} ';' \
-         && rm -fr $(distdir); }; }
-
-GZIP_ENV = --best
-distuninstallcheck_listfiles = find . -type f -print
-distcleancheck_listfiles = find . -type f -print
+top_distdir = ../..
+distdir = $(top_distdir)/$(PACKAGE)-$(VERSION)
 
 distdir: $(DISTFILES)
-	$(am__remove_distdir)
-	mkdir $(distdir)
-	$(mkinstalldirs) $(distdir)/. $(distdir)/data $(distdir)/src
 	@srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`; \
 	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's|.|.|g'`; \
 	list='$(DISTFILES)'; for file in $$list; do \
@@ -452,81 +528,12 @@
 	      || exit 1; \
 	  fi; \
 	done
-	-find $(distdir) -type d ! -perm -777 -exec chmod a+rwx {} \; -o \
-	  ! -type d ! -perm -444 -links 1 -exec chmod a+r {} \; -o \
-	  ! -type d ! -perm -400 -exec chmod a+r {} \; -o \
-	  ! -type d ! -perm -444 -exec $(SHELL) $(install_sh) -c -m a+r {} {} \; \
-	|| chmod -R a+r $(distdir)
-dist-gzip: distdir
-	$(AMTAR) chof - $(distdir) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).tar.gz
-	$(am__remove_distdir)
-
-dist dist-all: distdir
-	$(AMTAR) chof - $(distdir) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).tar.gz
-	$(am__remove_distdir)
-
-# This target untars the dist file and tries a VPATH configuration.  Then
-# it guarantees that the distribution is self-contained by making another
-# tarfile.
-distcheck: dist
-	$(am__remove_distdir)
-	GZIP=$(GZIP_ENV) gunzip -c $(distdir).tar.gz | $(AMTAR) xf -
-	chmod -R a-w $(distdir); chmod a+w $(distdir)
-	mkdir $(distdir)/_build
-	mkdir $(distdir)/_inst
-	chmod a-w $(distdir)
-	dc_install_base=`$(am__cd) $(distdir)/_inst && pwd | sed -e 's,^[^:\\/]:[\\/],/,'` \
-	  && dc_destdir="$${TMPDIR-/tmp}/am-dc-$$$$/" \
-	  && cd $(distdir)/_build \
-	  && ../configure --srcdir=.. --prefix="$$dc_install_base" \
-	    $(DISTCHECK_CONFIGURE_FLAGS) \
-	  && $(MAKE) $(AM_MAKEFLAGS) \
-	  && $(MAKE) $(AM_MAKEFLAGS) dvi \
-	  && $(MAKE) $(AM_MAKEFLAGS) check \
-	  && $(MAKE) $(AM_MAKEFLAGS) install \
-	  && $(MAKE) $(AM_MAKEFLAGS) installcheck \
-	  && $(MAKE) $(AM_MAKEFLAGS) uninstall \
-	  && $(MAKE) $(AM_MAKEFLAGS) distuninstallcheck_dir="$$dc_install_base" \
-	        distuninstallcheck \
-	  && chmod -R a-w "$$dc_install_base" \
-	  && ({ \
-	       (cd ../.. && $(mkinstalldirs) "$$dc_destdir") \
-	       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR="$$dc_destdir" install \
-	       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR="$$dc_destdir" uninstall \
-	       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR="$$dc_destdir" \
-	            distuninstallcheck_dir="$$dc_destdir" distuninstallcheck; \
-	      } || { rm -rf "$$dc_destdir"; exit 1; }) \
-	  && rm -rf "$$dc_destdir" \
-	  && $(MAKE) $(AM_MAKEFLAGS) dist-gzip \
-	  && rm -f $(distdir).tar.gz \
-	  && $(MAKE) $(AM_MAKEFLAGS) distcleancheck
-	$(am__remove_distdir)
-	@echo "$(distdir).tar.gz is ready for distribution" | \
-	  sed 'h;s/./=/g;p;x;p;x'
-distuninstallcheck:
-	@cd $(distuninstallcheck_dir) \
-	&& test `$(distuninstallcheck_listfiles) | wc -l` -le 1 \
-	   || { echo "ERROR: files left after uninstall:" ; \
-	        if test -n "$(DESTDIR)"; then \
-	          echo "  (check DESTDIR support)"; \
-	        fi ; \
-	        $(distuninstallcheck_listfiles) ; \
-	        exit 1; } >&2
-distcleancheck: distclean
-	@if test '$(srcdir)' = . ; then \
-	  echo "ERROR: distcleancheck can only run from a VPATH build" ; \
-	  exit 1 ; \
-	fi
-	@test `$(distcleancheck_listfiles) | wc -l` -eq 0 \
-	  || { echo "ERROR: files left in build directory after distclean:" ; \
-	       $(distcleancheck_listfiles) ; \
-	       exit 1; } >&2
 check-am: all-am
 check: check-recursive
-all-am: Makefile $(DATA) config.h
+all-am: Makefile $(LTLIBRARIES) $(SCRIPTS) $(DATA)
 installdirs: installdirs-recursive
 installdirs-am:
-	$(mkinstalldirs) $(DESTDIR)$(pkgconfigdir)
+	$(mkinstalldirs) $(DESTDIR)$(helixenginelibdir) $(DESTDIR)$(helixenginelibdir) $(DESTDIR)$(helixenginelibdir)
 
 install: install-recursive
 install-exec: install-exec-recursive
@@ -556,13 +563,14 @@
 	@echo "it deletes files that may require special tools to rebuild."
 clean: clean-recursive
 
-clean-am: clean-generic clean-libtool mostlyclean-am
+clean-am: clean-generic clean-helixenginelibLTLIBRARIES clean-libtool \
+	mostlyclean-am
 
 distclean: distclean-recursive
-	-rm -f $(am__CONFIG_DISTCLEAN_FILES)
+	-rm -rf ./$(DEPDIR)
 	-rm -f Makefile
-distclean-am: clean-am distclean-generic distclean-hdr distclean-libtool \
-	distclean-tags
+distclean-am: clean-am distclean-compile distclean-generic \
+	distclean-libtool distclean-tags
 
 dvi: dvi-recursive
 
@@ -572,7 +580,10 @@
 
 info-am:
 
-install-data-am: install-pkgconfigDATA
+install-data-am: install-helixenginelibDATA \
+	install-helixenginelibLTLIBRARIES install-helixenginelibSCRIPTS
+	@$(NORMAL_INSTALL)
+	$(MAKE) $(AM_MAKEFLAGS) install-data-hook
 
 install-exec-am:
 
@@ -583,14 +594,14 @@
 installcheck-am:
 
 maintainer-clean: maintainer-clean-recursive
-	-rm -f $(am__CONFIG_DISTCLEAN_FILES)
-	-rm -rf $(top_srcdir)/autom4te.cache
+	-rm -rf ./$(DEPDIR)
 	-rm -f Makefile
 maintainer-clean-am: distclean-am maintainer-clean-generic
 
 mostlyclean: mostlyclean-recursive
 
-mostlyclean-am: mostlyclean-generic mostlyclean-libtool
+mostlyclean-am: mostlyclean-compile mostlyclean-generic \
+	mostlyclean-libtool
 
 pdf: pdf-recursive
 
@@ -600,30 +611,45 @@
 
 ps-am:
 
-uninstall-am: uninstall-info-am uninstall-pkgconfigDATA
+uninstall-am: uninstall-helixenginelibDATA \
+	uninstall-helixenginelibLTLIBRARIES \
+	uninstall-helixenginelibSCRIPTS uninstall-info-am
 
 uninstall-info: uninstall-info-recursive
 
 .PHONY: $(RECURSIVE_TARGETS) CTAGS GTAGS all all-am check check-am clean \
-	clean-generic clean-libtool clean-recursive ctags \
-	ctags-recursive dist dist-all dist-gzip distcheck distclean \
-	distclean-generic distclean-hdr distclean-libtool \
-	distclean-recursive distclean-tags distcleancheck distdir \
-	distuninstallcheck dvi dvi-am dvi-recursive info info-am \
-	info-recursive install install-am install-data install-data-am \
-	install-data-recursive install-exec install-exec-am \
-	install-exec-recursive install-info install-info-am \
-	install-info-recursive install-man install-pkgconfigDATA \
-	install-recursive install-strip installcheck installcheck-am \
-	installdirs installdirs-am installdirs-recursive \
-	maintainer-clean maintainer-clean-generic \
-	maintainer-clean-recursive mostlyclean mostlyclean-generic \
-	mostlyclean-libtool mostlyclean-recursive pdf pdf-am \
-	pdf-recursive ps ps-am ps-recursive tags tags-recursive \
-	uninstall uninstall-am uninstall-info-am \
-	uninstall-info-recursive uninstall-pkgconfigDATA \
-	uninstall-recursive
+	clean-generic clean-helixenginelibLTLIBRARIES clean-libtool \
+	clean-recursive ctags ctags-recursive distclean \
+	distclean-compile distclean-generic distclean-libtool \
+	distclean-recursive distclean-tags distdir dvi dvi-am \
+	dvi-recursive info info-am info-recursive install install-am \
+	install-data install-data-am install-data-recursive \
+	install-exec install-exec-am install-exec-recursive \
+	install-helixenginelibDATA install-helixenginelibLTLIBRARIES \
+	install-helixenginelibSCRIPTS install-info install-info-am \
+	install-info-recursive install-man install-recursive \
+	install-strip installcheck installcheck-am installdirs \
+	installdirs-am installdirs-recursive maintainer-clean \
+	maintainer-clean-generic maintainer-clean-recursive mostlyclean \
+	mostlyclean-compile mostlyclean-generic mostlyclean-libtool \
+	mostlyclean-recursive pdf pdf-am pdf-recursive ps ps-am \
+	ps-recursive tags tags-recursive uninstall uninstall-am \
+	uninstall-helixenginelibDATA \
+	uninstall-helixenginelibLTLIBRARIES \
+	uninstall-helixenginelibSCRIPTS uninstall-info-am \
+	uninstall-info-recursive uninstall-recursive
+
+
+all: $(ASSEMBLY)
+
+$(ASSEMBLY): $(ASSEMBLY_SOURCES)
+	$(MCS) $(MCS_FLAGS) -target:library -out:$@ -r:$(top_builddir)/plugincore/plugin-core.dll $(ASSEMBLY_SOURCES)
+
+install-data-hook:
+	$(INSTALL) -c -c -m 0755 libhxclient.so $(pkglibdir)/mediaengines/helix
 
+uninstall-data:
+	rm -f $(pkglibdir)/mediaengines/helix/libhxclient.so
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
diff -ur sonance.orig/mediaengines/helix/Makefile sonance/mediaengines/helix/Makefile
--- sonance.orig/mediaengines/helix/Makefile	2005-08-03 17:18:27.000000000 -0400
+++ sonance/mediaengines/helix/Makefile	2005-08-03 17:19:51.000000000 -0400
@@ -646,7 +646,7 @@
 	$(MCS) $(MCS_FLAGS) -target:library -out:$@ -r:$(top_builddir)/plugincore/plugin-core.dll $(ASSEMBLY_SOURCES)
 
 install-data-hook:
-	$(INSTALL) -c -c -m 0755 libhxclient.so $(pkglibdir)/mediaengines/helix
+	$(INSTALL) -c -c -m 0755 libhxclient.so $(DESTDIR)$(pkglibdir)/mediaengines/helix
 
 uninstall-data:
 	rm -f $(pkglibdir)/mediaengines/helix/libhxclient.so
diff -ur sonance.orig/mediaengines/helix/Makefile.am sonance/mediaengines/helix/Makefile.am
--- sonance.orig/mediaengines/helix/Makefile.am	2005-08-03 17:18:27.000000000 -0400
+++ sonance/mediaengines/helix/Makefile.am	2005-08-03 17:38:10.000000000 -0400
@@ -34,8 +34,8 @@
 CLEANFILES = *.dll *.mdb *.exe
 
 install-data-hook:
-	$(INSTALL) -c -c -m 0755 libhxclient.so $(pkglibdir)/mediaengines/helix
+	$(INSTALL) -c -c -m 0755 libhxclient.so $(DESTDIR)$(pkglibdir)/mediaengines/helix
 
 uninstall-data:
-	rm -f $(pkglibdir)/mediaengines/helix/libhxclient.so
+	rm -f $(DESTDIR)$(pkglibdir)/mediaengines/helix/libhxclient.so
 
diff -ur sonance.orig/mediaengines/helix/Makefile.in sonance/mediaengines/helix/Makefile.in
--- sonance.orig/mediaengines/helix/Makefile.in	2005-08-03 17:18:27.000000000 -0400
+++ sonance/mediaengines/helix/Makefile.in	2005-08-03 17:38:33.000000000 -0400
@@ -646,10 +646,10 @@
 	$(MCS) $(MCS_FLAGS) -target:library -out:$@ -r:$(top_builddir)/plugincore/plugin-core.dll $(ASSEMBLY_SOURCES)
 
 install-data-hook:
-	$(INSTALL) -c -c -m 0755 libhxclient.so $(pkglibdir)/mediaengines/helix
+	$(INSTALL) -c -c -m 0755 libhxclient.so $(DESTDIR)$(pkglibdir)/mediaengines/helix
 
 uninstall-data:
-	rm -f $(pkglibdir)/mediaengines/helix/libhxclient.so
+	rm -f $(DESTDIR)$(pkglibdir)/mediaengines/helix/libhxclient.so
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
