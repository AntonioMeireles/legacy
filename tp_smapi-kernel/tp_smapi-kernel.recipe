#
# Copyright (c) 2008 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('kernelmodulepackage')
class TPsmapiKMOD(KernelModulePackageRecipe):
    name = 'tp_smapi-kernel'
    version =  '0.40'

    def unpack(r):
        r.addArchive('mirror://sourceforge/tpctl/tp_smapi/0.40/tp_smapi-%(version)s.tgz')

    def build(r):
        r.Make("HDAPS=1")

    def policy(r):
        # if we install this we want matching userland...
        r.Requires('thinkhdaps:runtime', '/lib/modules/.*')

