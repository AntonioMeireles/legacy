------------------------------------------------------------------------
r1096784 | porten | 2010-02-27 19:46:13 +0300 (Sat, 27 Feb 2010) | 2 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/kjs/object.cpp

Merged revision 1096783:
Lower max recursion limit. Was too much on my amd64 system.
------------------------------------------------------------------------
r1096853 | ahartmetz | 2010-02-27 23:35:15 +0300 (Sat, 27 Feb 2010) | 4 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/kioslave/http/http.cpp
   M /branches/KDE/4.4/kdelibs/kioslave/http/http_cache_cleaner.cpp

Backport revisions 1074287, 1074338, 1074815, 1075312: cache entries scoreboard
to reduce disk seeks by not having to read gazillions of small files.


------------------------------------------------------------------------
r1096878 | fdekruijf | 2010-02-28 00:34:05 +0300 (Sun, 28 Feb 2010) | 1 line
Changed paths:
   M /branches/KDE/4.4/kdelibs/kdoctools/docbook/xsl/common/nl.xml

documentation footer translatable
------------------------------------------------------------------------
r1096903 | aseigo | 2010-02-28 01:19:24 +0300 (Sun, 28 Feb 2010) | 2 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/plasma/widgets/label.cpp

fix a regression with the link fix: we only want to go into text browser mode when text is selectable

------------------------------------------------------------------------
r1097020 | aseigo | 2010-02-28 11:32:00 +0300 (Sun, 28 Feb 2010) | 2 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/plasma/widgets/label.cpp

use the accessor to get to the native widget

------------------------------------------------------------------------
r1097100 | ilic | 2010-02-28 16:05:45 +0300 (Sun, 28 Feb 2010) | 1 line
Changed paths:
   M /branches/KDE/4.4/kdelibs/kdecore/localization/ktranslit.cpp

New mapping for dialect hybridization. (bport: 1097099)
------------------------------------------------------------------------
r1097412 | scripty | 2010-03-01 13:30:22 +0300 (Mon, 01 Mar 2010) | 1 line
Changed paths:
   M /branches/KDE/4.4/kdelibs/interfaces/kimproxy/interface/kcm_instantmessenger.desktop
   M /branches/KDE/4.4/kdelibs/interfaces/ktexteditor/kcm_ktexteditor.desktop
   M /branches/KDE/4.4/kdelibs/kate/plugins/autobrace/ktexteditor_autobrace.desktop
   M /branches/KDE/4.4/kdelibs/kate/plugins/exporter/ktexteditor_exporter.desktop
   M /branches/KDE/4.4/kdelibs/kate/plugins/pythonencoding/ktexteditor_python-encoding.desktop
   M /branches/KDE/4.4/kdelibs/kdecore/all_languages.desktop
   M /branches/KDE/4.4/kdelibs/kfile/kfilemodule.desktop
   M /branches/KDE/4.4/kdelibs/kio/kfile/kiofilemodule.desktop
   M /branches/KDE/4.4/kdelibs/plasma/data/servicetypes/plasma-applet-extenderapplet.desktop
   M /branches/KDE/4.4/kdelibs/plasma/data/servicetypes/plasma-applet-popupapplet.desktop
   M /branches/KDE/4.4/kdelibs/plasma/data/servicetypes/plasma-containmentactions.desktop
   M /branches/KDE/4.4/kdelibs/plasma/kcm_remotewidgets.actions
   M /branches/KDE/4.4/kdelibs/plasma/tests/packagemetadatatest.desktop
   M /branches/KDE/4.4/kdelibs/sonnet/plugins/hunspell/kspell_hunspell.desktop

SVN_SILENT made messages (.desktop file)
------------------------------------------------------------------------
r1097544 | adawit | 2010-03-01 19:01:00 +0300 (Mon, 01 Mar 2010) | 1 line
Changed paths:
   M /branches/KDE/4.4/kdelibs/kparts/statusbarextension.cpp

Ensure unexpected deletion of KStatusBarItem's widget does not cause a crash
------------------------------------------------------------------------
r1097572 | trueg | 2010-03-01 20:09:49 +0300 (Mon, 01 Mar 2010) | 1 line
Changed paths:
   M /branches/KDE/4.4/kdelibs/nepomuk/query/queryserviceclient.h

Backport: Added another example to sparqlQuery to make clear that one can basically query anything this way.
------------------------------------------------------------------------
r1097584 | aseigo | 2010-03-01 20:58:37 +0300 (Mon, 01 Mar 2010) | 2 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/plasma/scripting/appletscript.cpp

add the standard config pages in the AppletScript fallback method for showing the configuration

------------------------------------------------------------------------
r1097623 | dafre | 2010-03-01 22:20:31 +0300 (Mon, 01 Mar 2010) | 6 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/CreateKDELibsDependenciesFile.cmake
   M /branches/KDE/4.4/kdelibs/cmake/modules/KDE4Macros.cmake
   M /branches/KDE/4.4/kdelibs/kdecore/CMakeLists.txt
   M /branches/KDE/4.4/kdelibs/kdecore/auth/BackendsConfig.h.cmake
   M /branches/KDE/4.4/kdelibs/kdecore/auth/BackendsManager.cpp
   M /branches/KDE/4.4/kdelibs/kdecore/auth/BackendsManager.h
   M /branches/KDE/4.4/kdelibs/kdecore/auth/ConfigureChecks.cmake
   M /branches/KDE/4.4/kdelibs/kdecore/auth/backends/dbus/DBusHelperProxy.cpp
   M /branches/KDE/4.4/kdelibs/kdecore/auth/backends/fake/FakeBackend.cpp
   A /branches/KDE/4.4/kdelibs/kdecore/auth/backends/fakehelper
   A /branches/KDE/4.4/kdelibs/kdecore/auth/backends/fakehelper/FakeHelperProxy.cpp
   A /branches/KDE/4.4/kdelibs/kdecore/auth/backends/fakehelper/FakeHelperProxy.h
   M /branches/KDE/4.4/kdelibs/kdecore/auth/backends/mac/AuthServicesBackend.cpp
   M /branches/KDE/4.4/kdelibs/kdecore/auth/backends/policykit/PolicyKitBackend.cpp
   M /branches/KDE/4.4/kdelibs/kdecore/auth/backends/polkit-1/Polkit1Backend.cpp

This commit is a massive backport of: r1091455, r1091811, r1091516, r1091017, r1089968, r1089130 and maybe some others which I forgot.

Basically it makes KAuth's plugins dynamic, except for fake ones. Bottom line: less libraries linked to kdecore and no crashes upon installation problems.
Tested on a clean build of the branch, works great.


------------------------------------------------------------------------
r1097737 | mmrozowski | 2010-03-02 04:07:37 +0300 (Tue, 02 Mar 2010) | 1 line
Changed paths:
   M /branches/KDE/4.4/kdelibs/CreateKDELibsDependenciesFile.cmake

SVN_SILENT fixed some minor spelling in comments
------------------------------------------------------------------------
r1097920 | sebsauer | 2010-03-02 15:35:24 +0300 (Tue, 02 Mar 2010) | 3 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/kross/qts/values_p.h

backport r1097919
added include() function which allows to load qt.gui and other QtScriptExtension's from within scripts.

------------------------------------------------------------------------
r1097930 | mart | 2010-03-02 16:03:40 +0300 (Tue, 02 Mar 2010) | 2 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/plasma/widgets/iconwidget.cpp

backport accelerator markers removal in tooltips

------------------------------------------------------------------------
r1097934 | lunakl | 2010-03-02 16:15:24 +0300 (Tue, 02 Mar 2010) | 6 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/kdeui/windowmanagement/kwindowinfo_x11.cpp

Backport:
With viewports, use cached geometry value instead of querying
X about it, avoids threading problems in KRunner.
Patch by Danny Baumann.


------------------------------------------------------------------------
r1097945 | dfaure | 2010-03-02 16:56:43 +0300 (Tue, 02 Mar 2010) | 3 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/kded/kbuildmimetypefactory.cpp
   M /branches/KDE/4.4/kdelibs/kded/kbuildservicefactory.cpp
   M /branches/KDE/4.4/kdelibs/kded/kmimeassociations.cpp
   M /branches/KDE/4.4/kdelibs/kded/kmimeassociations.h
   M /branches/KDE/4.4/kdelibs/kded/tests/kmimeassociationstest.cpp

Resolve aliases when reading mimeapps.list, useful when shared-mime-info turns a real mimetype into an alias,
and matches the behavior in gio (according to Alexander Larsson).

------------------------------------------------------------------------
r1097954 | dfaure | 2010-03-02 17:19:38 +0300 (Tue, 02 Mar 2010) | 12 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/kdecore/services/kmimetype.h
   M /branches/KDE/4.4/kdelibs/kdecore/tests/kmimetypetest.cpp

As discussed with Pino: make alias resolution the default in KMimeType::mimeType.
There is just no good reason not to, aliases can be used anywhere, especially with
shared-mime-info replacing mimetypes with aliases over time (e.g. image/ico).

This fixes at least two bugs:
1) a bug noticed by Pino: if you set the old name as filter in kfiledialog, when
   updating s-m-i it won't work anymore (because aliases are not resolved)
2) the bug that nspluginscan would define mimetypes because "unknown" when they are
   in fact aliases.
BUG: 197346
Fixed for: 4.4.2

------------------------------------------------------------------------
r1097987 | mart | 2010-03-02 18:28:36 +0300 (Tue, 02 Mar 2010) | 2 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/plasma/widgets/iconwidget.cpp

backport use of action->toolTip()

------------------------------------------------------------------------
r1098062 | grossard | 2010-03-02 22:18:04 +0300 (Tue, 02 Mar 2010) | 2 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/kdoctools/customization/fr/user.entities

added a new translator

------------------------------------------------------------------------
r1098376 | gladhorn | 2010-03-03 18:45:09 +0300 (Wed, 03 Mar 2010) | 3 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/knewstuff/knewstuff3/uploaddialog.h

backport 1098372
use forward declaration so apps using knewstuff upload don't need attica headers

------------------------------------------------------------------------
r1099157 | pino | 2010-03-05 04:33:53 +0300 (Fri, 05 Mar 2010) | 2 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/cmake/modules/FindBlitz.cmake

reduce few columns, so it gives less issues in manpages generation

------------------------------------------------------------------------
r1099482 | reed | 2010-03-05 20:19:22 +0300 (Fri, 05 Mar 2010) | 1 line
Changed paths:
   M /branches/KDE/4.4/kdelibs/kdecore/kernel/kcmdlineargs.cpp

skip -psn_* on OSX in a less brittle way
------------------------------------------------------------------------
r1099487 | reed | 2010-03-05 20:28:12 +0300 (Fri, 05 Mar 2010) | 7 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/kdecore/kernel/kstandarddirs.cpp

work around OSX 10.6 fork .. exec restrictions

Qt's QFileInfo does a number of calls in it's constructor,
some of which trigger 10.6's draconian restrictions on
CoreFoundation calls after fork.  Do some simple stats
instead for this code.

------------------------------------------------------------------------
r1099489 | reed | 2010-03-05 20:31:47 +0300 (Fri, 05 Mar 2010) | 1 line
Changed paths:
   M /branches/KDE/4.4/kdelibs/kded/CMakeLists.txt
   A /branches/KDE/4.4/kdelibs/kded/Info.plist.template

add a custom Info.plist bundle to make kded invisible on OSX
------------------------------------------------------------------------
r1099491 | reed | 2010-03-05 20:34:50 +0300 (Fri, 05 Mar 2010) | 1 line
Changed paths:
   M /branches/KDE/4.4/kdelibs/kdeui/kernel/kuniqueapplication.cpp

refactor mac initialization in kuniqueapplication
------------------------------------------------------------------------
r1099494 | reed | 2010-03-05 20:40:12 +0300 (Fri, 05 Mar 2010) | 7 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/kinit/CMakeLists.txt
   A /branches/KDE/4.4/kdelibs/kinit/Info.plist.template

hide kinit from the dock

Add a plist file to hide kinit from the dock.  Also
changes the "GUI" build of kinit from APPLE to
Q_WS_MAC, since Q_WS_X11 on OSX should still be
nogui.

------------------------------------------------------------------------
r1099497 | reed | 2010-03-05 20:42:20 +0300 (Fri, 05 Mar 2010) | 1 line
Changed paths:
   M /branches/KDE/4.4/kdelibs/kinit/klauncher_main.cpp

initialize dbus if necessary in klauncher on OSX
------------------------------------------------------------------------
r1099499 | reed | 2010-03-05 20:44:07 +0300 (Fri, 05 Mar 2010) | 1 line
Changed paths:
   M /branches/KDE/4.4/kdelibs/kutils/kidletime/xscreensaverbasedpoller.cpp

OSX 10.4 needs Xlib.h included before the screensaver extension
------------------------------------------------------------------------
r1099634 | pletourn | 2010-03-06 00:31:08 +0300 (Sat, 06 Mar 2010) | 4 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/kate/document/katedocument.cpp

Fix block selection

CCBUG:229454

------------------------------------------------------------------------
r1099656 | mart | 2010-03-06 01:32:09 +0300 (Sat, 06 Mar 2010) | 2 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/plasma/dialog.cpp

backport mask fixing

------------------------------------------------------------------------
r1099660 | mart | 2010-03-06 01:36:57 +0300 (Sat, 06 Mar 2010) | 2 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/plasma/private/tooltip.cpp

backport mask deactivation on composite on

------------------------------------------------------------------------
r1100005 | annma | 2010-03-06 17:30:57 +0300 (Sat, 06 Mar 2010) | 3 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/plasma/extenders/extender.cpp
   M /branches/KDE/4.4/kdelibs/plasma/extenders/extenderitem.cpp
   M /branches/KDE/4.4/kdelibs/plasma/private/extenderitemmimedata.cpp
   M /branches/KDE/4.4/kdelibs/plasma/private/extenderitemmimedata_p.h

backport Aaron's fixe r1099727  for 229566
CCBUG=229566

------------------------------------------------------------------------
r1100529 | winterz | 2010-03-07 21:29:29 +0300 (Sun, 07 Mar 2010) | 7 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/kdecore/tests/ktimezonestest.cpp

Backport r1100528 by winterz from trunk to the 4.4 branch:

fix compile on Sun Studio 12 U1 "Error: tm_gmtoff is not a member of std::tm"
based on a patch by tropikhajma
CCBUG: 217802


------------------------------------------------------------------------
r1100899 | mwolff | 2010-03-09 01:43:01 +0300 (Tue, 09 Mar 2010) | 3 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/kate/plugins/exporter/exporterpluginview.cpp

backport: also set text/plain data in clipboard to HTML version

CCBUG: 228204
------------------------------------------------------------------------
r1100900 | mwolff | 2010-03-09 01:44:13 +0300 (Tue, 09 Mar 2010) | 3 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/kate/data/CMakeLists.txt
   A /branches/KDE/4.4/kdelibs/kate/data/katepartpluginsrc

backport: enable exporter plugin by default

CCBUG: 230012
------------------------------------------------------------------------
r1100905 | rkcosta | 2010-03-09 01:55:20 +0300 (Tue, 09 Mar 2010) | 4 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/kdecore/io/kurl.cpp
   M /branches/KDE/4.4/kdelibs/kdecore/tests/kurltest.cpp

Backport r1100904.

Use toPrettyPercentEncoding() for the query part too, otherwise "%0A" ends up being interpreted as "\n", for example.

------------------------------------------------------------------------
r1100961 | rkcosta | 2010-03-09 06:21:59 +0300 (Tue, 09 Mar 2010) | 13 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/kdecore/io/kurl.cpp
   M /branches/KDE/4.4/kdelibs/kdecore/tests/kurltest.cpp

Backport r1100959.

Revert r861021, which added QUrl::fromPercentEncoding() to QUrl::encodedQuery().

prettyUrl() did return a prettier version of the query string, however it was broken when
the original URL contained characters such as %A0 (should be %C2%A0 to be valid UTF-8),
which were converted to UTF-8 by fromPercentEncoding().

This ends up turning %A0 into some weird, unexpected UTF-8 character in Konqueror's
location bar as well, which would pass the wrong query string when the page was reloaded.

Test cases updated.

------------------------------------------------------------------------
r1100977 | aseigo | 2010-03-09 08:13:50 +0300 (Tue, 09 Mar 2010) | 2 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/plasma/applet.cpp

guard against multiple connections due to errant StartupCompleted constraints

------------------------------------------------------------------------
r1100982 | aseigo | 2010-03-09 08:58:35 +0300 (Tue, 09 Mar 2010) | 2 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/plasma/package.cpp

allow arbitrary in-package paths with empty fileType

------------------------------------------------------------------------
r1101268 | aseigo | 2010-03-09 23:02:25 +0300 (Tue, 09 Mar 2010) | 3 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/plasma/widgets/svgwidget.h

properties need to be fully qualified
CCBUG:229668

------------------------------------------------------------------------
r1101319 | aseigo | 2010-03-10 00:53:29 +0300 (Wed, 10 Mar 2010) | 2 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/plasma/applet.cpp

don't crash when failing multiple times

------------------------------------------------------------------------
r1101373 | ilic | 2010-03-10 03:48:26 +0300 (Wed, 10 Mar 2010) | 1 line
Changed paths:
   M /branches/KDE/4.4/kdelibs/kdecore/localization/klocalizedstring.cpp
   M /branches/KDE/4.4/kdelibs/kdecore/localization/ktranslit.cpp
   M /branches/KDE/4.4/kdelibs/kdecore/localization/ktranslit_p.h

Language and scripts splitting now fully language-specific, on need-to-have basis.
------------------------------------------------------------------------
r1101387 | rkcosta | 2010-03-10 05:28:49 +0300 (Wed, 10 Mar 2010) | 6 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/kdecore/tests/kurltest.cpp

Backport r1101386.

For now, make all tests pass again after the latest commit to KUrl::prettyUrl().

Maybe the previous prettyUrl() behaviour should be restored and Konqueror "fixed" instead. Not really sure yet.

------------------------------------------------------------------------
r1101683 | trueg | 2010-03-10 18:14:55 +0300 (Wed, 10 Mar 2010) | 1 line
Changed paths:
   M /branches/KDE/4.4/kdelibs/nepomuk/Mainpage.dox

Backport: properly exclude the private classes
------------------------------------------------------------------------
r1101692 | dfaure | 2010-03-10 19:33:29 +0300 (Wed, 10 Mar 2010) | 4 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/plasma/widgets/svgwidget.h

Fix compilation error with Qt-4.6.0, plasma/svgwidget.moc:53: error: 'staticMetaObject' is not a member of 'Plasma'
Apparently moc is more clever in Qt-4.6.3, but anyway http://bugreports.qt.nokia.com/browse/QTBUG-2151 is right,
the property is only usable if declared with Q_DECLARE_METATYPE, isn't it?

------------------------------------------------------------------------
r1101739 | winterz | 2010-03-10 22:44:29 +0300 (Wed, 10 Mar 2010) | 8 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/kdecore/network/ConfigureChecks.cmake

add the QtCore and QtNetwork libraries to the CMAKE_REQUIRED_LIBRARIES
when doing try compiles. 
Might fix building with -g on Sun Studio12

tropikhajma, please test and let me know if this works.
if it does, we can forward port to trunk.
BUG: 204993

------------------------------------------------------------------------
r1101774 | aseigo | 2010-03-11 00:42:57 +0300 (Thu, 11 Mar 2010) | 2 lines
Changed paths:
   M /branches/KDE/4.4/kdelibs/plasma/dataengine.cpp

protect against stupid DataEngineScript implementations

------------------------------------------------------------------------
r1102048 | trueg | 2010-03-11 20:19:08 +0300 (Thu, 11 Mar 2010) | 1 line
Changed paths:
   M /branches/KDE/4.4/kdelibs/nepomuk/core/resourcedata.cpp

Backport: Query optimization: we only use the one result anyway.
------------------------------------------------------------------------
