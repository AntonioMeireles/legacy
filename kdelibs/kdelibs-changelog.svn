------------------------------------------------------------------------
r961957 | rpedersen | 2009-05-01 13:05:13 +0400 (Fri, 01 May 2009) | 2 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kate/syntax/data/latex.xml

backport trunk r960802 and r961953

------------------------------------------------------------------------
r962273 | darioandres | 2009-05-02 02:16:43 +0400 (Sat, 02 May 2009) | 10 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdeui/dialogs/kedittoolbar.cpp

Backport to 4.2branch of:
SVN commit 962271 by darioandres:

When moving an action from Available to Current, set the focus on the new added
option
So, if the user adds more actions they will be place under the first added on.
(instead of putting them at the bottom)

CCBUG: 134555

------------------------------------------------------------------------
r962452 | orlovich | 2009-05-02 18:03:05 +0400 (Sat, 02 May 2009) | 6 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/khtml/html/html_elementimpl.cpp
   M /branches/KDE/4.2/kdelibs/khtml/html/html_inlineimpl.cpp
   M /branches/KDE/4.2/kdelibs/khtml/html/html_miscimpl.cpp
   M /branches/KDE/4.2/kdelibs/khtml/html/html_miscimpl.h
   D /branches/KDE/4.2/kdelibs/khtml/xml/ClassNodeList.cpp
   D /branches/KDE/4.2/kdelibs/khtml/xml/ClassNodeList.h
   M /branches/KDE/4.2/kdelibs/khtml/xml/dom_docimpl.cpp
   M /branches/KDE/4.2/kdelibs/khtml/xml/dom_docimpl.h
   M /branches/KDE/4.2/kdelibs/khtml/xml/dom_nodeimpl.cpp
   M /branches/KDE/4.2/kdelibs/khtml/xml/dom_nodeimpl.h
   A /branches/KDE/4.2/kdelibs/khtml/xml/dom_nodelistimpl.cpp (from /branches/KDE/4.2/kdelibs/khtml/xml/dom_nodeimpl.cpp:956244)
   A /branches/KDE/4.2/kdelibs/khtml/xml/dom_nodelistimpl.h (from /branches/KDE/4.2/kdelibs/khtml/xml/dom_nodeimpl.h:956244)

Split dom tree versionning into multiple counters, so we can do 
less needless collection cache flushing -- and fix not doing it when needed 
for getElementsByClassName. Also, ClassNodeList doesn't justify having 
its own file, but I think the entire NodeListImpl family is now large enough...
(And this should be compile-time neutral). 

------------------------------------------------------------------------
r962475 | orlovich | 2009-05-02 18:09:09 +0400 (Sat, 02 May 2009) | 2 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/khtml/svg/SVGElement.cpp

Need this too.. But these should probably move to ElementImpl anyway... 

------------------------------------------------------------------------
r962478 | orlovich | 2009-05-02 18:11:39 +0400 (Sat, 02 May 2009) | 2 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/khtml/CMakeLists.txt

... This part is kind of important, too. 

------------------------------------------------------------------------
r962585 | ossi | 2009-05-02 19:37:03 +0400 (Sat, 02 May 2009) | 7 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdecore/config/kconfigdata.h
   M /branches/KDE/4.2/kdelibs/kdecore/tests/kconfigtest.cpp
   M /branches/KDE/4.2/kdelibs/kdecore/tests/kconfigtest.h

don't drop changes of binary data

somebody give me a brown paper bag - the not-actually-modified check
used strcmp for the byte array comparison ...

BUG: 190464

------------------------------------------------------------------------
r962646 | orlovich | 2009-05-02 23:29:31 +0400 (Sat, 02 May 2009) | 8 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/khtml/dom/dom_node.cpp
   M /branches/KDE/4.2/kdelibs/khtml/dom/dom_node.h
   M /branches/KDE/4.2/kdelibs/khtml/ecma/kjs_dom.cpp
   M /branches/KDE/4.2/kdelibs/khtml/ecma/kjs_dom.h
   M /branches/KDE/4.2/kdelibs/khtml/xml/dom_nodeimpl.cpp
   M /branches/KDE/4.2/kdelibs/khtml/xml/dom_nodeimpl.h

Implement DOM3 core compareDocumentPosition; seems to be needed by GWT...

This passes the cases in the not-yet-commited domts update that don't trigger 
bugs in XML/entity notation handling (once I fixed a problem in their generation)

CCBUG:129398


------------------------------------------------------------------------
r963449 | dfaure | 2009-05-04 22:53:46 +0400 (Mon, 04 May 2009) | 2 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/ConfigureChecks.cmake
   A /branches/KDE/4.2/kdelibs/cmake/modules/CheckCXXSymbolExists.cmake

Fix strcasestr detection for glibc-2.9

------------------------------------------------------------------------
r963518 | ilic | 2009-05-05 00:44:41 +0400 (Tue, 05 May 2009) | 2 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdecore/localization/kuitformats.cpp
   M /branches/KDE/4.2/kdelibs/kdecore/localization/kuitsemantics.cpp

Temporarely discontinuing language-sensitivity of number formats. (bport: 963498)

------------------------------------------------------------------------
r963519 | ilic | 2009-05-05 00:45:25 +0400 (Tue, 05 May 2009) | 2 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdecore/localization/kuitformats_p.h

Temporarely discontinuing language sensitivity of number formats (2). (bport: 963498)

------------------------------------------------------------------------
r963522 | lueck | 2009-05-05 00:48:49 +0400 (Tue, 05 May 2009) | 2 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdecore/network/ktcpsocket.cpp

add missing i18n calls to make the ssl error messages translatable, makes 14 new messages for branch 4.2
CCMAIL:kde-i18n-doc@kde.org
------------------------------------------------------------------------
r963546 | ilic | 2009-05-05 01:35:19 +0400 (Tue, 05 May 2009) | 1 line
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdecore/localization/guess_ja_p.h

Fixes build problem on OpenSolaris (patch by tropikhajma). (bport: 963545)
------------------------------------------------------------------------
r963583 | orlovich | 2009-05-05 02:31:27 +0400 (Tue, 05 May 2009) | 6 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/khtml/html/html_formimpl.cpp
   M /branches/KDE/4.2/kdelibs/khtml/html/html_formimpl.h

Make sure to encode form elements in tree order; some web frameworks rely on that 
for DND stuff. Fixes the essence of bug #158039, but there is a funky issue with 
list bullets that that still has.

CCBUG:158039

------------------------------------------------------------------------
r963699 | thanngo | 2009-05-05 13:25:07 +0400 (Tue, 05 May 2009) | 3 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/khtml/misc/loader.cpp

fix a gcc4.4 build error


------------------------------------------------------------------------
r964115 | cfeck | 2009-05-06 05:13:50 +0400 (Wed, 06 May 2009) | 6 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdeui/colors/kcolordialog.cpp

Add tab order to input fields, respect sizeHint() (backport r964114)

Will be fixed in KDE 4.2.4

CCBUG: 186371

------------------------------------------------------------------------
r964131 | orlovich | 2009-05-06 09:00:59 +0400 (Wed, 06 May 2009) | 2 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/khtml/khtml_part.cpp

Don't needlessly clear selection when an another app grabs it not the expected behavior in KDE.

------------------------------------------------------------------------
r964148 | aseigo | 2009-05-06 11:27:38 +0400 (Wed, 06 May 2009) | 2 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/mimetypes/kde.xml

proper glob

------------------------------------------------------------------------
r964199 | ogoffart | 2009-05-06 14:17:29 +0400 (Wed, 06 May 2009) | 2 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdeui/dialogs/kdialog.cpp
   M /branches/KDE/4.2/kdelibs/kdeui/dialogs/kdialog.h
   M /branches/KDE/4.2/kdelibs/kdeui/dialogs/kdialog_p.h

Backort 964197 :  Fix broken signal-slot connection

------------------------------------------------------------------------
r965817 | ehamberg | 2009-05-10 01:12:42 +0400 (Sun, 10 May 2009) | 5 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kate/vimode/katevivisualmode.cpp

backport of r906814:

replace static_cast by the null ptr constructor

BUG: 192170
------------------------------------------------------------------------
r965818 | ehamberg | 2009-05-10 01:12:45 +0400 (Sun, 10 May 2009) | 9 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kate/view/kateviewhelpers.cpp
   M /branches/KDE/4.2/kdelibs/kate/view/kateviewhelpers.h

backport of r961949:

don't give focus to wrong view

don't use an anonymous single shot timer for managing the closing of the
command line editor. KateCmdLineEdit::hideLineEdit() will give focus to
it's m_view, which after changing views will be the wrong one.
instead, keep a qtimer pointer and connect the view's focusout signal to
the timer's stop slot.
------------------------------------------------------------------------
r966155 | orlovich | 2009-05-10 18:17:43 +0400 (Sun, 10 May 2009) | 13 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kjs/date_object.cpp

Make sure to clip date value to the valid range in all paths.
This prevents freezes on 32-bit as we don't end up with magnitudes
so large that there is not enough precision to represent the year 
accurately.

It prevents crashes on 64-bit as we don't end up with time_t's corresponding to 
date's with a year  > 2^31 - 1, on which localtime/gmtime return 0.
Thanks to Zahl for info and for verifying this help on 64-bit..

BUG:189373



------------------------------------------------------------------------
r966269 | ehamberg | 2009-05-11 00:36:35 +0400 (Mon, 11 May 2009) | 3 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kate/vimode/katevinormalmode.cpp

backport of r966260:

fix erroneous behaviour when pasting text that contains several lines but wasn't yanked in a linewise manner
------------------------------------------------------------------------
r966295 | darioandres | 2009-05-11 01:49:24 +0400 (Mon, 11 May 2009) | 7 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdeui/dialogs/kbugreport.cpp

Backport to 4.2branch of:
SVN commit 966294 by darioandres:

Launch the bug report wizard using HTTPS as default

CCBUG: 163799

------------------------------------------------------------------------
r966335 | darioandres | 2009-05-11 03:53:00 +0400 (Mon, 11 May 2009) | 9 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdeui/widgets/krestrictedline.cpp

Backport to 4.2branch of:
SVN commit 966333 by darioandres:

Fix the broken behaviour of KRestrictedLine
(this needs a better implementation)

CCBUG: 161012


------------------------------------------------------------------------
r966486 | scripty | 2009-05-11 13:03:47 +0400 (Mon, 11 May 2009) | 1 line
Changed paths:
   M /branches/KDE/4.2/kdelibs/interfaces/ktexteditor/kcm_ktexteditor.desktop
   M /branches/KDE/4.2/kdelibs/interfaces/ktexteditor/ktexteditor.desktop
   M /branches/KDE/4.2/kdelibs/interfaces/ktexteditor/ktexteditorplugin.desktop
   M /branches/KDE/4.2/kdelibs/kate/data/katepart.desktop
   M /branches/KDE/4.2/kdelibs/kate/plugins/kdatatool/ktexteditor_kdatatool.desktop
   M /branches/KDE/4.2/kdelibs/kdecore/all_languages.desktop
   M /branches/KDE/4.2/kdelibs/kded/kdedmodule.desktop
   M /branches/KDE/4.2/kdelibs/khtml/khtml.desktop
   M /branches/KDE/4.2/kdelibs/khtml/khtmlimage.desktop
   M /branches/KDE/4.2/kdelibs/kio/application.desktop
   M /branches/KDE/4.2/kdelibs/kio/kdatatool.desktop
   M /branches/KDE/4.2/kdelibs/kio/kfile/kpropertiesdialogplugin.desktop
   M /branches/KDE/4.2/kdelibs/kio/kfileplugin.desktop
   M /branches/KDE/4.2/kdelibs/kio/kurifilterplugin.desktop
   M /branches/KDE/4.2/kdelibs/kio/misc/kssld/kssld.desktop
   M /branches/KDE/4.2/kdelibs/kio/renamedialogplugin.desktop
   M /branches/KDE/4.2/kdelibs/kioslave/http/http_cache_cleaner.desktop
   M /branches/KDE/4.2/kdelibs/kioslave/http/kcookiejar/kcookiejar.desktop
   M /branches/KDE/4.2/kdelibs/kparts/browserview.desktop
   M /branches/KDE/4.2/kdelibs/kparts/kpart.desktop
   M /branches/KDE/4.2/kdelibs/kparts/krop.desktop
   M /branches/KDE/4.2/kdelibs/kparts/krwp.desktop
   M /branches/KDE/4.2/kdelibs/kparts/tests/notepad.desktop
   M /branches/KDE/4.2/kdelibs/security/kcert/kcertpart.desktop

SVN_SILENT made messages (.desktop file)
------------------------------------------------------------------------
r967095 | winterz | 2009-05-12 18:15:17 +0400 (Tue, 12 May 2009) | 4 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdeui/windowmanagement/kwindowsystem_win.cpp

merge SVN revision 966931 from till on Tue May 12 10:03:49 2009 UTC
restore missing braces in KWindowSystemPrivate::activate() that causes D-Bus hangs.


------------------------------------------------------------------------
r967263 | darioandres | 2009-05-13 07:46:49 +0400 (Wed, 13 May 2009) | 8 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdeui/widgets/ktextedit.cpp

Backport of 4.2branch of:
SVN commit 967261 by darioandres:

Do not call the find/findNext/replace actions when their shortcuts are pressed
but the findReplaceEnabled option was explicity disabled

CCBUG: 192529

------------------------------------------------------------------------
r967961 | reed | 2009-05-14 19:32:26 +0400 (Thu, 14 May 2009) | 5 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdeui/windowmanagement/kwindowsystem_mac.cpp

from Sho_ (one of the yakuake devs):

11:13 < Sho_> there's another osx-related kwindowsystem todo we noticed a while back: KWindowSystem::compositingActive(), which yakuake and other apps use to decide whether to paint for an ARGB visual, always returns false on Mac
11:14 < Sho_> when it should probably always return true since afaik you can't switch off quartz compositor on os x anyway

------------------------------------------------------------------------
r968021 | habacker | 2009-05-14 22:43:32 +0400 (Thu, 14 May 2009) | 1 line
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdecore/kernel/kkernel_win.cpp

backported 947698
------------------------------------------------------------------------
r968405 | osterfeld | 2009-05-15 20:13:23 +0400 (Fri, 15 May 2009) | 2 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdecore/kernel/kcmdlineargs.cpp

fix build on OS X, now in sync with trunk

------------------------------------------------------------------------
r968439 | osterfeld | 2009-05-15 22:21:54 +0400 (Fri, 15 May 2009) | 1 line
Changed paths:
   M /branches/KDE/4.2/kdelibs/kio/kfile/kpropertiesdialog.cpp

build on OS X, following trunk
------------------------------------------------------------------------
r968564 | scripty | 2009-05-16 11:59:20 +0400 (Sat, 16 May 2009) | 1 line
Changed paths:
   M /branches/KDE/4.2/kdelibs/kio/misc/kpac/proxyscout.notifyrc
   M /branches/KDE/4.2/kdelibs/plasma/servicetypes/plasma-scriptengine.desktop

SVN_SILENT made messages (.desktop file)
------------------------------------------------------------------------
r968648 | zwabel | 2009-05-16 17:26:28 +0400 (Sat, 16 May 2009) | 3 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kate/completion/katecompletionwidget.cpp
   M /branches/KDE/4.2/kdelibs/kate/view/kateviewinternal.cpp

Backport r968646:
Add some more mutex locking in some places where it's needed. This should fix some possible crashes due to multithreading in KDevelop.

------------------------------------------------------------------------
r969195 | orlovich | 2009-05-17 20:34:59 +0400 (Sun, 17 May 2009) | 9 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/khtml/css/cssparser.cpp

Proper fix for what the tail padding stuff was trying to accomplish:
once we get to end of input, keep feeding flex a single buffer with nulls,
rather than let it run past the end. The original flex driver does something 
similar.

Thanks to Andrew Coles for providing a simple testcase so I could understand the issue.



------------------------------------------------------------------------
r969255 | zwabel | 2009-05-17 23:32:35 +0400 (Sun, 17 May 2009) | 2 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kate/completion/katecompletionwidget.cpp

Backport r969254: Prevent possible deadlock

------------------------------------------------------------------------
r969286 | darioandres | 2009-05-18 01:33:51 +0400 (Mon, 18 May 2009) | 8 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kate/document/katebuffer.cpp

Backport to 4.2branch of:
SVN commit 969284 by darioandres:

Do not assign m_codec if QTextCodec::codecForName(name)
returns NULL. This will cause crashes.

CCBUG: 178789

------------------------------------------------------------------------
r969331 | zwabel | 2009-05-18 03:55:22 +0400 (Mon, 18 May 2009) | 4 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kate/document/katedocument.cpp

Backport r969330:
Lock and unlock the smart-mutex again in each call to editStart and editEnd, no matter whether it is recursive or not.
We can do that, since the mutex is recursive. This fixes a possible crash: During code-completion, the smart-mutex is released when external functions are called. When those functions triggered an edit again through public API, the edit did not re-lock the smart-mutex, thus accessing internal data without thread-safe protection.

------------------------------------------------------------------------
r969733 | jferrer | 2009-05-18 23:33:56 +0400 (Mon, 18 May 2009) | 2 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdoctools/customization/ca/user.entities

Add a new translator for documentation (Rafael Carreras)

------------------------------------------------------------------------
r969763 | ilic | 2009-05-19 00:55:18 +0400 (Tue, 19 May 2009) | 1 line
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdecore/localization/klocale.cpp

Introducing proper static data. (bport: 963716)
------------------------------------------------------------------------
r969771 | jferrer | 2009-05-19 01:07:48 +0400 (Tue, 19 May 2009) | 3 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdoctools/customization/ca/user.entities

Update email address for Rafael Carreras
CCMAIL: rcarreras@caliu.cat

------------------------------------------------------------------------
r969775 | dfaure | 2009-05-19 01:17:31 +0400 (Tue, 19 May 2009) | 6 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdecore/localization/kcatalog.cpp
   M /branches/KDE/4.2/kdelibs/kdecore/localization/klocale.cpp

* Add a mutex around the KCatalog code, that is playing with env vars (setting+resetting), as needed by gettext().
BUG: 191122

* Fix isApplicationTranslatedInto() being false wrongly in apps that use setMainCatalog()
 (e.g. in korgac it would say "nope, because no korgac.po" even though it's using korganizer.po)

------------------------------------------------------------------------
r970309 | darioandres | 2009-05-20 04:04:30 +0400 (Wed, 20 May 2009) | 8 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kdeui/dialogs/kshortcutseditordelegate.cpp

Backport to 4.2branch of:
SVN commit 970308 by darioandres:

Prevent a crash when opening the editor for shorcuts in another group
different of the one which is currently open.

CCBUG: 181024

------------------------------------------------------------------------
r970821 | darioandres | 2009-05-21 01:43:03 +0400 (Thu, 21 May 2009) | 7 lines
Changed paths:
   M /branches/KDE/4.2/kdelibs/kfile/kfilewidget.cpp

Backport to 4.2branch:

Allow the file dialog to save a file using the absolute path on the
location text edit. Review by dfaure

BUG: 180208

------------------------------------------------------------------------
