#
# Copyright (c) 2006-2008 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('binarypackage=conary.rpath.com@rpl:2-devel')
class Playonlinux(BinaryPackageRecipe):

    buildRequires = [ 'desktop-file-utils:runtime', 'python:devel']
    name = 'playonlinux'
    version = '3.7.3'

    def unpack(r):

        r.macros.snapshot = r.version.split('.')[-1]
        r.macros.site = 'http://rpm.playonlinux.com/fedora/yum/base/'

        dist = [
            ('playonlinux-%(version)s-fedora0.noarch.rpm'),
        ]
        for (rpm) in dist:
            r.addArchive('%(site)s/'+rpm, dir='/')

	r.Requires('wxPython:runtime', '%(bindir)s/playonlinux')
	r.Requires('cabextract:runtime', '%(bindir)s/playonlinux')
	r.Requires('wine:runtime', '%(bindir)s/playonlinux')
