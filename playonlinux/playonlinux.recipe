#
# Copyright (c) 2011 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('binarypackage')
class Playonlinux(BinaryPackageRecipe):

    buildRequires = [ 'desktop-file-utils:runtime', 'python:devel']
    name = 'playonlinux'
    version = '3.8.12'

    def unpack(r):

        r.macros.snapshot = r.version.split('.')[-1]
        r.macros.site = 'http://rpm.playonlinux.com/fedora/yum/base'

        dist = [
            ('PlayOnLinux_%(version)s_fedora0.rpm'),
        ]
        for (rpm) in dist:
            r.addArchive('%(site)s/'+rpm, dir='/')

	r.Requires('wxPython:runtime', '%(bindir)s/playonlinux')
	r.Requires('cabextract:runtime', '%(bindir)s/playonlinux')
	r.Requires('wine:runtime', '%(bindir)s/playonlinux')
