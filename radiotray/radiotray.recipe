#
# Copyright (c) 2010 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Radiotray(AutoPackageRecipe):
    name = 'radiotray'
    version = '0.2'

    packageSummary = 'Radio Tray is an online radio streaming player'
    packageDescription = 'Radio Tray is an online radio streaming player that runs on a Linux system tray. Its goal is to have the minimum interface possible, making it very straightforward to use.'
 
    buildRequires = ['desktop-file-utils:runtime', 'gst-python:python', 'lxml:python', 'notify-python:python', 'pygobject:python', 'pygtk:python', 'python:devel', 'python-setuptools:python']
 
    def setup(r):
        r.addArchive('mirror://sourceforge/radiotray/releases/')
	r.Replace('Encoding=UTF-8', '', 'radiotray.desktop')
	r.Replace('Version=0.2', '', 'radiotray.desktop')
	r.Replace('Exec=/usr/local/bin/radiotray', 'Exec=%(bindir)s/radiotray', 'radiotray.desktop')
	r.PythonSetup('install')
	r.Install('icons/radiotray.png', '/usr/local/share/radiotray/icons/radiotray.png')
	r.Install('configBookmarks.glade', '%(datadir)s/radiotray/configBookmarks.glade')
	r.Desktopfile('radiotray.desktop')
