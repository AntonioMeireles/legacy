#
# Copyright (c) 2004-2005 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Libao(AutoPackageRecipe):

    buildRequires = [ 'esound:devel', 'alsa-lib:devel', 'audiofile:devel', 'libXau:devel', 'pkgconfig:devel' ]

    name = 'libao'
    version = '1.0.0'

    def unpack(r):
        r.addArchive('http://downloads.xiph.org/releases/ao/%(name)s-%(version)s.tar.gz')

    def configure(r):
        # The default driver detection puts pulse as high priority so this
        # shouldn't be necessary http://www.xiph.org/ao/doc/drivers.html
        #r.Create('%(sysconfdir)s/%(name)s.conf', contents='default_driver=pulse')
        # It will use alsa if we don't include this, but this is better
        r.Requires('libao-pulse:lib', '%(sysconfdir)s/%(name)s.conf')

        r.Configure('--enable-alsa09 --disable-arts')


