#
# Copyright (c) 2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('cmakepackage', 'foresight.rpath.org@fl:2-devel')
class Strigi(CMakePackageRecipe):

    name='strigi'
    version = '0.5.7'

    buildRequires = [
        'bzip2:devel', 'clucene:devel', 'dbus:devel', 'exiv2:devel',
        'expat:devel', 'libstdc++:devel', 'libX11:devel', 'libXext:devel',
        'libxml2:devel', 'libxml2:runtime', 'perl:runtime', 'qt4:devel',
        'zlib:devel'
    ]

    def unpack(r):

        r.cmakeArgs += ' -DENABLE_INOTIFY:BOOL=ON '
        if Arch.x86_64:
            r.cmakeArgs += ' -DLIB_SUFFIX=64 '

        r.addArchive('http://www.vandenoever.info/software/strigi/')
        r.addPatch('foo.patch')

