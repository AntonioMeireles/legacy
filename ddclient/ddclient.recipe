#
# Copyright (c) 2010 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class ddclient(PackageRecipe):
    name = 'ddclient'
    version = '3.8.0'

    buildRequires = [
        'chkconfig:runtime',
        'perl-IO-Socket-SSL:perl', 'perl:devel', 'perl:runtime',
    ]

    def setup(r):
        r.addArchive('mirror://sourceforge/project/ddclient/ddclient/'
                     'ddclient-%(version)s/')
        r.Install('ddclient', '%(sbindir)s/')
        r.AutoDoc('sample.*')
        r.Install('sample-etc_ddclient.conf', '/etc/ddclient/ddclient.conf')
        r.Install('sample-etc_rc.d_init.d_ddclient', '%(initdir)s/ddclient')
        r.Replace('fedora', 'distro', '%(initdir)s/ddclient') #distro-release
        r.MakeDirs('/var/cache/ddclient', mode=0700)
