# Antonio Meireles
# 
# sbin.reboot.sh

loadSuperClass('rpmpackage')
class DbusSharp(RPMPackageRecipe,AutoPackageRecipe):

   name = "dbus-sharp"
   version = "0.63"
   rpmRelease = '9.fc9'
   rpmPatches = [ 'dbus-sharp-0.63-nogtk.patch',
                  'dbus-sharp-gchandle.patch'
                  ]

   buildRequires = [ 'pkgconfig:devel',  'mono:lib', 'mono:runtime', 'gtk-sharp:devellib',
                     'gtk-sharp:cil', 'mono:devel', 'mono:cil',
                     'automake:runtime', 'autoconf:runtime', 'libtool:runtime',]

   def unpack(r):
      RPMPackageRecipe.unpack(r)
      r.Replace('gtk-sharp','gtk-sharp-2.0','mono/example/Makefile.in')
      r.Environment('MONO_SHARED_DIR', '/tmp')
      r.Run('autoreconf -f -i')


