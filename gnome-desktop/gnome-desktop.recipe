#
# Copyright (c) 2004 Specifix, Inc.
# All rights reserved
#

loadRecipe('gnomepackage.recipe')
class GnomeDesktop(GnomePackageRecipe):
    
    buildRequires = GnomePackageRecipe.buildRequires
    buildRequires.extend([ 'glib:devel', 'pango:devel', 'gtk:devel',
                           'GConf:devel', 'gnome-vfs:devel',
                           'libgnomeui:devel', 'libgnome:devel',
                           'startup-notification:devel', 
                           'scrollkeeper:devel'])
    
    name = 'gnome-desktop'
    version = '2.9.92'
    
    extraConfig = GnomePackageRecipe.extraConfig
    extraConfig += ' --with-gnome-distributor="Foresight Desktop Linux"'

    def setup(r):
	GnomePackageRecipe.setup(r)
	r.MakeDirs('%(sysconfdir)s/skel/Documents')
	r.MakeDirs('%(sysconfdir)s/skel/Music')
	r.MakeDirs('%(sysconfdir)s/skel/Photos')
	r.MakeDirs('%(sysconfdir)s/skel/Desktop')
	r.Symlink('%(sysconfdir)s/skel/Documents','%(sysconfdir)s/skel/Desktop/Documents')
	r.Symlink('%(sysconfdir)s/skel/Music','%(sysconfdir)s/skel/Desktop/Music')
	r.Symlink('%(sysconfdir)s/skel/Photos','%(sysconfdir)s/skel/Desktop/Photos')
	r.ExcludeDirectories(exceptions=['%(sysconfdir)s/skel/Documents','%(sysconfdir)s/skel/Music','%(sysconfdir)s/skel/Photos'])
