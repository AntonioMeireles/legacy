#
# Copyright (c) 2008 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class LogilabAstng(PackageRecipe):
    name = 'logilab-astng'
    version = '0.17.2'

    buildRequires = [ 'python-setuptools:python', 'mx:python' ]

    def setup(r):
        r.addArchive('ftp://ftp.logilab.fr/pub/astng/%(name)s-%(version)s.tar.gz')
        r.PythonSetup()

        if Arch.x86_64:
            r.Move('%(prefix)s/lib', '%(libdir)s')

        r.RemoveNonPackageFiles('%(libdir)s/python.*/site-packages/logilab/__init__.py.*')
        r.Requires('logilab-common:python', '%(libdir)s/python.*/site-packages/logilab/astng/__init__.py')
        
        r.ComponentSpec('test', '%(libdir)s/python.*/test/.*')
