class Vpnc(CPackageRecipe):
    name = "vpnc"
    version = "0.4.0"

    buildRequires = ['libgcrypt:devel', 'libgpg-error:devel',
                     'perl:runtime', ]

    def setup(r):
        r.addArchive('http://www.unix-ag.uni-kl.de/~massar/vpnc/')

        r.Make()
        r.Install('vpnc{,-disconnect}', '%(sbindir)s/')
        r.Install('pcf2vpnc', '%(bindir)s/')
        r.Install('vpnc-script', '%(sysconfdir)s/vpnc/')
        r.Install('vpnc.8', '%(mandir)s/man8/')
        r.Create('%(sysconfdir)s/vpnc/default.conf', mode=0600)
        r.Create('%(sysconfdir)s/vpnc.conf', mode=0600)
