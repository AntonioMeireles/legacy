#
# Copyright (c) 2006 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('kdecorepackage')
class kdeGraphics(kdeCorePackageRecipe):

    name = 'kdegraphics'
    version = '3.5.10'

    verify = False
    buildAPIDox = False

    buildRequires = [
        'expat:devel', 'freeglut:devel', 'fribidi:devel', 'giflib:devel', 'ilmbase:devel',
        'lcms:devel', 'libgphoto2:devel', 'libieee1284:devel', 'libtiff:devel',
        'libusb:devel', 'OpenEXR:devel', 'pcre:devel', 'perl:runtime',
        'poppler-qt:devel', 'poppler:devel', 'sane-backends:devel'
    ]

    modules = [
        'kamera',
        'kcoloredit',
        'kdvi',
        'kfax',
        'kfaxview',
        'kgamma',
        'kghostview',
        'kiconedit',
        'kmrml',
        'kolourpaint',
        'kooka',
        'kpdf',
        'kpovmodeler',
        'kruler',
        'ksnapshot',
        'ksvg',
        'kview',
        'kviewshell',
        'libkscan',
        ('kfile-plugins-graphics', 'kfile-plugins')
    ]

    def postUnpack(r):

        r.Environment('DO_NOT_COMPILE', 'kuickshow')
        r.macros.cflags += ' -L%(libdir)s/xorg.mesa.3d'

    def postInstall(r):

        r.Remove('%(kdehtmldir)s/en/kuickshow', recursive=True)

