# Gil Hamlin
# gil@foresightlinux.com
# 10th October 2005

class atomorun(PackageRecipe):
    buildRequires = [ "glibc:devel", "SDL:devel", "SDL_mixer:devel",
                      "SDL_image:devel", "desktop-file-utils:runtime", 'xorg-x11:devel']
    name = "atomorun"
    version = "1.1_pre2"

    def setup(r):
        r.macros.cflags += " -O3"
        r.addArchive('http://atomorun.whosme.de/downloads/%(name)s-%(version)s.tar.gz')

#       Replace the Makefile.in as it is buggy, and does nasty things trying to install
#       docs - conary can handle the docs for us

        r.addSource('Makefile.in')

        r.Configure()
        r.Make()
        r.MakeInstall()

#       Here are the docs

        r.Doc('AUTHORS', 'COPYING', 'NEWS',
              'README', 'TODO')

#       Here are our menu links

        r.addSource('atomorun.desktop')
        r.Desktopfile('atomorun.desktop')
