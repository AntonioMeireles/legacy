#
# Copyright (c) 2004-2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('rpmpackage')
class Cdparanoia(RPMPackageRecipe, CPackageRecipe):
    name = 'cdparanoia'
    version = 'alpha9.8'

    rpmRelease = '27.2'

    rpmPatches = [ 'cdparanoia-III-alpha9.8.sgio.patch',
                   'cdparanoia-III-alpha9.8.nostrip.patch',
                   'cdparanoia-III-alpha9.8.labels.patch',
                   'cdparanoia-III-alpha9.8.O_EXCL.patch',
                   'cdparanoia-III-alpha9.8.cflags.patch',
                   'cdparanoia-III-alpha9.8.verbose.patch',
                   'cdparanoia-III-alpha9.8.louder.patch',
                   'cdparanoia-III-alpha9.8.verbosity3.patch',
                   'cdparanoia-III-alpha9.8.env.patch',
                   'cdparanoia-III-alpha9.8.smalldma.patch',
                   'cdparanoia-III-alpha9.8.lm.patch']

    tarballName='%(name)s-III-%(version)s.src.tgz'

    def setup(r):
        RPMPackageRecipe.unpack(r)
        r.disableParallelMake()
        r.Configure()
        r.Make('OPT="%(cflags)s"')

        r.MakeInstall('BINDIR=%(destdir)s/%(bindir)s'
                      ' MANDIR=%(destdir)s/%(mandir)s'
                      ' INCLUDEDIR=%(destdir)s/%(includedir)s'
                      ' LIBDIR=%(destdir)s/%(libdir)s')
