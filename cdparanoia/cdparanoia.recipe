#
# Copyright (c) 2004-2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('rpmpackage')
class Cdparanoia(RPMPackageRecipe, CPackageRecipe):
    name = 'cdparanoia'
    version = 'IIIalpha9.8'
    isOPENsuse = True
    rpmRelease = '623'

    rpmPatches = [ 'cdparanoia-III-alpha9.7.dif',
                   'cdparanoia-III-alpha9.8-solve-crash.patch',
                   'cdparanoia-III-alpha9.8-gcc34.patch',
                   'cdparanoia-III-alpha9.8-ide_majors.patch',
                   'cdparanoia-III-alpha9.8-strip.patch',
                   'cdparanoia-III-alpha9.8-dt_needed.patch',
                   'cdparanoia-III-alpha9.8-sgio.patch',
                   'cdparanoia-III-alpha9.8-gcc34-2.patch',]

    tarballName='%(name)s-III-alpha9.8.src.tgz'

    def setup(r):

        RPMPackageRecipe.unpack(r)
        r.disableParallelMake()
        r.Configure()
        r.Make()

        r.MakeInstall('BINDIR=%(destdir)s/%(bindir)s'
                      ' MANDIR=%(destdir)s/%(mandir)s'
                      ' INCLUDEDIR=%(destdir)s/%(includedir)s'
                      ' LIBDIR=%(destdir)s/%(libdir)s')
