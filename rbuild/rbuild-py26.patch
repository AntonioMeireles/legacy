# HG changeset patch
# User Michael Tharp <mtharp@rpath.com>
# Date 1233338938 0
# Node ID a8a71d0bf23ac78632e1e2a09977c9a5fe00b113
# Parent  af2f27f7fa6415ceae43d366e050fc9aad5459a0
Python 2.6 compatibility tweak

diff --git a/Make.rules b/Make.rules
--- a/Make.rules
+++ b/Make.rules
@@ -1,5 +1,5 @@
 #
-# Copyright (c) 2006-2008 rPath, Inc.
+# Copyright (c) 2006-2009 rPath, Inc.
 #
 # This program is distributed under the terms of the Common Public License,
 # version 1.0. A copy of this license should have been distributed with this
@@ -12,7 +12,7 @@
 # full details.
 #
 
-PYTHON = $(shell [ -x /usr/bin/python2.4 ] && echo /usr/bin/python2.4)
+PYTHON = $(shell [ -x /usr/bin/python ] && echo /usr/bin/python)
 PYVERSION = $(shell $(PYTHON) -c 'import os, sys; print sys.version[:3]')
 PYINCLUDE = $(shell $(PYTHON) -c 'import os, sys; print os.sep.join((sys.prefix, "include", "python" + sys.version[:3]))')
 
# HG changeset patch
# User Michael Tharp <mtharp@rpath.com>
# Date 1234477382 0
# Node ID 93f4afc4c756910a5b3711e02c7c42d46cbd6ce0
# Parent  a8a71d0bf23ac78632e1e2a09977c9a5fe00b113
Change exception arguments to "msg" to avoid colliding with py2.6

diff -r a8a71d0bf23a -r 93f4afc4c756 rbuild/errors.py
--- a/rbuild/errors.py	Fri Jan 30 18:08:58 2009 +0000
+++ b/rbuild/errors.py	Thu Feb 12 22:23:02 2009 +0000
@@ -112,8 +112,8 @@
     It may be raised directly but creating a new subclass for each
     specific case is recommended.
     """
-    template = "%(message)s"
-    params = ['message']
+    template = "%(msg)s"
+    params = ['msg']
 
 
 class PluginError(RbuildBaseError):
@@ -125,8 +125,8 @@
     by rBuild plugins. It may be raised directly but creating a new
     subclass for each specific case is recommended.
     """
-    template = "%(message)s"
-    params = ['message']
+    template = "%(msg)s"
+    params = ['msg']
 
 
 #Uncomment this, possibly modifying it, when we add deprecation
@@ -152,16 +152,16 @@
     of filesystem operations might raise this error if called in
     the context of repository operations.
     """
-    template = "Unsupported interface: %(message)s"
-    params = ['message']
+    template = "Unsupported interface: %(msg)s"
+    params = ['msg']
 
 
 class BadParameterError(RbuildBaseError):
     """
     Raised when a command is given bad parameters at the command line.
     """
-    template = "%(message)s"
-    params = ['message']
+    template = "%(msg)s"
+    params = ['msg']
 
 
 ## BEGIN Internal Errors
@@ -191,8 +191,8 @@
     Raised when rMake returns results that rBuild does not know how
     to interpret.
     """
-    template = "Unexpected results from rMake: %(message)r"
-    params = ['message']
+    template = "Unexpected results from rMake: %(msg)r"
+    params = ['msg']
 
 ## END Internal Errors
 
