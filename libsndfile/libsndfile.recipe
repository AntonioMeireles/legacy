#
# Copyright (c) 2005-2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('rpmpackage')
class LibSndFile(RPMPackageRecipe,AutoPackageRecipe):
    name = 'libsndfile'
    version = '1.0.17'
    isOPENsuse = True
    rpmRelease = '71'
    rpmPatches = [ 'libsndfile-flac-1.1.4-fix.diff',
                   'libsndfile-ac.diff'
                   ]

    buildRequires = [ 'alsa-lib:devel', 'flac:devel', 'pkgconfig:devel',
        'sqlite:devel', 'gcc-c++:runtime' ]

    def policy(r):
        r.Move('%(docdir)s/libsndfile1-dev', '%(thisdocdir)s')

        # runtime doesn't require octave modules, so :octave instead of :data
        r.ComponentSpec('octave', '%(datadir)s/octave/site/')
