#
# Copyright (c) 2005-2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('rpmpackage')
class LibSndFile(RPMPackageRecipe,AutoPackageRecipe):
    name = 'libsndfile'
    version = '1.0.20'
    rpmRelease = '3.fc12'
    rpmPatches = [ ]


    buildRequires = [ 'alsa-lib:devel', 'flac:devel', 'pkgconfig:devel',
                      'sqlite:devel', 'gcc-c++:runtime', 'alsa-lib:devel',
                      'jack:devel', 'libogg:devel', 'libvorbis:devel',
                      'sqlite:devel', 'autogen:runtime']


    def configure(r):
        r.Configure(' --disable-dependency-tracking '
                    ' --enable-sqlite '
                    ' --enable-alsa '
                    ' --enable-largefile '
                    ' --enable-shave=no')


    def policy(r):
        r.Move('%(docdir)s/libsndfile1-dev', '%(thisdocdir)s')

        # runtime doesn't require octave modules, so :octave instead of :data
        r.ComponentSpec('octave', '%(datadir)s/octave/site/')
