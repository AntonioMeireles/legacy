#
# Copyright (c) 2008 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('gnomepackage')
class Clutter(GnomePackageRecipe):

    name = 'clutter'
    version = '1.0.4'
    externalArchive = 'http://www.clutter-project.org/sources/%(name)s/1.0/'

    buildRequires = [ 'Mesa:devel', 'libXfixes:devel', 'libXcomposite:devel', 'libXdamage:devel',
                      'gobject-introspection:devel', 'gir-repository:devellib']

    extraConfig = '--disable-gtk-doc --enable-introspection'

    def unpack(r):
        GnomePackageRecipe.unpack(r)
        r.macros.ldflags += ' -L%(libdir)s/xorg.mesa.3d/ '
        r.Replace('tests ','','Makefile.in')
