#
# Copyright (c) 2008 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('gnomepackage')
class Clutter(GnomePackageRecipe):

    name = 'clutter'
    version = '0.8.6'
    externalArchive = 'http://www.clutter-project.org/sources/%(name)s/0.8/'

    buildRequires = [ 'Mesa:devel', 'libXfixes:devel', 'libXcomposite:devel', 'libXdamage:devel' ]

    # DO _NOT_ BUMP until all pkgs that relate on this build sanely against 1.x tree
    # i 'm talking of ume-launcher and netbook-launcher which are the core of the 
    # netbook editions

    def unpack(r):
        GnomePackageRecipe.unpack(r)
        r.macros.ldflags += ' -L%(libdir)s/xorg.mesa.3d/ '
        r.Replace('tests ','','Makefile.in')
