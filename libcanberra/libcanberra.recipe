#
# Copyright (c) 2004-2008 Foresight Linux Project
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('gnomepackage')
loadSuperClass('rpmpackage')
class LibCamberra(RPMPackageRecipe,GnomePackageRecipe):

    buildRequires = [ 'alsa-lib:devel', 'gstreamer:devel', 'libogg:devel', 'libvorbis:devel', 'lynx:runtime', 'pulseaudio:devel' ]

    name = 'libcanberra'
    version = '0.8'
    rpmRelease = '2.fc10'

    rpmSources = [ 'libcanberra-gtk-module.sh' ]
    extraConfig = '--disable-static --disable-rpath --enable-pulse --enable-alsa --enable-null --with-builtin=dso'

    def setup(r):
        RPMPackageRecipe.unpack(r)
        GnomePackageRecipe.build(r)
        GnomePackageRecipe.install(r)

        r.Install('libcanberra-gtk-module.sh', '%(sysconfdir)s/X11/xinit/xinitrc.d/libcanberra-gtk-module.sh')
