#
# Copyright (c) 2004-2008 Foresight Linux Project
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('gnomepackage')
class LibCamberra(GnomePackageRecipe):

    buildRequires = [ 'alsa-lib:devel', 'gstreamer:devel', 'libogg:devel',
                      'libvorbis:devel', 'lynx:runtime', 'pulseaudio:devel',
                      'GConf:runtime',
                      'gtk3:devel',
                      ]

    name = 'libcanberra'
    version = '0.28'

    extraConfig = (' --disable-static --disable-rpath --enable-pulse --enable-alsa '
                   ' --enable-gstreamer --enable-null --disable-oss --with-builtin=dso'
                   )

    def unpack(r):
        r.addArchive('http://0pointer.de/lennart/projects/%(name)s/')
        r.addPatch('0001-Workaround-a-hang-if-there-are-server-problems.patch')
