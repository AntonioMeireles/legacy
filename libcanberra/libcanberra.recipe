#
# Copyright (c) 2004-2008 Foresight Linux Project
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('gnomepackage')
loadSuperClass('rpmpackage')
class LibCamberra(RPMPackageRecipe,GnomePackageRecipe):

    buildRequires = [ 'alsa-lib:devel', 'gstreamer:devel', 'libogg:devel', 'libvorbis:devel', 'lynx:runtime', 'pulseaudio:devel',
                      'GConf:runtime']

    name = 'libcanberra'
    version = '0.11'
    rpmRelease = '3.fc10'
    rpmPatches = ['0001-Run-lc-l-s-in-Application-phase-of-gnome-session.patch']

    extraConfig = '--disable-static --disable-rpath --enable-pulse --enable-alsa --enable-null --with-builtin=dso'

    def unpack(r):
        r.addArchive('http://0pointer.de/lennart/projects/%(name)s/')
        # reduce login time
        # https://tango.0pointer.de/pipermail/libcanberra-discuss/2008-December/000145.html
        r.addPatch('background-play.patch')

