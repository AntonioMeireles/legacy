class skeleton(PackageRecipe):
	name='coderedaa'
	version='4.01'
        buildRequires=['desktop-file-utils:runtime']

	def setup(r):
		r.addSource('coderedaa_4.01_fixed_x86.run')
		r.Run('sh coderedaa_4.01_fixed_x86.run --noexec --target coderedaa --nox11')
		r.Run('mkdir code ; tar -xjf coderedaa/coderedaa-4.01-data.tar.bz2 -C code')
		r.Install('code/*','%(libdir)s/%(name)s/')
		r.Install('coderedaa/bin/Linux/x86/glibc-2.1/*','%(libdir)s/%(name)s/' )
		r.Install('coderedaa/engine/x86/*','%(libdir)s/%(name)s/')

		r.addSource('coderedaa.desktop')
		r.addSource('coderedaa.png')
		r.addSource('coderedaa.sh')
		

		r.Install('coderedaa.png','%(datadir)s/pixmaps/')		
		r.Desktopfile('coderedaa.desktop')
		r.Run('chmod +x coderedaa.sh')
		r.Install('coderedaa.sh','%(bindir)s/coderedaa')
