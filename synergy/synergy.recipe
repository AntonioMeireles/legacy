#
# Copyright (c) 2008 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#


class Synergy(CPackageRecipe):
    name = 'synergy'
    version = '1.3.1'
    
    buildRequires = ['graphviz:runtime', 'inputproto:devel', 'kbproto:devel', 'libICE:devel', 'libSM:devel', 'libX11:devel', 'libXext:devel', 'libXinerama:devel', 'libXtst:devel', 'libstdc++:devel', 'xextproto:devel', 'xineramaproto:devel', 'libtool:runtime']
        
    def setup(r):
    	r.addArchive('mirror://sourceforge/synergy2/%(name)s-%(version)s.tar.gz')
        r.macros.ldflags += ' -L%(libdir)s/xorg.mesa.3d/ '
        r.Replace("-Werror","","configure")
        r.Configure('-x-includes /usr/include -x-libraries /usr/%(libdir)s --prefix=/usr')
        r.Make()
        r.MakeInstall()
