#
# Copyright (c) 2006 Paul Scott-Wilson <pscott>
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('gnomepackage')
class LibNotify(GnomePackageRecipe):
    name = 'libnotify'
    version = '0.6.0'

    buildRequires = [ 'atk:devel', 'cairo:devel', 'dbus-glib:devel',
                      'dbus:devel', 'expat:devel', 'fontconfig:devel', 'freetype:devel',
                      'glib:devel', 'gtk:devel', 'libX11:devel', 'libXrender:devel',
                      'libpng:devel', 'pango:devel', 'pkgconfig:devel', 'zlib:devel',
                      'gtk-doc:runtime', 'xmlto:runtime', ]

    # 0.7.x breaks a lot of stuff, APIwise so we stay on 0.6.x for now
    # afaict there is no feature drop by building this againsy stock gtk2
    # and not gtk3
 
    def unpack(r):
        GnomePackageRecipe.unpack(r)
        r.Replace('gtk\+\-3\.0', 'gtk+-2.0', 'configure')
        r.Replace('REQ_GTK_VERSION=2.90', 'REQ_GTK_VERSION=2.22', 'configure')
