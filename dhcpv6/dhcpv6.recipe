#
# Copyright (c) 2006-2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Dhcpv6(AutoPackageRecipe):
    name = 'dhcpv6'
    version = '1.0.4'

    buildRequires = ['autoconf:runtime', 'bison:runtime', 'chkconfig:runtime',
        'coreutils:runtime', 'findutils:runtime', 'flex:runtime',
        'openssl:devel']

    def unpack(r):
        r.addArchive('http://dcantrel.fedorapeople.org/%(name)s/')
        #r.Configure('--prefix=/ --mandir=%(mandir)s')
        #r.Make()
        #r.MakeInstall('PKGCFGDIR=%(libdir)s/pkgconfig INSTALL_USER=$(id -nu) '
        #              'INSTALL_GROUP=$(id -gn)')

    def policy(r):
        r.Move('%(sbindir)s/dhcp6c', '%(essentialsbindir)s/')
        r.PackageSpec('libdhcp6client', '%(includedir)s/dhcp6client/.*',
            '%(libdir)s/libdhcp6client.*',
            '%(libdir)s/pkgconfig/libdhcp6client.pc')
