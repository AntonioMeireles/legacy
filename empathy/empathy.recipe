#
# Copyright (c) 2007 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadRecipe('gnomepackage.recipe')
class Empathy(GnomePackageRecipe):

    name = 'empathy'
    version = '0.21.3'

    buildRequires = ['aspell:devel','GConf:devel', 'GConf:runtime', 
'ORBit2:devel', 'dbus-glib:runtime', 'desktop-file-utils:runtime', 'evolution-data-server:devel', 
'gnome-panel:devel', 'gnome-keyring:devel', 'gnome-vfs:devel', 'libart_lgpl:devel',
'libbonobo:devel', 'libbonoboui:devel', 'libglade:devel',  'libgnome:devel', 
'libgnomecanvas:devel', 'libgnomeui:devel', 'libtelepathy:devel', 'popt:devel', 
'telepathy-mission-control:devel']

    extraConfig = ' --enable-python=no'


    def setup(r):
        GnomePackageRecipe.setup(r)
        r.Replace('Categories=GNOME;GTK;Network;InstantMessaging;',
                  'Categories=Network;InstantMessaging;','data/empathy.desktop')
        r.Desktopfile('data/empathy.desktop')

    def policy(r):
        r.Requires('telepathy-mission-control:runtime', '%(bindir)s/empathy')
        r.Requires('telepathy-gabble:runtime', '%(bindir)s/empathy')
