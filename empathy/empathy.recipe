#
# Copyright (c) 2007 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('gnomepackage')
class Empathy(GnomePackageRecipe):

    name = 'empathy'
    version = '0.21.2'

    buildRequires = ['aspell:devel','GConf:devel', 'GConf:runtime', 'ORBit2:devel', 'dbus-glib:runtime','gnome-keyring:devel', 'gnome-vfs:devel', 'libart_lgpl:devel', 'libbonobo:devel', 'libbonoboui:devel', 'libglade:devel', 'libgnome:devel', 'libgnomecanvas:devel', 'libgnomeui:devel', 'libtelepathy:devel', 'popt:devel', 'telepathy-mission-control:devel', 'evolution-data-server:devel', 'gnome-panel:devel', 'desktop-file-utils:runtime']

    extraConfig = ' --enable-python=no'

    def unpack(r):
        r.addSvnSnapshot('http://svn.gnome.org/svn/%(name)s/trunk/')
        r.Run('NOCONFIGURE=yes /usr/bin/gnome-autogen.sh')

    def install(r):
        GnomePackageRecipe.install(r)
        r.Install('data/empathy.desktop','%(datadir)s/applications/')
