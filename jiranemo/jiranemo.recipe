#
# Copyright (c) 2006-2011 rPath, Inc.
# All rights reserved
#

loadInstalled('python')
class JiraRecipe(BuildPackageRecipe):
    name = 'jiranemo'
    version = '0.4'

    buildRequires = [
        'python:devel',
        'SOAPpy:python',
    ]

    def setup(r):
        r.macros.pyver = Python.majversion
        r.macros.sitepkgs = '%(libdir)s/python%(pyver)s/site-packages'

        r.addMercurialSnapshot('http://hg.rpath.com/jiranemo/', tag = '7fe08bf36cdb')
        # drop hardcoded py
        r.Replace('python2.4', 'python%(pyver)s','Make.rules')

        r.Make('libdir=%(libdir)s')
        r.MakeInstall('libdir=%(libdir)s')

        r.PackageSpec('pyjira', '.*/pyjira/')
