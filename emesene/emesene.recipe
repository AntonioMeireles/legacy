#
# Copyright (c) 2008 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html

# This package have a setup.py but it not functional so i do a force-manual install 
class Emesene(PackageRecipe):

    name = 'emesene'
    version = '1.6.3'

    buildRequires = [
         'python-setuptools:python',
         'dbus-python:python',
		 'gnome-python-extras:python',
		 'gst-python:python',
		 'notify-python:python',
		 'pycairo:python',
		 'pygobject:python',
		 'pygtk:python',
		 'python-sqlite:python',
		 'python:devel',
         'python-ctypes:python',
         'desktop-file-utils:runtime',
         'python-ctypes:python',
	     'sexy-python:python',
         'python-cssutils:python', 
         'simplejson:python'
    ]

    def setup(r):
        r.addArchive('mirror://sourceforge/%(name)s/%(name)s-%(version)s.tar.gz')
        r.addSource('emesene-launcher')
        r.addSource('emesene.desktop')
        #r.Run("python setup.py build_ext -i")
        r.MakeDirs('%(datadir)s/emesene')
        r.Install('*',"%(datadir)s/emesene")
        r.Move('misc/emesene.png','%(datadir)s/pixmaps/')
        r.Move('misc/emesene.svg','%(datadir)s/icons/hicolor/scalable/apps/')
        r.Move('misc/emesene.1','%(mandir)s/man1/')
        r.SetModes('%(datadir)s/emesene/Controller.py','%(datadir)s/emesene/emesene-launcher',00755)
        r.Desktopfile("emesene.desktop")
        r.Symlink('%(datadir)s/emesene/emesene-launcher','%(bindir)s/emesene')

        
