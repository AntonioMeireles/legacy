#
# Copyright (c) 2006 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Diva(AutoPackageRecipe):

    buildRequires = ['atk:devel', 'cairo:devel', 'fontconfig:devel',
       'freetype:devel', 'glib:devel', 'gst-plugins-base:devel',
       'gstreamer:devel', 'gtk:devel', 'libpng:devel', 'libxml2:devel',
       'pango:devel', 'xorg-x11:devel', 'zlib:devel', 'gtk-sharp:lib',
       'mono:lib', 'scons:runtime', 'desktop-file-utils:runtime',
       'libXrender:devel']


    name = 'diva'
    version = '0.0.2'

    def setup(r):
        r.addArchive('http://files.diva-project.org/releases/%(name)s-%(version)s.tar.gz')
        r.Run('scons PREFIX=%(prefix)s DESTDIR=%(destdir)s BINDIR=%(bindir)s LIBDIR=%(libdir)s')
        r.Run('scons install')
        r.Remove('%(bindir)s/.sconsign')
        r.Provides('soname: libdivacairo.so', '%(libdir)s/diva/libdivacairo.so')
        r.Provides('soname: libgdv.so', '%(libdir)s/diva/libgdv.so')
