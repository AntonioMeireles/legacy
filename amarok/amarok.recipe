loadSuperClass('kdepackage')
class Amarok(kdePackageRecipe):

    name = 'amarok'
    version = '1.4.7'

    buildRequires = [
        'avahi-qt3:devel', 'avahi:devel', 'kdnssd-avahi:devel',
        'konqueror:devel', 'libgpod:devel', 'libtunepimp:devel',
        'libxml2:runtime', 'Mesa:devel', 'pcre:devel', 'PyQt:python',
        'ruby:devellib', 'ruby:runtime', 'SDL:devel', 'taglib:devel',
        'xine-lib:devel'
    ]

    def unpack(r):
        r.extraConf += ' --disable-final '
        r.addArchive('mirror://kde/stable/%(name)s/%(version)s/src/')

    def policy(r):

        r.ComponentSpec('runtime',
                        '%(datadir)s/apps/amarok/scripts/')

