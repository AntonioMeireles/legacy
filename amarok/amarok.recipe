loadSuperClass('kde3package')
class Amarok(kde3PackageRecipe):

    name = 'amarok'
    version = '1.4.9'

    buildRequires = [
        'avahi-qt3:devel', 'avahi:devel', 'kdnssd3-avahi:devel',
        'konqueror3:devel', 'libgpod:devel', 'libtunepimp:devel',
        'libxml2:runtime', 'Mesa:devel', 'pcre:devel', 'PyQt:python',
        'python:devel', 'ruby:devellib', 'ruby:runtime', 'SDL:devel',
        'taglib:devel',
        'xine-lib:devel'
    ]

    def unpack(r):
        r.extraConf += ' --disable-final '
        #r.addArchive('mirror://kde/stable/%(name)s/%(version)s/src/')
        r.addArchive('http://amarok.kde.org/files/')

    def policy(r):

        r.ComponentSpec('runtime',
                        '%(datadir)s/apps/amarok/scripts/')

