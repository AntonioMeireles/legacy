#
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('kdepackage')
class Amarok(kdePackageRecipe):

    name = 'amarok'
    version = '2.2.2'

    buildRequires = [
        'curl:devel', 'faac:devel', 'gettext:runtime', 'gtk:devel',
        'libgcrypt:devel', 'libgpod:devel', 'libmtp:devel', 'libxml2:devel',
        'loudmouth:devel', 'mysql-embedded:devellib', 'mysql:devel',
        'qt4:devel', 'soprano:devel', 'strigi:devel', 'taglib-extras:devel',
        'taglib:devel'
    ]

    def unpack(r):

        r.addArchive('mirror://kde/stable/amarok/%(version)s/src/')

        r.addPatch('amarok-2.2.1.90-qtscript_not_required.patch')
        r.addPatch('amarok-2.2.2-kde#220532.patch')
        r.addPatch('amarok-2.2.2-no_var_tracking.patch')


