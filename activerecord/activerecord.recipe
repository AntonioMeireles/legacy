#
# activerecord.recipe
#
class ActiveRecord(PackageRecipe):

    name = 'activerecord'
    version = '1.15.5'

    buildRequires = [ 'ruby:runtime' ]

    def setup(r):
        # Get the source
        r.addArchive('http://rubyforge.org/frs/download.php/26551/%(name)s-%(version)s.tgz')

        # Install required libraries in site_ruby directory
        r.Install('lib/*', '%(libdir)s/ruby/site_ruby/', mode=0644)

        # XXX: remove this line when Conary has this added to AutoDoc policy
        r.Doc('RUNNING_UNIT_TESTS')

        # XXX: remove this line when Conary has Ruby Dep Support
        r.Requires('ruby:runtime', '.*/.*\.rb' )

