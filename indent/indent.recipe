
# Copyright (c) 2004-2006 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('rpmpackage')
class Indent(RPMPackageRecipe, AutoPackageRecipe):
    name = 'indent'
    version = '2.2.9'
    rpmRelease = '14.fc6'
    externalArchive = 'ftp://ftp.gnu.org/pub/gnu/indent/indent-%(version)s.tar.gz'
    rpmPatches = [ 'indent-2.2.9-fix.patch', 'indent-2.2.9-gcc4.patch',]

    # needs info-file tag description from the install-info package
    buildRequires = [ 'install-info:runtime' ]

    def make(r):
        r.Make(preMake='PATH=$PATH:.')

    def policy(r):
        # clean up some mistakes
        r.Remove('%(bindir)s/texinfo2man')
        r.Move('/usr/doc/indent/indent.html', '%(thisdocdir)s/')
        r.Remove('/usr/doc', recursive=True)
