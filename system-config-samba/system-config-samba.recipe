class SystemConfigSamba(PackageRecipe):
    buildRequires = [ 'desktop-file-utils:runtime', 'intltool:runtime' ]
    name = "system-config-samba"
    version = "1.2.31"

    def setup(r):
        r.addArchive('%(name)s-%(version)s.tar.bz2',
            rpm='ftp://ftp.linux.ncsu.edu/pub/fedora/linux/core/development/SRPMS/%(name)s-%(version)s-1.src.rpm')

        r.Replace('python2', 'python',
                  'src/system-config-samba.py', 'src/samba-share.py')
        r.Replace('Exec=','Exec=gksudo ','system-config-samba.desktop.in')
        r.Replace('_Name=Samba','_Name=File Sharing','system-config-samba.desktop.in')
        r.Replace('_Comment=Create, modify, and delete samba shares','_Comment=Create, modify, and delete file shares','system-config-samba.desktop.in')
        r.Replace('Categories=Application;System;','Categories=Application;System;Settings;','system-config-samba.desktop.in')
        r.Make()
        r.MakeInstall()
	r.Install('pixmaps/system-config-samba.png','%(datadir)s/pixmaps/')

        r.Requires('pygtk:python', '%(bindir)s/system-config-samba')
        r.Requires('samba:runtime', '%(bindir)s/system-config-samba')
