#
# Copyright (c) 2007 Lance Haig.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class VirtViewer(AutoPackageRecipe):
    	buildRequires = ['libvirt:devel',
				'libxml2:devel',
				'libvirt:runtime',
				'gtk-vnc:devel',
				'gtk-vnc:python',
				'gtk-vnc:lib',
        	                'gtk-vnc:devellib',
				'pkgconfig:devel',
				'expat:devel',
				'pygtk:python', 
				'pygtk:devel',
				'pygtk:runtime',
				'pygtk:devellib',
				'pygtk:lib',
				'libvirt:devel',
                	        'gtk:devel',
                        	'libxml2:devel',
	                        'xulrunner:devel',
        	                'firefox:devel',
				'perl:devel',
				'gettext:runtime'
			]
    
   	name = 'virt-viewer'
	version = '0.0.3'

	def unpack(r):	
		r.addArchive('http://virt-manager.et.redhat.com/download/sources/virt-viewer/')
		#r.macros.cflags +=' -lvnc '
	def configure(r):
		r.Configure('--prefix=%(prefix)s --localstatedir=%(localstatedir)s --libdir=%(libdir)s')    
        	r.Make()
        	r.MakeInstall()
