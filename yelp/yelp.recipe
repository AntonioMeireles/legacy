#
# Copyright (c) 2007-2008 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('gnomepackage')
class Yelp(GnomePackageRecipe):

    name = 'yelp'
    version = '2.22.1'

    buildRequires = [
        'GConf:devel', 'GConf:runtime', 'ORBit2:devel', 'rarian:runtime', 'rarian:devel',
        'beagle:devel', 'bzip2:devel', 'desktop-file-utils:runtime',
        'gnome-doc-utils:runtime', 'gnome-icon-theme:data',
        'gnome-keyring:devel', 'gnome-vfs:devel', 'gtk:runtime',
        'libart_lgpl:devel', 'libbonobo:devel', 'libbonoboui:devel',
        'libgcrypt:devel', 'libglade:devel', 'libgnome:devel', 
        'libgnomecanvas:devel', 'libgnomeui:devel', 'libgpg-error:devel',
        'libstdc++:devel', 'libxslt:devel', 'nspr:devel', 'popt:devel', 
        'startup-notification:devel', 'xulrunner:devel', 'gnome-doc-utils:devel', 'gnome-doc-utils:runtime', ]


    def policy(r):
        if Arch.x86:
            r.Requires(exceptDeps=r'soname\:\ ELF32\/libgtkembedmoz\.so\(SysV\ x86\)')
            r.Requires(exceptDeps=r'soname\:\ ELF32\/libxpcom\.so\(SysV\ x86\)')
            r.Requires(exceptDeps=r'soname\:\ ELF32\/libxul\.so\(SysV\ x86\)')
        else: 
            r.Requires(exceptDeps=r'soname\:\ ELF64\/libgtkembedmoz\.so\(SysV\ x86\_64\)')
            r.Requires(exceptDeps=r'soname\:\ ELF64\/libxpcom\.so\(SysV\ x86\_64\)')
            r.Requires(exceptDeps=r'soname\:\ ELF64\/libxul\.so\(SysV\ x86\_64\)')
