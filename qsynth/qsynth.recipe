# vim:set ts=4 sw=4 et:
#
# Copyright (c) 2011 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Qsynth(AutoPackageRecipe):
    name = 'qsynth'
    version = '0.3.6'

    packageSummary = 'Qsynth is a fluidsynth GUI front-end application'
    packageDescription = 'Qsynth is a fluidsynth GUI front-end application written in C++ around the Qt4 toolkit using Qt Designer. Eventually it may evolve into a softsynth management application allowing the user to control and manage a variety of command line softsynth but for the moment it wraps the excellent FluidSynth.'
 
    buildRequires = ['qt:devel', 'qt4:devel', 'gettext:runtime', 'intltool:runtime', 'cmake:runtime', 'desktop-file-utils:runtime', 'gcc-c++:runtime', 'libstdc++:devel', 'dbus:devel', 'fluidsynth:runtime', 'fluidsynth:devel']
 
    def unpack(r):
        r.addArchive('http://downloads.sourceforge.net/qsynth/')

    def configure(r):
    	r.Configure('--prefix=%(destdir)s/%(prefix)s')

    def make(r):
    	r.Run('qmake-qt4')
    	r.Make()

    def makeinstall(r):
        r.MakeInstall('DESTDIR=%(destdir)s')
