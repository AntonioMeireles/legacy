#
# Copyright (c) 2004-2009 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Strace(AutoPackageRecipe):
    name = 'strace'
    version = '4.5.18'

    buildRequires = [ 'acl:devel',
        'perl:lib', 'perl:runtime', 'perl:devel',
        'userspace-kernel-headers:devel', ]

    def unpack(r):
        r.addArchive('mirror://sourceforge/strace/')

    def makeinstall(r):
        r.MakeInstall('man1dir=%(mandir)s/man1')

    def policy(r):
        # we do not want to make strace depend on perl
        r.ComponentSpec('perl', '%(bindir)s/strace-graph')
