loadSuperClass('gnomepackage')
class NetworkManagerApplet(GnomePackageRecipe):

   buildRequires = [ 'GConf:devel', 'ORBit2:devel', 'chkconfig:runtime',
                     'gnome-keyring:devel', 'gnome-vfs:devel', 'ppp:devel',
                     'hal:devel', 'iproute:runtime', 'libart_lgpl:devel',
                     'libbonobo:devel', 'libbonoboui:devel', 'libgcrypt:devel',
                     'libglade:devel', 'libgnome:devel', 'libgnomecanvas:devel',
                     'libgnomeui:devel', 'libgpg-error:devel', 'libnl:devel',
                     'popt:devel', 'wireless-tools:devel', 'dbus:devel',
                     'dbus-glib:devellib', 'glib:devel', 'pango:devel',
                     'autoconf:runtime', 'automake:runtime', 'libtool:devel',
                     'desktop-file-utils:runtime', 'libnotify:devel',
                     'intltool:runtime', 'autoconf:data', 'libtool:runtime',
                     'pkgconfig:devel', 'intltool:devel', 'gettext:runtime',
                     'gettext:devel', 'gnome-common:devel', 'gnome-common:runtime', 
                     'dbus-glib:runtime', 'automake:runtime', 'autoconf:runtime',
                     'intltool:devel', 'libtool:devel', 'util-macros:devel',
                     'NetworkManager:devel', 'nspr:devel', 'nss:devel', 
                     'polkit-gnome:devel', 'polkit:devel', 'GConf:runtime'
                     ]


   name = "network-manager-applet"
   version = '0.7.997'

   configureName='autogen.sh'

   extraConfig = ' --with-notify --with-nss=yes --with-gnutls=no --disable-static --with-distro=redhat'

   def unpack(r):
      r.addGitSnapshot('git://git.gnome.org/network-manager-applet/', tag = '0.7.997')
      # KEN - FIXME plz
      #      r.addPatch('notify-check.patch')
      r.Run('autoreconf -i ; intltoolize --force')
      

   def build(r):
      r.Configure(r.extraConfig,
                  configureName = r.configureName,
                  preConfigure = r.preConfigure)

      r.Replace('-Werror', '', 'configure')

      r.Make(r.makeArgs, preMake=r.preMake)

