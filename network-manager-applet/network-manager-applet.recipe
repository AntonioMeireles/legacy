loadSuperClass('gnomepackage')
class NetworkManagerApplet(GnomePackageRecipe):

   buildRequires = [ 'GConf:devel', 'ORBit2:devel', 'chkconfig:runtime',
                     'gnome-keyring:devel', 'gnome-vfs:devel', 'ppp:devel',
                     'hal:devel', 'iproute:runtime', 'libart_lgpl:devel',
                     'libbonobo:devel', 'libbonoboui:devel', 'libgcrypt:devel',
                     'libglade:devel', 'libgnome:devel', 'libgnomecanvas:devel',
                     'libgnomeui:devel', 'libgpg-error:devel', 'libnl:devel',
                     'popt:devel', 'wireless-tools:devel', 'dbus:devel',
                     'dbus-glib:devellib', 'glib:devel', 'pango:devel',
                     'autoconf:runtime', 'automake:runtime', 'libtool:devel',
                     'desktop-file-utils:config', 'libnotify:devel',
                     'intltool:runtime', 'autoconf:data', 'libtool:runtime',
                     'pkgconfig:devel', 'intltool:devel', 'gettext:runtime',
                     'gettext:devel', 'gnome-common:devel', 'gnome-common:runtime', 
                     'dbus-glib:runtime', 'automake:runtime', 'autoconf:runtime',
                     'intltool:devel', 'libtool:devel', 'util-macros:devel',
                     'NetworkManager:devel', 'nspr:devel', 'nss:devel', 
                     ]


   name = "network-manager-applet"
   version = '0.7.0.r404'
   configureName='autogen.sh'

   extraConfig = ' --with-notify --with-nss=yes --with-gnutls=no --disable-static --with-distro=redhat  --with-named=/usr/sbin/named --with-named-user=named --with-named-dir=%(localstatedir)s/named '

   def unpack(r):
      r.addSvnSnapshot('http://svn.gnome.org/svn/network-manager-applet/trunk')
#      r.addPatch('nm-applet-0.7.0-disable-stuff.patch')
      r.Run('autoreconf -i ; intltoolize --force')
      r.Replace('-Werror', '', 'configure')

