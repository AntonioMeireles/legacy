--- dhcp-3.0pl1/client/scripts/linux.sopwith	2002-08-26 08:46:21.000000000 -0400
+++ dhcp-3.0pl1/client/scripts/linux	2002-08-26 09:29:25.000000000 -0400
@@ -129,12 +129,40 @@
 
   if [ -n "$new_nis_domain" ]; then
 	domainname "$new_nis_domain"
+
+	rm -f /etc/yp.conf
+	if [ -n "$new_nis_servers" ]; then
+	    for I in $new_nis_servers; do
+		echo "domain $new_nis_domain server $I" >> /etc/yp.conf
+	    done
+	else
+	    echo "domain $new_nis_domain broadcast" >> /etc/yp.conf
+	fi
+  elif [ -n "$new_nis_servers" ]; then
+      rm -f /etc/yp.conf
+      for I in $new_nis_servers; do
+	  echo "ypserver $I" >> /etc/yp.conf
+      done
   fi
 
-  if [ -n "$new_host_name" ]; then
-	if need_hostname || [ "`hostname`" != "$new_host_name" ]; then
-	        hostname $new_host_name
+  if [ -n "$new_ntp_servers" ]; then
+      cat <<EOF > /etc/ntp.conf
+restrict default ignore
+restrict 127.0.0.1
+driftfile /etc/ntp/drift
+broadcastdelay 0.008
+authenticate yes
+keys /etc/ntp/keys
+EOF
+      :> /etc/ntp/step-tickers
+      for I in $new_ntp_servers; do
+	  echo "server $I" >> /etc/ntp.conf
+	  echo "$I" >> /etc/ntp/step-tickers
+      done
 	fi
+
+  if [ -n "$new_host_name" ] && need_hostname; then
+      hostname $new_host_name
   fi
     
   if [ x$old_ip_address != x ] && [ x$alias_ip_address != x ] && \
--- dhcp-3.0pl1/client/clparse.c.sopwith	2002-08-26 06:58:04.000000000 -0400
+++ dhcp-3.0pl1/client/clparse.c	2002-08-26 06:59:57.000000000 -0400
@@ -60,6 +60,9 @@
 	DHO_DOMAIN_NAME,
 	DHO_DOMAIN_NAME_SERVERS,
 	DHO_HOST_NAME,
+	DHO_NIS_DOMAIN,
+	DHO_NIS_SERVERS,
+	DHO_NTP_SERVERS,
 	0
 };
 
--- dhcp-3.0pl1/client/dhclient.conf.5.sopwith	2002-08-26 07:02:27.000000000 -0400
+++ dhcp-3.0pl1/client/dhclient.conf.5	2002-08-26 07:03:28.000000000 -0400
@@ -191,7 +191,8 @@
 options.   Only the option names should be specified in the request
 statement - not option parameters.   By default, the DHCP server
 requests the subnet-mask, broadcast-address, time-offset, routers,
-domain-name, domain-name-servers and host-name options. 
+domain-name, domain-name-servers, host-name, nis-domain, nis-servers,
+and ntp-servers options.
 .PP
 In some cases, it may be desirable to send no parameter request list
 at all.   To do this, simply write the request statement but specify
--- dhcp-3.0pl1/dst/Makefile.dist.sopwith	2002-08-26 07:10:48.000000000 -0400
+++ dhcp-3.0pl1/dst/Makefile.dist	2002-08-26 07:18:07.000000000 -0400
@@ -26,7 +26,12 @@
 
 all:	libdst.a
 
-install:
+install: all
+	if [ ! -d $(DESTDIR)$(LIBDIR) ]; then \
+		mkdir $(DESTDIR)$(LIBDIR); chmod 755 $(DESTDIR)$(LIBDIR); \
+	fi
+	$(INSTALL) libdst.a $(DESTDIR)$(LIBDIR)
+	$(CHMOD) 644 $(DESTDIR)$(LIBDIR)/libdst.a
 
 libdst.a:	$(OBJ)
 	rm -f dst.a
