#
# Copyright (c) 2011 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Libvpx(CPackageRecipe):
    name = 'libvpx'
    version = '0.9.5'
 
    buildRequires = ['yasm:devel']
 
    def setup(r):
        r.addArchive('http://webm.googlecode.com/files/libvpx-v%(version)s.tar.bz2')
        r.addPatch('CVE-2010-4203.patch')
        r.ManualConfigure(' --enable-vp8'
                          ' --enable-shared'
                          ' --enable-runtime-cpu-detect '
                          ' --enable-postproc '
                          ' --enable-pic '
                          ' --prefix=%(prefix)s')
        r.Make()
        r.MakeInstall('DESTDIR=%(destdir)s')
