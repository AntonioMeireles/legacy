#
# Copyright (c) 2008 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('gnomepackage')
loadSuperClass('rpmpackage')

class Gvfs(RPMPackageRecipe,GnomePackageRecipe):
    buildRequires = [ 'fuse:devel', 'openssh-client:runtime', 'glib:devel',
                      'gtk-doc:runtime', 'hal:devel', 'libsoup:devel',
                      'libxml2:devel', 'samba:devel', 'GConf:devel', 'ORBit2:devel',
                      'avahi-glib:devel', 'avahi:devel', 'gnome-keyring:devel',
                      'libexif:devel', 'libgphoto2:devel', 'libusb:devel',
                      'bluez-libs:devel', 'samba-client:lib'
                      ]

    name = 'gvfs'
    version = '1.2.3'
    rpmRelease = '2.fc11'
#    rpmPatches = ['gvfs-1.2.2-ssh-auth-sock.patch']
    extraConfig = ' --enable-samba'
    
    def policy(r):
        r.SetModes('%(sysconfdir)s/profile.d/gvfs-bash-completion.sh', 0644)
        r.NonBinariesInBindirs(exceptions='%(sysconfdir)s/profile.d/gvfs-bash-completion.sh')
