class skeleton(PackageRecipe):
	name='transfusion'
	version='1.01'

	buildRequires = ['desktop-file-utils:runtime','unzip:runtime']
	def setup(r):

		#for beta version with music, but it is not good
#		r.addArchive('http://jaist.dl.sourceforge.net/sourceforge/blood/transfusion-1.1-beta3.zip')
#		r.addSource('Makefile')
#		r.addSource('pak6.zip') #cd soundtrack
#		r.Run('unzip  pak6.zip -d basetf && rm pak6.zip')
#		r.addSource('pak7.zip') #midi tracks in  mp3 format
#		r.addSource('cdsoundtrack.pk3')
#		r.Run('unzip pak7.zip -d basetf && rm pak7.zip')
#		r.Run('mv cdsoundtrack.pk3 basetf')

		r.addArchive('http://puzzle.dl.sourceforge.net/sourceforge/blood/transfusion-1.0-linux.i386.zip')
		r.addArchive('http://switch.dl.sourceforge.net/sourceforge/blood/transfusion-patch-1.01-linux.i386.zip')

		r.addSource('transfusion.png')
		r.addSource('transfusion.desktop')
		r.addSource('transfusion.sh')

		r.Doc('transfusion/*.txt','transfusion/doc/*','qw/*.txt')

		r.Run('chmod +x transfusion.sh; chmod +x transfusion-glx')
		r.Install('transfusion.sh','%(bindir)s/transfusion')

		r.addSource('transfusion.png')
		r.Install('transfusion.png','%(datadir)s/pixmaps/')


		r.addSource('transfusion.desktop')
		r.Desktopfile('transfusion.desktop')
		r.Install('transfusion','%(libdir)s/%(name)s/')
		r.Run('chmod +x transfusion-glx')
		r.Install('transfusion-glx','%(libdir)s/%(name)s')

		
