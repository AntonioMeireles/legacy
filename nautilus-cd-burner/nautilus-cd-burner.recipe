#
# Copyright (c) 2004-2008 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadRecipe('gnomepackage')
class Nautilus(GnomePackageRecipe):

    buildRequires = [ 'gnome-vfs:devel', 'libgnome:devel', 'glib:devel',
       'gtk:devel', 'libglade:devel', 'eel:devel', 'gettext:runtime',
       'nautilus:runtime', 'libtool:runtime', 'GConf:devel', 'ORBit2:devel',
       'atk:devel', 'cairo:devel', 'dbus:devel', 'fontconfig:devel',
       'freetype:devel',  'gnome-keyring:devel', 'hal:devel',
       'libart_lgpl:devel', 'libbonobo:devel', 'libbonoboui:devel',
       'libgnomecanvas:devel', 'libgnomeui:devel', 'libpng:devel',
       'libxml2:devel', 'nautilus:devel', 'pango:devel', 
       'dbus-glib:devellib', 'popt:devel', 'GConf:runtime',
       'desktop-file-utils:runtime', 'perl:runtime', 'gtk:runtime' ]

    name = 'nautilus-cd-burner'
    version = '2.25.3'
    extraConfig = ' --enable-gnome-mount '

    def policy(r):
        # Remove files that used to be in main nautilus-cd-burner pkg
        for t in [ '%(sysconfdir)s',
                   '%(libdir)s/nautilus',
                   '%(datadir)s/nautilus-cd-burner',
                   '%(datadir)s/icons',
                   '%(datadir)s/locale',
                   '%(datadir)s/applications/',
                   '%(bindir)s']:
            r.Remove(t, recursive = True)
