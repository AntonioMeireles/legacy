#
# Copyright (c) 2008 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class ProtoBuf(CPackageRecipe):
    name = 'protobuf'
    version = '2.0.0beta'

    buildRequires = [
        'libstdc++:devel',
        'python:devel',
        'python-setuptools:python',
      ]

    def setup(r):
        r.addArchive('http://%(name)s.googlecode.com/files/')

        # C
        r.Configure()
        r.Make()
        r.Make('check')
        r.MakeInstall()

        # Python
        r.PythonSetup(dir='python')
