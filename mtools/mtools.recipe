#
# Copyright (c) 2004-2006 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('rpmpackage')
class Mtools(RPMPackageRecipe, AutoPackageRecipe):
    name = 'mtools'
    version = '3.9.10'
    rpmRelease = '2.fc6'
    externalArchive = 'http://mtools.linux.lu/mtools-%(version)s.tar.bz2'
    rpmPatches = [ 'mtools-3.9.6-config.patch', 'mtools-3.9.6-paths.patch',
        'mtools-3.9.7-bigdisk.patch', 'mtools-3.9.9-noargs.patch',
        'mtools-3.9.9-badc.patch', ]

    buildRequires = [ 'install-info:runtime', 'texinfo:runtime' ]

    def makeinstall(r):
        r.MakePathsInstall()
        r.Install('mtools.conf', '%(sysconfdir)s/')
        r.Run('find %(destdir)s -name "floppyd*" -print | xargs rm')
        r.Doc('Release.notes')
