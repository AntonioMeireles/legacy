class NetworkManager(PackageRecipe):
   buildRequires = [ 'hal:devel','dbus:devel',
			'gtk:devel','libgnomeui:devel',
			'wireless-tools:devel','glib:devel',
			'openssl:devel','libglade:devel',
			'gnome-panel:devel','gnome-keyring:devel',
			'gettext:devel' ]
	
   name = "NetworkManager"
   version = "0.4"
   def setup(r):
	r.addArchive('http://people.redhat.com/dcbw/%(name)s/%(version)s/%(name)s-%(version)s.cvs20050506.tar.gz')
	r.addPatch('dbus_0_34.patch')
	r.Configure('--with-distro=redhat --enable-notification-icon --with-named=/usr/sbin/named --with-named-user=named --with-named-dir=%(servicedir)s/lib/NetworkManager')

	r.Make()
	r.MakeInstall()
	r.MakeDirs('%(servicedir)s/lib/NetworkManager')
	r.Ownership('named','named','%(servicedir)s/lib/NetworkManager')
	r.ExcludeDirectories(exceptions=['%(servicedir)s/lib/NetworkManager'])
