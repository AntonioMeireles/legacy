#
# Copyright (c) 2004 Specifix, Inc.
# All rights reserved
#

class SLIB(PackageRecipe):
    name = 'slib'
    version = '3a4'

    buildRequires = [
        'unzip:runtime',
        'install-info:runtime',
    ]
    
    def setup(r):
        r.mainDir('%(name)s')
        r.addArchive('http://swiss.csail.mit.edu/ftpdir/scm/%(name)s%(version)s.zip')
        r.addPatch('slib-3a4-guile.patch')
        r.Replace("/usr/local/lib", "%(datadir)s", "*", allowNoChange=True)
        r.Replace("/usr/lib", "%(datadir)s", "*", allowNoChange=True)
        r.Replace("/usr/local", "/usr", "*", allowNoChange=True)
        r.Doc('ANNOUNCE', 'COPYING', 'ChangeLog', 'FAQ', 'README')
        for ext in ['scm', 'init', 'xyz', 'txt', 'dat', 'ps']:
            r.Install('*.' + ext, '%(datadir)s/slib/')
        r.Install('slib.info', '%(infodir)s/')

        r.TagSpec('guile-slib', '%(datadir)s/slib/.*\.scm$')
