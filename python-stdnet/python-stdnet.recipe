#
# Copyright (c) 2011 - the Foresight Linux Project
#
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
# 

class RedisStdNet(CPackageRecipe):
    name = 'python-stdnet'
    version = '0.5.1'

    buildRequires = [ 'python:devel', 'cmemcache:python', 'django:python',
                      'python-redis:python', 'python-simplejson:python' ]

    def setup(r):
        r.addArchive('http://pypi.python.org/packages/source/p/%(name)s/')
        # CNY-1089 workaround
        r.Run('python setup.py install --root=%(destdir)s --prefix=%(prefix)s  '
              '--install-purelib=%(libdir)s/python%(pyver)s/site-packages/ '
              '--install-platlib=%(libdir)s/python%(pyver)s/site-packages/ '
              '--install-data=%(libdir)s/python%(pyver)s/site-packages/')
        r.Requires('python-redis:python', '%(name)s:python')
