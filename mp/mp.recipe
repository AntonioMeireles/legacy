#
# Copyright (c) 2006 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class MP(CPackageRecipe):
    name = 'mp'
    version = '2.5.8'

    buildRequires = []

    def setup(r):
        r.addArchive('http://www.kjsl.com/~juphoff/misc/')
        r.Run('cp Makefile.dist Makefile')
        r.Run('mv mailp mailp.in')
        r.addPatch('mp-Makefile.patch', level=0)
        r.addPatch('mp-malloc.patch', level=0)
        r.Make('MPLIBDIR=%(libdir)s/%(name)s')
        r.MakeDirs('%(prefix)s/bin')
        r.MakeDirs('%(libdir)s/%(name)s')
        r.MakeDirs('%(mandir)s/man1')
        r.MakeInstall('MPPATH=%(destdir)s/%(prefix)s MPMANDIR=%(destdir)s/%(mandir)s/man1 MPLIBDIR=%(destdir)s/%(libdir)s/%(name)s')
