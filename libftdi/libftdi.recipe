class LIBftdi(CPackageRecipe):
    name = 'libftdi'
    version = '2010.06.07'
 
    buildRequires = ['libstdc++:devel', 'libusb:devel', 'python:devel', 'swig:runtime', 'boost:devel',
                    'cmake:runtime', 'graphviz:runtime', 'pkgconfig:devel']
 
    def setup(r):
        r.addGitSnapshot('git://developer.intra2net.com/libftdi-1.0')
        r.CMake()
        r.Make()
        r.MakeInstall()

    def policy(r):
        r.Install('doc/man/man3/*.3', '%(mandir)s/man3/', mode=0644)
        # Cleanup examples
        r.Remove('%(bindir)s/simple')
        r.Remove('%(bindir)s/bitbang')
        r.Remove('%(bindir)s/bitbang2')
        r.Remove('%(bindir)s/bitbang_ft2232')
        r.Remove('%(bindir)s/bitbang_cbus')
        r.Remove('%(bindir)s/find_all')
        r.Remove('%(bindir)s/find_all_pp')
        r.Remove('%(bindir)s/baud_test')
        r.Remove('%(bindir)s/serial_read')
