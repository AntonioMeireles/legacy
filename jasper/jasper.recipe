#
# Copyright (c) 2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Jasper(AutoPackageRecipe):
    name = 'jasper'
    version = '1.900.1'

    buildRequires = [
        'libjpeg:devel', 'libstdc++:devel', 'unzip:runtime'
    ]

    def unpack(r):
        r.addArchive('http://www.ece.uvic.ca/~mdadams/jasper/software/')

        # Install docs and images
        r.Move('doc/*', '%(thisdocdir)s/pdf/')
        r.Move('data/*', '%(thisdocdir)s/')

        # We don't build jiv, which depends on freeglut,
        # so do not install the jiv man page either
        r.Replace('jiv.1', '', 'src/appl/Makefile.in')

    def configure(r):
        r.Configure('--enable-shared')
