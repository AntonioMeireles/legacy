#
# Copyright (c) 2008 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#


class MozillaSvrcore(CPackageRecipe):
    name = 'mozilla-svrcore'
    version = '4.0.4'

    buildRequires = ['nspr:devel', 'nss:devel', 'pkgconfig:devel']


    def setup(r):
        r.addArchive('ftp://ftp.mozilla.org/pub/mozilla.org/directory/svrcore/releases/%(version)s/src/svrcore-%(version)s.tar.bz2')
        extraMake = ''
        if Arch.x86_64:
            extraMake += 'USE_64=1'
        r.Configure(' --with-nspr-inc=/usr/include/nspr4 --with-nss-inc=/usr/include/nss3')
        r.Make(extraMake)
        r.MakeInstall()

