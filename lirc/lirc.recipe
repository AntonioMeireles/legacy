class Lirc(CPackageRecipe):
    buildRequires = [ 'alsa-lib:devel', 'chkconfig:runtime', 'libusb:devel',
        'libirman:devel', 'portaudio:devel' ]
    name = "lirc"
    version = "0.8.0"

    def setup(r):
        r.addArchive('http://internap.dl.sourceforge.net/sourceforge/lirc/'
                     'lirc-%(version)s.tar.bz2')

        r.Configure('--with-driver=userspace')
        r.Make()
        r.MakeInstall()
        r.Install('contrib/lirc.rules', '%(sysconfdir)s/udev/rules.d/',
                  mode=0644)
        r.Install('contrib/lirc.redhat', '%(initdir)s/lirc', mode=0755)
