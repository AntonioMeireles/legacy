#
# Copyright (c) 2007 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#


class Lirc(CPackageRecipe):
    
    name = "lirc"
    version = "0.8.1"

    buildRequires = [ 'alsa-lib:devel','libICE:devel', 'libSM:devel',
                      'libX11:devel', 'chkconfig:runtime', 'libusb:devel',
                      'libirman:devel', 'portaudio:devel' ]

    def setup(r):
        r.addArchive('mirror://sourceforge/%(name)s/'
                     '%(name)s-%(version)s.tar.bz2')

        r.Configure('--with-driver=userspace')
        r.Make()
        r.MakeInstall()
        r.Install('contrib/lirc.rules', '%(sysconfdir)s/udev/rules.d/',
                  mode=0644)
        r.Install('contrib/lirc.redhat', '%(initdir)s/lirc', mode=0755)
        r.Install('remotes', '%(datadir)s/lirc/')
