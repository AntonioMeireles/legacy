#
# Copyright (c) 2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Intercal(AutoPackageRecipe):
    name = 'intercal'
    version = '0.24'

    buildRequires = [ 'flex:runtime', 'bison:runtime', ]

    def unpack(r):
        r.addArchive('http://www.catb.org/~esr/%(name)s/')
        r.addSource('calc-intercal.el',
                    dest='%(datadir)s/%(name)s-%(version)s/')

    def makeinstall(r):
        # The ick Makefile makes several assumptions.
        r.MakeDirs('%(datadir)s/%(name)s-%(version)s',
                   '%(libdir)s',
                   '%(bindir)s')
        r.MakeInstall()
        r.Install('intercal.el', '%(datadir)s/%(name)s-%(version)s/')
        r.AutoDoc('BUGS', 'doc/')
