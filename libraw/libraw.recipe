#
# Copyright (c) 2010 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#
loadSuperClass('rpmpackage')
class Libraw(RPMPackageRecipe,CPackageRecipe):
    name = 'libraw'
    version = '0.9.1'
    rpmName = 'LibRaw'
    rpmRelease = '8.fc13'
    rpmPatches = [ 'LibRaw-0.9.1-configure.patch',
                   'LibRaw-0.9.1-configure-optflags.patch',
                   'LibRaw-0.9.1-configure-default-cflags.patch',
                   ]
    tarballName = rpmName + '-' + version +'.tar.gz'

    buildRequires = ['libstdc++:devel', 'util-linux:runtime']
 
    def setup(r):
        RPMPackageRecipe.unpack(r)
        r.SetModes('configure', 0755)
        r.ManualConfigure('-P %(prefix)s ')
        r.Make()
        r.MakeInstall('LIBDIR=%(lib)s' )
        r.Doc('doc')
