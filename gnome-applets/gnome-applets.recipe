#
# Copyright (c) 2004-2006 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadRecipe('gnomepackage.recipe')
class GnomeApplets(GnomePackageRecipe):

    buildRequires = [ 'GConf:devel', 'GConf:runtime', 'ORBit2:devel', 'atk:devel', 'cairo:devel', 'control-center:devellib', 'cpufrequtils:devel', 'dbus-glib:devellib', 'dbus:devel', 'desktop-file-utils:runtime', 'docbook-utils:runtime', 'fontconfig:devel', 'freetype:devel', 'gail:devel', 'gcc-c++:runtime', 'gettext:runtime', 'glib:devel', 'glib:runtime', 'gnome-desktop:devel', 'gnome-doc-utils:devel', 'gnome-doc-utils:runtime', 'gnome-icon-theme:devellib', 'gnome-keyring:devel', 'gnome-panel:devel', 'gnome-python-desktop:python', 'gnome-python-extras:python', 'gnome-python:python', 'gnome-vfs:devel', 'gst-plugins-base:devel', 'gstreamer:devel', 'gtk:devel', 'gtk:runtime', 'gucharmap:devel', 'hal:devel', 'intltool:runtime', 'libart_lgpl:devel', 'libbonobo:devel', 'libbonoboui:devel', 'libglade:devel', 'libgnome:devel', 'libgnomecanvas:devel', 'libgnomekbd:devel', 'libgnomeui:devel', 'libgtop:devel', 'libnotify:devel', 'libpng:devel', 'libwnck:devel', 'libxklavier:devel', 'libxml2:devel', 'libxslt:runtime', 'pango:devel', 'perl:lib', 'perl:runtime', 'popt:devel', 'pygobject:python', 'pygtk:python', 'scrollkeeper:runtime', 'startup-notification:devel' ]

    name = 'gnome-applets'
    version = '2.18.0'

    extraConfig = GnomePackageRecipe.extraConfig
    extraConfig += ' --disable-scrollkeeper'

    def setup(r):
        r.disableParallelMake()
        GnomePackageRecipe.setup(r)
        # add newline
        r.Run('echo >> %(destdir)s/etc/gconf/schemas/geyes.schemas')

    def unpack(r):
        GnomePackageRecipe.unpack(r)

    def install(r):
        GnomePackageRecipe.install(r)
        r.SetModes('%(bindir)s/cpufreq-selector', 04755)
