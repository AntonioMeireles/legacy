#
# Copyright (c) 2005-2008 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('xorgcpackage')
class LibXfont(XorgCPackageRecipe):
    name = 'libXfont'
    version = '1.3.1'
    component = 'lib'

    buildRequires = [ 'fontcacheproto:devel', 'fontsproto:devel',
        'freetype:devel', 'libfontenc:devel', 'xproto:devel', 'xtrans:devel',
        'zlib:devel' ]

    extraConfig = ' --with-encodingsdir=%(datadir)s/X11/encodings'

    def unpack(r):
        XorgCPackageRecipe.unpack(r)
        # RPL-2010 CVE-2008-0006
        r.addPatch('ftp://ftp.freedesktop.org/pub/xorg/X11R7.3/patches/xorg-libXfont-1.3.1-pcf-parser.diff')
