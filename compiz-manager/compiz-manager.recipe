#
# Copyright (c) 2007-2008 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('rpmpackage')
class CompizManager(AutoPackageRecipe):
    name = 'compiz-manager'
    version = '0.6.0'
    rpmRelease = '7.fc9'
    buildRequires = []


    def setup(r):
        r.addArchive('http://releases.compiz-fusion.org/%(version)s/')
        
        # we quote above RH pkg just as a reference because it's from 
        # there we fetch the patch bellow and mod it to our needs
        r.addPatch('compiz-manager-0.6.0.foresight.diff')
        r.Replace('nvidia intel ati radeon i810', 'nvidia intel ati radeon i810 fglrx', 'compiz-manager')
        r.Install('compiz-manager', '%(bindir)s/compiz')
        r.Requires('compiz:runtime', 'compiz-manager:runtime')
