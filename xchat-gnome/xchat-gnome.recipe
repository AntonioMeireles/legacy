# Gil Hamlin
# gil@foresightlinux.com
# 11th October 2005

loadRecipe('gnomepackage.recipe')
class XchatGnome(GnomePackageRecipe):
    buildRequires = [ 'glibc:devel', 'krb5:lib', 'python:devel', 'perl:runtime', 
		'e2fsprogs:devel', 'pkgconfig:devel', 'bison:runtime', 'gettext:runtime',
		'zlib:lib', 'GConf:runtime', 'GConf:devel', 'ORBit2:devel', 'atk:devel',
		'cairo:devel', 'fontconfig:devel', 'freetype:devel', 'glib:devel',
		'gnome-keyring:devel', 'gnome-vfs:devel', 'libart_lgpl:devel', 'libsexy:devel',
		'libbonobo:devel', 'libbonoboui:devel', 'libglade:devel', 'libgnome:devel',
		'libgnomecanvas:devel', 'libgnomeui:devel', 'libpng:devel', 'libxml2:devel',
		'openssl:devel', 'pango:devel', 'popt:devel', 'tcl:devel', 'dbus:devel',
		'dbus-glib:devellib', 'krb5:devel', 'libnotify:devel' ]

    name = "xchat-gnome"
    version = "0.7"

    externalArchive = 'http://flapjack.navi.cx/releases/%(name)s/%(name)s-%(version)s.tar.bz2'

    extraConfig = GnomePackageRecipe.extraConfig
    extraConfig += ' --enable-ipv6 --enable-shm'

    def unpack(r):
        GnomePackageRecipe.unpack(r)
        r.macros.optflags = '-Os'

    def install(r):
        GnomePackageRecipe.install(r)
        r.Remove('%(datadir)s/applications/xchat.desktop')
	r.Requires('enchant:lib','%(bindir)s/xchat-gnome')
