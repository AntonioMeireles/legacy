# Gil Hamlin
# 2coolforschoolgmail.com
loadRecipe('gnomepackage.recipe')
class XchatGnome(GnomePackageRecipe):
    buildRequires = [ "glibc:devel", "krb5:lib", "python:devel", "perl:runtime", 
                      "e2fsprogs:devel", "pkgconfig:devel", "bison:runtime",
                      "gettext:runtime", "zlib:lib" ]
    name = "xchat-gnome"
    version = "0.4"

    def setup(r):
        r.addArchive('http://flapjack.navi.cx/releases/%(name)s/%(name)s-%(version)s.tar.gz')
        r.Configure()
        #is only needed for 0.4 version it is already fixed in cvs :) so 0.5 version will not have it anymore 
        r.Replace('#define XCHAT_DIR ".xchat2"','#define XCHAT_DIR ".xchat-gnome"','src/common/cfgfiles.c') 
        r.Make()
        r.MakeInstall()
