diff -r d83f1d984a18 str.c
--- a/str.c	Wed May 21 12:46:44 2008 -0800
+++ b/str.c	Wed May 21 12:47:29 2008 -0800
@@ -669,7 +669,7 @@
 void
 str_basename (struct mystr* d_str, const struct mystr* path)
 {
-  struct mystr tmp = INIT_MYSTR;
+  static struct mystr tmp;
 
   str_copy (&tmp, path);
   str_split_char_reverse(&tmp, d_str, '/');
