#
# Copyright (c) Elliot Peele <elliot@bentlogic.net>
#

class irssi(CPackageRecipe):
    name = 'irssi'
    version = '0.8.10a'

    buildRequires = ['glib:devel', 'glibc:devel', 'ncurses:devel',
        'openssl:devel', 'zlib:devel', 'binutils:runtime', 'gawk:runtime',
        'perl:runtime', 'pkgconfig:devel', 'sed:runtime', 'krb5:devel',
        'perl-URI:perl', 'perl-libwww-perl:perl', 'perl:devel', 'perl:lib', ]

    def setup(r):
        r.addArchive('http://www.irssi.org/files/%(name)s-%(version)s.tar.bz2')

        r.Configure('--with-plugins --enable-ipv6 --with-textui --with-imlib '
                '--with-bot --with-socks --with-proxy --with-perl="yes" '
                '--with-ncurses')
        r.Make()
        r.MakeInstall('DESTDIR=%(destdir)s')
        r.ExcludeDirectories(exceptions=['/usr/lib/irssi/modules'])

