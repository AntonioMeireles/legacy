#
# Copyright (c) 2004 Specifix, Inc.
# All rights reserved
#

loadRecipe('gnomepackage.recipe')
class Libgnomesu(GnomePackageRecipe):
    
    buildRequires = GnomePackageRecipe.buildRequires
    
    name = 'libgnomesu'
    version = '0.9.5'

    def unpack(r):
	GnomePackageRecipe.unpack(r)
	r.Replace(('a=xs','a=x'), 'su-backend/Makefile*')
	r.Replace(('chown','#chown'), 'su-backend/Makefile*')
	r.Replace(('a=xs','a=x'), 'pam-backend/Makefile*')
	r.Replace(('chown','#chown'), 'pam-backend/Makefile*')
	
    def setup(r):
	GnomePackageRecipe.setup(r)
	r.SetModes('/usr/libexec/gnomesu-pam-backend', 04511)
	r.SetModes('/usr/libexec/gnomesu-backend', 04511)
