#
# Copyright (c) 2006 Ant√≥nio Meireles
# All rights reserved
#

class IPWConfig(PackageRecipe):
    buildRequires = ['chkconfig:runtime', 'glibc:devel']

    name = 'ipw3945config'
    version = '1.7.19'

    def setup(r):
        r.addArchive('ipw3945d-1.7.19.tgz')
        r.Install('x86/ipw3945d','%(sbindir)s/ipw3945d', mode=0755)
        r.Install('LICENSE.ipw3945d','%(essentiallibdir)s/firmware/')
        r.Replace(('/usr/bin/env /bin/bash', '/bin/bash'), 'ipw3945d-start')
        r.Replace(('/usr/bin/env /bin/bash', '/bin/bash'), 'ipw3945d-stop')
        r.Install('ipw3945d-start','%(bindir)s/', mode=0755)
        r.Install('ipw3945d-stop','%(bindir)s/', mode=0755)
        


        r.addSource('%(name)s')
        r.addSource('%(name)s.sysconfig')
        r.Install('%(name)s', '%(initdir)s/', mode=0755)
        r.Install('%(name)s.sysconfig', '%(sysconfdir)s/sysconfig/%(name)s')
        
        r.EnforceSonameBuildRequirements(exceptions='.*')
