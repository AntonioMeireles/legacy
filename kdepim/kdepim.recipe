#
# Copyright (c) 2006 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('kdecorepackage')
class kdePIM(kdeCorePackageRecipe):

    name = 'kdepim'
    version = '3.5.9'

    verify = False
    buildAPIDox = False
    enableFinal = False

    buildRequires = [
        'bison:runtime', 'cyrus-sasl:devel', 'flex:runtime', 'gnupg:runtime',
        'gpgme:devel', 'libgpg-error:devel', 'lockdev:devel', 'pcre:devel',
        'perl:runtime', 'pilot-link:devel'
    ]

    modules = [
        'akregator',
        'kaddressbook',
       ('kaddressbook', 'kabc'),
        'kalarm',
        'kandy',
        'karm',
       ('kdepim', 'mimelib'),
       ('kdepim', 'networkstatus'),
       ('kdepim', 'libkdepim'),
       ('kdepim', 'libkmime'),
       ('kdepim', 'pixmaps'),
       ('kdepim-wizards', 'wizards'),
       ('kfile-plugins-pim', 'kfile-plugins'),
       ('kio-plugins-pim', 'kioslaves'),
#        'kitchensync', - need libopensync
       ('kleopatra', 'certmanager'),
       ('kleopatra', 'doc/kleopatra'),
       ('kleopatra', 'doc/kwatchgnupg'),
        'kmail',
       ('kmail', 'indexlib'),
       ('kmail', 'plugins'),
       ('kmail', 'kmailcvt'),
       ('kmail', 'libksieve'),
        'kmobile',
        'knode',
        'knotes',
        'kode',
        'konsolekalendar',
        'kontact',
        'korganizer',
       ('korganizer', 'kgantt'),
       ('korganizer', 'kdgantt'),
        'korn',
        'kpilot',
        'kresources',
        'ktnef',
        'libkcal',
        'libkdenetwork',
        'libkholidays',
        'libkpgp',
        'libkpimexchange',
        'libkpimidentities',
        'libemailfunctions'
    ]

    def postUnpack(r):

        r.Environment('DO_NOT_COMPILE', 'kitchensync')
        r.Replace('default.kde', 'crystalsvg',
                  'kmobile/devices/pics/Makefile.in')

