#
# Copyright (c) 2004-2009 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('kdecorepackage')
class kdePIM(kdeCorePackageRecipe):

    name = 'kdepim'
    version = '4.3.0+r1011226'

    buildRequires = [
        'akonadi:devel', 'boost:devel', 'gnokii:devel', 'gpgme:devel',
        'libassuan:devel', 'libgpg-error:devel', 'libmal:devel',
        'libxml2:devel', 'libXScrnSaver:devel', 'libxslt:runtime', 'perl:devel',
        'pilot-link:devel', 'qca2:devel', 'shared-mime-info:runtime',
        'soprano:devel', 'strigi:devel'
    ]

    modules = [
        'akregator',
        'kaddressbook',
        'kalarm',
        'kjots',
        'kleopatra',
        'kmail',
        'kmailcvt',
        'knode',
        'knotes',
        'kontact',
        'korganizer',
        'kpilot',
        'kresources',
        'ktimetracker',
        'libkdepim',
        'libkleo',
        'libkpgp',
        'libksieve',
        ('kaddressbook', 'console/kabcclient', 'plugins/ktexteditor'),
        ('kmail', 'ksendemail'),
        ('kmail-plugins-pim', 'plugins/kmail'),
        ('kabcclient', 'console/kabcclient', 'doc/kabcclient'),
        ('konsolekalendar', 'console/konsolekalendar', 'doc/konsolekalendar'),
        ('kresources', 'wizards'),
        ('libkdepim', 'akonadi', 'icons', 'kontactinterfaces', 'mimelib'),
        ('strigi-analyzer-pim', 'strigi-analyzer'),
    ]

    def postUnpack(r):

        r.Replace('add_subdirectory', 'macro_optional_add_subdirectory', 'console/CMakeLists.txt')

