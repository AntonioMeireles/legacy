--- dev86-0.16.16/as/readsrc.c.open	2005-03-14 12:32:10.209691920 -0500
+++ dev86-0.16.16/as/readsrc.c	2005-03-14 12:32:41.395950888 -0500
@@ -99,10 +99,10 @@
     else
 #endif
 #ifdef O_BINARY
-    if ((unsigned) (fd = open(name, O_RDONLY|O_BINARY)) > 255)
+    if ((fd = open(name, O_RDONLY|O_BINARY)) == -1)
 	as_abort("error opening input file");
 #else
-    if ((unsigned) (fd = open(name, O_RDONLY)) > 255)
+    if ((fd = open(name, O_RDONLY)) == -1)
 	as_abort("error opening input file");
 #endif
 
--- dev86-0.16.17/as/as.c.jau	2004-06-03 14:50:21.000000000 -0400
+++ dev86-0.16.17/as/as.c	2007-02-16 08:59:44.000000000 -0500
@@ -145,9 +145,9 @@
     int fd;
 
 #ifdef O_BINARY
-    if ((fd = open(name, O_RDWR|O_BINARY|O_CREAT|O_TRUNC, CREAT_PERMS)) < 0 || fd > 255)
+    if ((fd = open(name, O_RDWR|O_BINARY|O_CREAT|O_TRUNC, CREAT_PERMS)) == -1)
 #else
-    if ((fd = creat(name, CREAT_PERMS)) < 0 || fd > 255)
+    if ((fd = creat(name, CREAT_PERMS)) == -1)
 #endif
 	as_abort(message);
     return fd;
