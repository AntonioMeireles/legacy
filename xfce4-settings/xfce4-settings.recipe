#
# Copyright (c) 2006 rPath, Inc.
# Copyright (c) 2007 -2009 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#
loadSuperClass('xfcepackage.recipe')
class xfce4Settings(XfcePackageRecipe):

    name = 'xfce4-settings'
    version = '4.6.1'

    XfcePackageRecipe.buildRequires.extend([
        'libxfce4util:devel', 'libexo:devel', 'desktop-file-utils:runtime',
        'libXcursor:devel', 'libXfixes:devel', 'libXrandr:devel',
        'libglade:devel', 'libnotify:devel', 'libxfcegui4:devel', 
        'xfconf:devel', 'libexo:runtime', 'libwnck:devel', 'libcanberra:devel',
        'libxklavier:devel',
    ])
    extraConfig = ' --enable-sound-settings'
    patches = [
        'http://cvs.fedoraproject.org/viewvc/devel/xfce4-settings/xfce4-settings-4.6.1-xkl.patch?revision=1.1',
        'http://cvs.fedoraproject.org/viewvc/devel/xfce4-settings/xfce4-settings-4.6.1-fix-timeout-startup.patch?revision=1.1',
        'http://cvs.fedoraproject.org/viewvc/devel/xfce4-settings/xfce4-settings-4.6.1-fix-keyrepeat-typo-1.patch?revision=1.1'
    ]

    def setup(r):
        XfcePackageRecipe.setup(r)
        r.addSource('gtkrc', dir='%(datadir)s/themes/Xfce-green/gtk-2.0/')
        r.addSource('xsettings.xml', dir='xfsettingsd/')
