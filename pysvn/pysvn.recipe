#
# Copyright (c) 2009 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Pysvn(CPackageRecipe):

    name = 'pysvn'
    version = '1.7.0'

    buildRequires = ['python:bin', 'python-setuptools:python', 'subversion:runtime', 'subversion:devel', 'apr:devel', 'apr-util:devel', 'python:devel', 'gcc-c++:runtime', 'neon:lib', 'neon:devel']

    def setup(r):
        r.addArchive('http://pysvn.barrys-emacs.org/source_kits/')
        r.mainDir('%(name)s-%(version)s/Source/')
        r.Run('python setup.py configure')
        r.Make()
        r.Install('pysvn/__init__.py',
            '%(libdir)s/python2.6/site-packages/pysvn/')
        r.Install('pysvn/_pysvn*.so',
            '%(libdir)s/python2.6/site-packages/pysvn/')
