class Zsnes(PackageRecipe):

    name = "zsnes"
    version = "1.42"

    buildRequires = [ 'SDL:devel', 'gcc:devel', 'glibc:devel', 'libpng:devel',
                      'nasm:runtime', 'xorg-x11:devel', 'zlib:devel' ]

    def setup(r):
        r.macros.versionmaj = r.version.split('.')[0]
        r.macros.versionmin = r.version.split('.')[1]

        r.addArchive('http://voxel.dl.sourceforge.net/sourceforge/%(name)s/%(name)s%(versionmaj)s%(versionmin)ssrc.tar.gz')
        r.mainDir('zsnes_%(versionmaj)s_%(versionmin)s/src')
        r.Replace('@prefix@/man', '@prefix@/share/man', 'Makefile.in')

        r.Configure()
        r.Make()
        r.MakeInstall()
