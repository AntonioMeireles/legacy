#
# Copyright (c) 2008 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class fluxconf(AutoPackageRecipe):
    name = 'fluxconf'
    version = '0.9.9'
 
    buildRequires = ['atk:devel', 'cairo:devel', 'expat:devel', 'fontconfig:devel', 'freetype:devel', 'glib:devel', 'gtk:devel', 'libX11:devel', 'libXrender:devel', 'libpng:devel', 'pango:devel', 'pkgconfig:devel', 'zlib:devel']
 
    def unpack(r):
	r.addArchive('http://devaux.fabien.free.fr/flux/')
	r.Replace('@', '#', 'src/Makefile.in', lines=648)
	r.Replace('@', '#', 'src/Makefile.in', lines=649)
	r.Replace('@', '#', 'src/Makefile.in', lines=650)
	r.Replace('datadir', 'DESTDIR)/$(datadir', 'src/Makefile.in', lines=652)
	r.Replace('datadir', 'DESTDIR)/$(datadir', 'src/Makefile.in', lines=653)
	r.Symlink('%(bindir)s/fluxconf', '%(bindir)s/fluxkeys')
	r.Symlink('%(bindir)s/fluxconf', '%(bindir)s/fluxbare')
	r.Symlink('%(bindir)s/fluxconf', '%(bindir)s/fluxmenu')
