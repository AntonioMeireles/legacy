#
# Copyright (c) 2004 Specifix, Inc.
# All rights reserved
#

loadRecipe('gnomepackage.recipe', label='conary.specifix.com@spx:devel')
class GnomeSession(GnomePackageRecipe):
    
    buildRequires = [ 'glib:devel', 'gtk:devel', 'libgnome:devel',
                      'libgnomeui:devel', 'libbonobo:devel',
                      'libbonoboui:devel', 'gnome-vfs:devel',
                      'usermode:runtime', 'esound:devel' ]

    name = 'gnome-session'
    version = '2.9.4'
    
    extraConfig = '--with-halt-command=%(bindir)s/poweroff '\
                  '--with-reboot-command=%(bindir)s/reboot'

    def unpack(r):
	GnomePackageRecipe.unpack(r)
	r.addPatch('startup.patch')
	r.addSource('gnome-splash.png', dir='gnome-session')
