#
# Copyright (c) 2005-2006 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('xorgcpackage.recipe')
class Mkfontdir(XorgCPackageRecipe):
    name = 'mkfontdir'
    version = '1.0.3'
    component = 'app'

    def setup(r):
        XorgCPackageRecipe.setup(r)

        r.Requires('mkfontscale:runtime', '%(bindir)s/mkfontdir')
        r.Requires('chkfontpath:runtime', '%(taghandlerdir)s/x-font')
        r.Requires('ttmkfdir:runtime', '%(taghandlerdir)s/x-font')

    def unpack(r):
        XorgCPackageRecipe.unpack(r)

        r.addSource('x-font.tagdescription', macros=True,
                    dest='%(tagdescriptiondir)s/x-font')
        r.addSource('x-font.taghandler', macros=True,
                    dest='%(taghandlerdir)s/x-font', mode=0755)
