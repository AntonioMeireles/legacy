#
# Copyright (c) 2007-2008 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class PINEntry(AutoPackageRecipe):
    name = 'pinentry'
    version = '0.7.2'

    buildRequires = [ 'install-info:runtime', 'libcap:devel',
        'ncurses:devel', ]

    def unpack(r):
        # FIXME: enable key verification
        r.addArchive('ftp://ftp.gnupg.org/gcrypt/%(name)s/') #, keyid='57548DCD')

    def configure(r):
        # Ensure minimal deps--specifically, no X deps.
        r.Configure('--disable-pinentry-gtk2 --disable-pinentry-qt')
