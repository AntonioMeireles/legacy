class DepotTools(PackageRecipe):
    name = 'depot_tools'
    rev = '106899'
    version = '1.0' + '_' + rev


    buildRequires = ['python:devel', 'pylint:python', 'simplejson:python',]

    def setup(r):
        r.addSvnSnapshot('http://src.chromium.org/svn/trunk/tools/depot_tools',
                         revision = r.rev)
        r.MakeDirs('%(destdir)s/opt/google/depot_tools')
        r.Install('*', '%(destdir)s/opt/google/depot_tools')
        r.Requires(exceptions='cpplint.py')
        r.NormalizeInterpreterPaths(exceptions = '/opt/google/depot_tools/create-chromium-git-src')

        # XXX conary shouldn't let this pass in 1st place
        # we 're getting this ....
        #  'python\:\ os\(2\.4\ 2\.6\ lib64\)')
        r.Requires(exceptDeps=r'python\:\ collections.*')
        r.Requires(exceptDeps=r'python\:\ os.*') 
        r.Requires(exceptDeps=r'python\:\ re.*')
        r.Requires(exceptDeps=r'python\:\ types.*')
        r.Requires(exceptDeps=r'python\:\ unittest.*') 
