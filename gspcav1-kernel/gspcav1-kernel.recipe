

loadSuperClass('kernelmodulepackage.recipe', label='drivers.rpath.org@rpl:devel')
class GSPCAv1Kernel(KernelModulePackageRecipe):
    name = 'gspcav1-kernel'
    version =  '20071224'

    buildRequires = [ 'kernel:build-tree']

    def unpack(r):
        r.addArchive('http://mxhaard.free.fr/spca50x/Download/gspcav1-%(version)s.tar.gz')
        r.Replace('`uname -r`', '%(kver)s', 'Makefile')

	r.Make()
        r.Install('gspca.ko', '/lib/modules/%(kver)s/kernel/drivers/usb/media/', mode = 0644)

