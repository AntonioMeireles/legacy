class Gnuchess(CPackageRecipe):

    name = "gnuchess"
    version = "5.07"

    buildRequires = [ 'zlib:devel',
        	      'ncurses:devel',
		      'flex:runtime', 
		      'readline:devel']


    def setup(r):
        r.addArchive('http://ftp.gnu.org/pub/gnu/chess/%(name)s-%(version)s.tar.gz')
	r.Move('src/input.c','src/input.c_back')
        r.Run('cat src/input.c_back | sed "s/static pthread_t input_thread/pthread_t input_thread/g" >> src/input.c')
        r.Configure()
	r.Make()
        r.MakeInstall()


