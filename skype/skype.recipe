#
# Copyright (c) 2004-2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('binarypackage=conary.rpath.com@rpl:devel')
class Skype(BinaryPackageRecipe):

    buildRequires = [ 'desktop-file-utils:runtime', 'gtk:runtime' ]

    name = 'skype'
    version = '2.0.0.27'

    def unpack(r):

        r.addArchive('http://download.skype.com/linux/')

        files = [
            ('skype', '%(bindir)s/'),
            ('skype.desktop', '%(datadir)s/applications/'),
            ('skype.conf', '%(sysconfdir)s/dbus-1/system.d/'),
            ('icons/SkypeBlue_48x48.png', '%(datadir)s/icons/skype.png'),
            ('{avatars,lang,sounds}', '%(datadir)s/skype/'),
            ('{LICENSE,README}', '%(thisdocdir)s/')
        ]
        for file in files:
            r.Install(*file)

