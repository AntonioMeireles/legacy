#
# Copyright (c) 2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('gnomepackage.recipe')
class FSpot(GnomePackageRecipe):
    name = 'f-spot'
    version = '0.3.4'
    buildRequires = [ 'GConf:runtime', 'desktop-file-utils:runtime', 'gnome-sharp:devellib', 'gnome-sharp:lib', 'gphoto-suite:devellib', 'gtk-sharp:devellib', 'gtk-sharp:lib', 'gtk:devellib', 'lcms:devel', 'libexif:devel', 'libgnome:devellib', 'libgnomeui:devel', 'libjpeg:devel', 'libusb:devellib', 'mono:devel', 'mono:lib', 'mono:runtime', 'scrollkeeper:runtime' ]

    def unpack(r):
        GnomePackageRecipe.unpack(r)
        r.addSource('f-spot_migrate.sh', dir='%(datadir)s/%(name)s/', mode=0755)
        #Apply patch to make background black http://bugzilla.gnome.org/show_bug.cgi?id=348423
        r.addPatch('black.patch')
        r.Environment('MONO_SHARED_DIR', '/tmp')
