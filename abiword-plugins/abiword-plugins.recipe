#
# Copyright (c) 2007 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class AbiwordPlugins(AutoPackageRecipe):
    name = 'abiword-plugins'
    version = '2.5.2'
 
    buildRequires = ['aiksaurus:devel','GConf:devel', 'ORBit2:devel',
'atk:devel', 'boost:devel', 'cairo:devel', 'esound:devel', 'expat:devel', 'flex:runtime',
'fontconfig:devel', 'freetype:devel', 'fribidi:devel', 'gail:devel',
'glib:devel', 'gnome-keyring:devel', 'gnome-vfs:devel', 'gtk:devel',
'libICE:devel', 'libSM:devel', 'libX11:devel', 'libXau:devel',
'libXdmcp:devel', 'libXft:devel', 'libXrender:devel', 'libart_lgpl:devel',
'libbonobo:devel', 'libbonoboui:devel', 'libglade:devel', 'libgnome:devel',
'libgnomecanvas:devel', 'libgnomeprint:devel', 'libgnomeprintui:devel',
'libgnomeui:devel', 'libgsf:devel', 'libjpeg:devel', 'libpng:devel',
'librsvg:devel', 'libstdc++:devel', 'libtermcap:devel', 'libwmf:devel',
'libxml2:devel', 'pango:devel', 'pkgconfig:devel', 'poppler:runtime',
'popt:devel', 'psiconv:devel', 'readline:devel', 'zlib:devel']
 
    def unpack(r):
        r.addArchive('http://www.abisource.com/downloads/abiword/%(version)s/source/')
        r.addArchive('http://www.abisource.org/downloads/abiword/%(version)s/source/abiword-%(version)s.tar.gz',
                     dir='./')

        # We disable all plugins to be able to 
        # just enable those plugins we want or that do not break build.
    def configure(r):
        r.Configure(' --disable-all --with-abiword=../abiword-%(version)s' 
    
                # The Abi* Plugins:
                    ' --enable-abicommand' 
                    ' --enable-abicapi' 
                    #' --enable-abicollab' # disable because incompatible
                    # with 2.6 version.
                    ' --enable-abidash'     
                    ' --enable-abigimp'     
                    ' --enable-abigoffice'
                    ' --enable-abigochart'
                    ' --enable-abigrammar'
                    ' --enable-aiksaurus'
                    ' --enable-abimathview'
                    ' --enable-abiscan'

                # Graphics Plugins
                    ' --enable-bmp'
                    ' --enable-jpeg'
                    ' --enable-librsvg'
                    ' --enable-wmf'     # view Windows Metafiles
   
                # File Format Plugins
                    ' --enable-t602' # T602 files
                    ' --enable-bz2abw'             
                    #' --enable-docbook'
                    ' --enable-coquille' # Docbook Extensions
                    ' --enable-eml'    # MS Outlook Email files
                    ' --enable-html' 
                    ' --enable-kword'
                    ' --enable-mswrite'
                    ' --enable-nroff'  # Nroff/Man file format
                    ' --enable-OpenDocument'
                    ' --enable-OpenWriter' # OpenOffice.org
                    ' --enable-OpenXML'
                    ' --enable-pdf'    # PDF Creation
                    ' --enable-psion'  # Psion files
                    ' --enable-sdw'    # Import StarOffice 5.x files
                    ' --enable-wordperfect' # Import Wordperfect files
                    ' --enable-xhtml'  # Im/Export html/multipart html
                    ' --enable-xsl-fo' # Im/Export XSL-FO

                # Database Plugins
                    ' --enable-gda' # gnome database
                    ' --enable-pdb' # palm database
 
                # Tool Plugins
                    ' --enable-babelfish'  
                    ' --enable-freetranslation' 
                    ' --enable-gdict' 
                    ' --enable-google'
                    ' --enable-shell '  # Execute shell commands
                    ' --enable-urldict' # Web URL based dictionary
                    ' --enable-wikipedia'

                # Misc Plugins (unknown purpose,...)
                    ' --enable-gnome'
                    ' --enable-hrtext' # Export text with "newsgroup" markup
                    ' --enable-ots'    # Create document summaries
                    ' --enable-presentation' # Presentation plugin
                                             # http://msevior.livejournal.com/16244.html
                    )
