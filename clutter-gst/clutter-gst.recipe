#
# Copyright (c) 2008 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('gnomepackage')
class ClutterGtk(GnomePackageRecipe):

    name = 'clutter-gst'
    version = '0.8.0'
    externalArchive = 'http://www.clutter-project.org/sources/%(name)s/0.8/%(name)s-%(version)s.tar.gz'

    buildRequires = [ 'Mesa:devel', 'clutter:devel', 'expat:devel', 'gst-plugins-base:devel', 'gstreamer:devel' ]

    if Arch.x86_64:
        def build(r):
            r.Configure()
            r.Replace('\-L\/usr\/lib ','-L%(libdir)s ', 'Makefile')
            r.Replace('\-L\/usr\/lib ','-L%(libdir)s ', 'clutter-gst/Makefile')
            r.Replace('\-L\/usr\/lib ','-L%(libdir)s ', 'examples/Makefile')
            r.Make()

