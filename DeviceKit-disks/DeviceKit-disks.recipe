
loadSuperClass('rpmpackage')
class DeviceKitDisks(RPMPackageRecipe,AutoPackageRecipe):
    buildRequires = [ 'dbus-glib:devel', 'dbus:devel', 'glib:devel', 'libxslt:runtime', 'pkgconfig:devel', 'udev:devel', 'DeviceKit:devel', 'PolicyKit:devel', 'gettext:runtime', 'intltool:runtime', 'libusb:devel', 'sg3_utils:devel', 'parted:devel', 'device-mapper:devel', 'udev:devel']

    name = "DeviceKit-disks"
    version = '007'
    rpmRelease = '1.fc12'

    # FIXME pkg libatasmart and add it as a buildReq

    def configure(r):
        r.Replace('-Werror', '', 'configure')
        # FIXME: get manpages generation to work inside mooks
        r.Configure('--disable-gtk-doc --disable-man-pages')

    def policy(r):
        # add runtime Requires - see RH srpm
        r.SetModes('%(sysconfdir)s/profile.d/devkit-disks-bash-completion.sh', 0644)
