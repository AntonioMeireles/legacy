#
# Copyright (c) 2004-2006 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('rpmpackage')
class FontsChinese(RPMPackageRecipe):
    name = 'fonts-chinese'
    version = '3.02'

    # cacheable-font tag description in fontconfig:runtime
    buildRequires = [ 'fontconfig:runtime' ]

    rpmRelease = '4.1.1'

    def setup(r):
        r.macros.basefontdir = '%(datadir)s/fonts/chinese/'
        r.macros.ttfontdir = '%(basefontdir)s/TrueType/'
        # FIXME: add CIDFmap entries for ghostscript
        r.macros.cidmapdir = '%(sysconfdir)s/ghostscript/'

        for font in ('bsmi00lp.ttf', 'bkai00mp.ttf', 'gbsn00lp.ttf',
                     'gkai00mp.ttf'):
            r.addSource('http://cle.linux.org.tw/fonts/Arphic/' + font,
                        dest=r.macros.ttfontdir)
        # the license file here is truncated, use the one from Fedora's RPM
        # instead.
        # r.addSource('http://cle.linux.org.tw/fonts/Arphic/arphicpl.txt')
        r.addSource('arphicpl.txt', rpm=r.srpm)
        r.Doc('*.txt')
