#
# Copyright (c) 2006-2010 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

#import time

loadSuperClass('python')
class ConaryPolicy(BuildPackageRecipe, Python.VersionMixIn):
    name = 'conary-policy'
    # version = time.strftime('%Y%m%d%H%M', time.localtime())
    version = '1.0.28'

    def setup(r):
        r.setDefaultPython()
        # r.addMercurialSnapshot('http://hg.rpath.com/%(name)s')
        r.addArchive('ftp://download.rpath.com/conary/')
        r.MakeInstall()
        # NOT %(libdir)s
        r.CompilePython('%(prefix)s/lib/conary/policy')
        r.Requires(bootstrapPythonFlags=('%(lib)s', '2.6'))
