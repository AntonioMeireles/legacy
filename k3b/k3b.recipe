#
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

#loadSuperClass('kdepackage')
class K3b(CPackageRecipe):

    name = 'k3b'
    version = '2.0.0'

    buildRequires = [
        'alsa-lib:devel', 'cmake:runtime', 'dbus:devel', 'ffmpeg:devel',
        'flac:devel', 'hal:devel', 'lame:devel', 'libdvdread:devel',
        'libjpeg:devel', 'libmad:devel',
        'libmusicbrainz:devel', 'libogg:devel', 'libsamplerate:devel',
        'libsndfile:devel', 'libvorbis:devel', 'taglib:devel',
	'gcc-c++:runtime', 'automoc:runtime', 'desktop-file-utils:runtime',
	'fontconfig:devel', 'freetype:devel', 'gettext:runtime', 'glib:devel',
	'kdelibs:config', 'kdelibs:devel', 'libICE:devel', 'libSM:devel',
	'libXScrnSaver:devel', 'libXcomposite:devel', 'libXcursor:devel',
	'libXdamage:devel', 'libXft:devel', 'libXi:devel', 'libXinerama:devel',
	'libXpm:devel', 'libXrandr:devel', 'libXrender:devel', 'libXt:devel',
	'libXtst:devel', 'libXv:devel', 'libXxf86misc:devel', 'libkcddb:devel',
	'libpng:devel', 'libxkbfile:devel', 'openssl:devel', 'phonon:devel',
	'pkgconfig:devel', 'qt4-core:devellib', 'qt4-gui:devellib',
	'qt4-qt3support:devellib', 'qt4:devel', 'shared-mime-info:runtime',
	'sound-theme-freedesktop:runtime' ]

    def setup(r):

        r.addArchive('mirror://sourceforge/k3b/')
        r.CMake()
        r.Make()
        r.MakeInstall()

    def policy(r):

        r.Requires('cdrdao:runtime', '%(bindir)s/')
        r.Requires('dvd+rw-tools:runtime', '%(bindir)s/')

