#
# Copyright (c) 2004-2005 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('kdepackage=conary.rpath.com@rpl:devel')
class K3b(KdePackageRecipe):

    name = 'k3b'
    version = '0.12.17'

    buildRequires = [
        'acl:devel', 'alsa-lib:devel', 'arts:devel', 'attr:devel',
        'dbus-qt:devel', 'dbus:devel', 'desktop-file-utils:runtime',
        'flac:devel', 'flac:runtime', 'fontconfig:devel', 'gamin:devel',
        'gtk:runtime', 'hal:devel', 'kdelibs:runtime', 'libidn:devel',
        'libjpeg:devel', 'libmusicbrainz:devel', 'libogg:devel',
        'libsamplerate:devel', 'libsndfile:devel', 'libstdc++:devel',
        'libvorbis:devel', 'pkgconfig:devel', 'taglib:devel', 'xorg-x11:devel'
    ]

    extraConfig = '--without-lame  --without-libmad --without-ffmpeg'

    def unpack(r):

        r.addArchive('mirror://sourceforge/k3b/')

    def policy(r):

        r.CheckSonames(exceptions='%(libdir)s/libk3b.*plugin.so')

        r.Requires('cdrdao:runtime', '%(bindir)s/')
        r.Requires('dvd+rw-tools:runtime', '%(bindir)s/')

