#
# Copyright (c) 2004-2006 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadSuperClass('binarypackage=conary.rpath.com@rpl:devel')
class OpenOffice(BinaryPackageRecipe):
    name = 'openoffice.org'
    version = '2.0.3'

    buildRequires = [ 'desktop-file-utils:runtime', 'gtk:runtime', 'perl:lib',
        'shared-mime-info:runtime', 'PyXML:python', ]

    def unpack(r):
        # From http://www.openoffice.org
        rpms = [ 'openoffice.org-base-2.0.3-7.i586.rpm', 
                'openoffice.org-core05u-2.0.3-7.i586.rpm', 
                'openoffice.org-graphicfilter-2.0.3-7.i586.rpm', 
                'openoffice.org-calc-2.0.3-7.i586.rpm', 
                'openoffice.org-core06-2.0.3-7.i586.rpm', 
                'openoffice.org-impress-2.0.3-7.i586.rpm', 
                'openoffice.org-core01-2.0.3-7.i586.rpm', 
                'openoffice.org-core07-2.0.3-7.i586.rpm', 
                'openoffice.org-javafilter-2.0.3-7.i586.rpm', 
                'openoffice.org-core02-2.0.3-7.i586.rpm', 
                'openoffice.org-core08-2.0.3-7.i586.rpm', 
                'openoffice.org-math-2.0.3-7.i586.rpm', 
                'openoffice.org-core03-2.0.3-7.i586.rpm', 
                'openoffice.org-core09-2.0.3-7.i586.rpm', 
                'openoffice.org-pyuno-2.0.3-7.i586.rpm', 
                'openoffice.org-core03u-2.0.3-7.i586.rpm', 
                'openoffice.org-core10-2.0.3-7.i586.rpm', 
                'openoffice.org-testtool-2.0.3-7.i586.rpm', 
                'openoffice.org-core04-2.0.3-7.i586.rpm', 
                'openoffice.org-draw-2.0.3-7.i586.rpm', 
                'openoffice.org-writer-2.0.3-7.i586.rpm', 
                'openoffice.org-core04u-2.0.3-7.i586.rpm', 
                'openoffice.org-emailmerge-2.0.3-7.i586.rpm', 
                'openoffice.org-xsltfilter-2.0.3-7.i586.rpm', 
                'openoffice.org-core05-2.0.3-7.i586.rpm', 
                'openoffice.org-gnome-integration-2.0.3-7.i586.rpm',
                'openoffice.org-freedesktop-menus-2.0.3-2.noarch.rpm' ]


        for rpm in rpms:
            r.addArchive('http://people.rpath.com/~smithj/openoffice-binary/%s'%rpm, dir='/')

        r.Symlink('/opt/openoffice.org2.0','%(sysconfdir)s/openoffice.org-2.0')

        r.Requires(exceptDeps=r'soname\:\ ELF32\/libXaw\.so\.7\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libagg680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libavmedia680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libbasegfx680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libbf\_ofa680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libbf\_svx680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libbf\_xo680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libcanvastools680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libcommuni680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libcomphelp4gcc3\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libcppcanvas680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libcrypto\.so\.0\.9\.6\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libdb\-3\.1\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libdbtools680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libembobj\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libfile680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libfwe680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libfwi680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libgo680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libhunspell\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libi18nisolang1gcc3\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libi18nregexpgcc3\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libi18nutilgcc3\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libj680li\_g\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libjawt\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libkabc\.so\.1\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libkdecore\.so\.4\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libkdeui\.so\.4\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/liblng680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libodbcbase2\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libpyuno\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libsb680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libsc680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libsd680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libsfx680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libsimplecm680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libso680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libsot680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libspa680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libssl\.so\.0\.9\.6\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libstlport\_gcc\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libsvl680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libsvt680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libsvx680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libsw680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libtk680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libtl680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libucbhelper3gcc3\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libutl680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libvcl680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libvclplug\_gen680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libvos3gcc3\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libxcr680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'soname\:\ ELF32\/libxo680li\.so\(SysV\ x86\)')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.awt\.ActionEvent')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.awt\.Rectangle')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.awt\.XActionListener')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.awt\.XButton')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.awt\.XControl')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.awt\.XControlContainer')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.awt\.XDialog')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.awt\.XDialogProvider')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.awt\.XTextComponent')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.beans\.PropertyState')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.beans\.PropertyValue')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.beans\.PropertyVetoException')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.beans\.UnknownPropertyException')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.beans\.XPropertySet')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.chart\.XChartDocument')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.chart\.XDiagram')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.container\.XIndexAccess')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.container\.XNameAccess')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.document\.XEmbeddedObjectSupplier')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.drawing\.XShape')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.frame\.XComponentLoader')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.frame\.XDesktop')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.frame\.XModel')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.lang\.IllegalArgumentException')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.lang\.WrappedTargetException')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.lang\.XComponent')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.lang\.XMultiComponentFactory')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.lang\.XMultiServiceFactory')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.script\.XLibraryContainer')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.script\.provider\.XScriptContext')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.sheet\.XCellRangeAddressable')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.sheet\.XSpreadsheet')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.sheet\.XSpreadsheetDocument')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.sheet\.XSpreadsheets')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.table\.CellRangeAddress')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.table\.XCell')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.table\.XCellRange')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.table\.XTableChart')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.table\.XTableCharts')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.table\.XTableChartsSupplier')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.text\.XText')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.text\.XTextDocument')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.text\.XTextRange')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.uno\.AnyConverter')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.uno\.Exception')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.uno\.Type')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.uno\.UnoRuntime')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.uno\.XComponentContext')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.util\.XMacroExpander')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.util\.XPropertyReplace')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.util\.XReplaceDescriptor')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.util\.XReplaceable')
        r.Requires(exceptDeps=r'java\:\ com\.sun\.star\.util\.XSearchDescriptor')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.ConvertData')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.ConvertException')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.ConverterCapabilities')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.Document')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.DocumentDeserializer')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.DocumentDeserializerFactory')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.DocumentMerger')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.DocumentMergerFactory')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.DocumentSerializer')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.DocumentSerializerFactory')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.MergeException')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.palm\.PalmDB')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.palm\.PalmDocument')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.palm\.PdbUtil')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.palm\.Record')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.xml\.OfficeConstants')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.xml\.ParaStyle')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.xml\.Style')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.xml\.StyleCatalog')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.xml\.TextStyle')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.xml\.sxc\.BookSettings')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.xml\.sxc\.ColumnRowInfo')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.xml\.sxc\.DocumentMergerImpl')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.xml\.sxc\.Format')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.xml\.sxc\.NameDefinition')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.xml\.sxc\.SheetSettings')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.xml\.sxc\.SpreadsheetDecoder')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.xml\.sxc\.SpreadsheetEncoder')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.xml\.sxc\.SxcDocument')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.xml\.sxc\.SxcDocumentDeserializer')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.xml\.sxc\.SxcDocumentSerializer')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.xml\.sxc\.SxcPluginFactory')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.xml\.sxw\.SxwDocument')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.converter\.xml\.sxw\.SxwPluginFactory')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.merger\.DiffAlgorithm')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.merger\.Difference')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.merger\.Iterator')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.merger\.NodeMergeAlgorithm')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.merger\.diff\.IteratorLCSAlgorithm')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.merger\.diff\.ParaNodeIterator')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.merger\.merge\.CharacterBaseParagraphMerge')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.merger\.merge\.DocumentMerge')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.util\.ColourConverter')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.util\.Debug')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.util\.EndianConverter')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.util\.OfficeUtil')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.util\.Resources')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.util\.XmlUtil')
        r.Requires(exceptDeps=r'java\:\ org\.openoffice\.xmerge\.util\.registry\.ConverterInfo')

