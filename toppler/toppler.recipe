# Gil Hamlin
# 2coolforschool@gmail.com
# 7th April 2005

class toppler(PackageRecipe):
    buildRequires = [ "glibc:devel", "SDL:devel", "SDL_mixer:devel",
                      "zlib:lib", "desktop-file-utils:runtime" ]
    name = "toppler"
    version = "1.1.1"

    def setup(r):
        r.addArchive('http://heanet.dl.sourceforge.net/sourceforge/%(name)s/%(name)s-%(version)s.tar.gz')
        r.Configure()
        r.Make()
        r.MakeInstall()

#       Remove the default Toppler .desktop file as it's not great

        r.Remove ('toppler.desktop')

#       GIL - the above line works, it removes the desktop icon

#       Our version is much better :)

        r.addSource('topplr.desktop')
        r.Desktopfile('topplr.desktop')

#       GIL - but the next two lines don't work! All they do is add the removed desktop icon and not our version!

#       Here are the docs

        r.Doc('AUTHORS', 'COPYING', 'NEWS', 'README', 'VERSION')
