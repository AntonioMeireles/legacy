loadSuperClass('gnomepackage.recipe')
loadInstalled('mozilla', label='conary.rpath.com@rpl:1')

class totem(GnomePackageRecipe):

    buildRequires = ['GConf:devel', 'ORBit2:devel', 'atk:devel',
        'cairo:devel', 'dbus:devel', 'fontconfig:devel',
        'freetype:devel', 'gcc:devel', 'glib:devel',
        'gnome-desktop:devel', 'gnome-keyring:devel',
        'gnome-vfs:devel', 'gstreamer:devel',
        'libart_lgpl:devel', 'libbonobo:devel', 'libbonoboui:devel',
        'libglade:devel', 'libgnome:devel', 'libgnomecanvas:devel',
        'libgnomeui:devel', 'libmusicbrainz:devel', 'libpng:devel',
        'libxml2:devel', 'nautilus:devel', 'pango:devel', 'popt:devel',
        'startup-notification:devel','mozilla:devel','mozilla-nspr:devel',
        'dbus-glib:devellib', 'libstdc++:devel', 'lirc:devel',
        'gst-plugins-base:devel', 'GConf:runtime', 'dbus-glib:runtime',
        'desktop-file-utils:runtime', 'gettext:runtime', 'perl:runtime',
        'scrollkeeper:runtime']

    name = 'totem'
    version = '1.5.90'

    extraConfig = GnomePackageRecipe.extraConfig
    extraConfig += ' --enable-gstreamer=0.10 --disable-nvtv --disable-schemas-install --enable-mozilla --enable-nautilus --with-dbus --disable-lirc'


    def build(r):
        r.macros.mozver = Mozilla.version
        r.macros.mozilladir = 'mozilla-%(mozver)s'
        r.Requires(rpath='%(libdir)s/%(mozilladir)s')
        GnomePackageRecipe.build(r)
