class bmpx(PackageRecipe):
    name = 'bmpx'
    version = '0.36.1'
 
    buildRequires = [
			'alsa-lib:devel',
			'binutils:runtime',
			'boost:devel',
			'cdparanoia:devel',
			'dbus-glib:devel',
			'desktop-file-utils:runtime',
			'expat:devel',
			'fontconfig:devel',
			'freetype:devel',
			'gamin:devel',
			'gettext:runtime',
			'glibc:devel',
			'gst-plugins-base:devel',
			'gstreamer:devel',
			'gtk:runtime',
			'krb5:devel',
			'libICE:devel',
			'libSM:devel',
			'libX11:devel',
			'libXrender:devel',
			'libgcc:devellib',
			'libglademm:devel',
			'libmusicbrainz:devel',
			'libsigc++:devel',
			'libstdc++:devel',
			'neon:devel',
			'openssl:devel',
			'perl:runtime',
			'pkgconfig:devel',
			'taglib:devel',
			'zip:runtime',
			'zlib:devel',
			'atk:devel',
			'cairo:devel',
			'cairomm:devel',
			'glib:devel',
			'glibmm:devel',
			'gtk:config',
			'gtk:devel',
			'gtkmm:devel',
			'libglade:devel',
			'librsvg:devel',
			'libxml2:devel',
			'pango:devel',
			'startup-notification:devel'
			]

    def setup(r):
	r.macros.cflags += ' -L%(krbprefix)s/%(lib)s -I%(krbprefix)s/include '
       	r.addArchive('http://files.beep-media-player.org/releases/0.36/%(name)s-%(version)s.tar.bz2')
       	r.Configure('--prefix=/usr --enable-amazon')
#	r.Replace('\$\(LN_S\) -f', 'echo', 'src/Makefile')
       	r.Make()
	r.MakeInstall()
	r.Symlink('%(bindir)s/beep-media-player-2', '%(bindir)s/bmp2')
#	r.Move('%(datadir)s/libhrel/examples/hrel-demo', '%(bindir)s')
#	r.ImproperlyShared(exceptions="%(datadir)s/libhrel/examples/.*")
