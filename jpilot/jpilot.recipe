#
# Copyright (c) 2005-2008, rPath, Inc.
# This file is distributed under the terms of the MIT License
# For a copy visit http://www.rpath.com/permanent/mit-license.html
#

class JPilot(AutoPackageRecipe):

    name = "jpilot"
    version = "0.99.9"

    buildRequires = ['binutils:runtime', 
        'desktop-file-utils:runtime', 
        'expat:devel', 
        'gettext:runtime', 
        'gtk:devel', 
        'make:runtime', 
        'openssl:devel', 
        'perl-XML-Parser:perl', 
        'pilot-link:devel', 
        'pkgconfig:devel', 
        'zlib:devel']

    def unpack(r):
        r.addArchive('http://jpilot.org/jpilot-%(version)s.tar.gz')

        # For x86_64, disable check for pilot-link libraries
        # (autoconf doesn't look in */lib64, so it's not found)

        r.addPatch('autoconf-hack.patch', use=Arch.x86_64)
