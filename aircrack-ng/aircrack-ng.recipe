#
# Copyright (c) 2009 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class AircrackNg(CPackageRecipe):
    name = 'aircrack-ng'
    version = '1.0.rc2'

    buildRequires = ['openssl:devel', 'zlib:devel']

    def setup(r):
        r.macros.rc = r.version.split(".")[2] # Obtain [ '1','0','rc2']
        r.macros.majorversion = r.version.split('.'+r.macros.rc)[0] # obtain  ['1.0','']
        r.addArchive("http://download.aircrack-ng.org/aircrack-ng-%(majorversion)s-%(rc)s.tar.gz")
        r.Make(' SQLITE=True')
        r.MakeInstall(
            ' DESTDIR=%(destdir)s prefix=%(prefix)s bindir=%(bindir)s  SQLITE=True mandir=%(mandir)s '
            ' sbindir=%(sbindir)s'
        )
