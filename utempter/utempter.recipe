#
# Copyright (c) 2004-2006 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Utempter(CPackageRecipe):
    name = 'utempter'
    version = '0.5.5'

    def setup(r):
        srpm = 'http://download.fedora.redhat.com/pub/fedora/linux/core/5/source/SRPMS/utempter-0.5.5-7.2.1.src.rpm'
        r.addArchive('%(name)s-%(version)s.tar.gz', rpm=srpm)

        r.Make()
        r.MakeInstall('RPM_BUILD_ROOT=%(destdir)s PREFIX=%(destdir)s'
                      ' LIBDIR=%(libdir)s install')
        r.SetModes('%(sbindir)s/utempter', 02755)
        r.Ownership('root', 'utmp', '%(sbindir)s/utempter')
        # /var/log/wtmp, /var/run/utmp are owned by initscripts
