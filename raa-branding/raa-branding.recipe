#
# Copyright (c) 2006-2007 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

loadInstalled('python', 'conary.rpath.com@rpl:1')
class rAABranding(BuildPackageRecipe):

    buildRequires = [ 'CherryPy:python', 'TurboGears:python',
        'kid:python', 'kid:runtime', 'python-setuptools:python',
        'xmlto:runtime', 'raa:python' ]

    name = 'raa-branding'
    version = '2.1.0'

    def setup(r):
        r.macros.protocolVersion = '2.1_2'
        r.addArchive('ftp://download.rpath.com/raa/%(name)s-%(version)s.tar.bz2')
        r.MakeInstall(installtarget="branding-install")

        # This is a kid template--Conary doesn't see TurboGears provides it.
        r.Requires(exceptDeps="""python: turbogears\.view\.templates\.sitetemplate""")
        r.ComponentProvides('%(protocolVersion)s')
