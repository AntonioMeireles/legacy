#
# Copyright (c) 2010 Foresight Linux
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class Vtg(AutoPackageRecipe):
    name = 'vtg'
    revision = '0f6cbeb'
    version = '0.11.1+' + revision
 
    buildRequires = ['GConf:devel', 
                    'autoconf:runtime',
                    'automake:runtime',
                    'atk:devel', 
                    'cairo:devel', 
                    'fontconfig:devel', 
                    'freetype:devel', 
                    'gedit:devel',
                    'gettext:runtime', 
                    'glib:devel', 
                    'gnome-common:runtime',
                    'gtk-doc:runtime', 
                    'gtk-doc:devel',
                    'gtk:devel', 
                    'gtksourceview:devel', 
                    'intltool:runtime', 
                    'libtool:runtime',
                    'pango:devel', 
                    'pkgconfig:devel', 
                    'vala:devel', 
                    'vala:runtime'
                        ]
 
    def unpack(r):
        r.addGitSnapshot('git://gitorious.org/vala-toys/vala-toys.git', tag='0f6cbeb')
        r.disableParallelMake()

    def configure(r):
        r.Configure(' --datadir=%(datadir)s/gedit-2/plugins/', configureName='./autogen.sh')
        
    def policy(r):
        r.Requires('gedit:runtime', '%(datadir)s/gedit-2/plugins/.*')
