# Gil Hamlin
# gil@foresightlinux.com
# 14th August 2005

loadRecipe('gnomepackage.recipe')
class gDesklets(GnomePackageRecipe):
    buildRequires = [ 'glibc:devel', 'GConf:devel', 'ORBit2:devel', 'atk:devel',
        'cairo:devel', 'fontconfig:devel', 'freetype:devel', 'glib:devel',
        'gnome-keyring:devel', 'gnome-vfs:devel', 'libart_lgpl:devel',
        'libbonobo:devel', 'libbonoboui:devel', 'libgnome:devel',
        'libgnomecanvas:devel', 'libgnomeui:devel', 'libgtop:devel',
        'libpng:devel', 'librsvg:devel', 'libxml2:devel', 'pango:devel',
        'popt:devel', 'shared-mime-info:runtime', 'desktop-file-utils:runtime',
        'gettext:runtime', 'gnome-python-desktop:python', 'gnome-python:python',
        'gtk:runtime', 'perl:runtime', 'pygobject:python', 'pygtk:python' ]

    name = "gDesklets"
    version = "0.35.3"

    def setup(r):
        r.addArchive('http://gdesklets.org/downloads/%(name)s-%(version)s.tar.bz2')
        r.Requires('gnome-python-extras:python', '%(bindir)s/')
        r.Configure()
        r.Make()
        r.MakeInstall()

#       Here are the docs

        r.Doc('AUTHORS', 'COPYING', 'INSTALL', 'NEWS', 'README', 'TODO')

        r.Remove('%(datadir)s/mime/aliases')
        r.Remove('%(datadir)s/mime/subclasses')
        r.Remove('%(datadir)s/applications/mimeinfo.cache')
        r.Remove('%(datadir)s/mime/XMLnamespaces')
        r.Remove('%(datadir)s/mime/globs')
        r.Remove('%(datadir)s/mime/magic')
